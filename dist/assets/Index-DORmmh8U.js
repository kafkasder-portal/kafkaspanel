const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/RechartsBundle-Bu7qtoeh.js","assets/index-JhQGfP3r.js","assets/index-DO1akF_9.css","assets/PieChart-B-59q0s4.js","assets/useSwipeGestures-Tf7Alyqm.js","assets/trending-down-mje6Xvoe.js","assets/input-B8GNq3eI.js","assets/tabs-BeOvMTD5.js","assets/jspdf.plugin.autotable-Cb0Hj5Ka.js","assets/eye-Bcuk08KK.js","assets/LineChart-DUN2LD1y.js","assets/pie-chart-H9BvlPdx.js","assets/qr-code-B30iB-_1.js","assets/pen-square-BZRlDdvk.js","assets/leaflet-BdfIzUst.js","assets/leaflet-Dgihpmma.css"])))=>i.map(i=>d[i]);
var fs=Object.defineProperty;var gs=(s,t,a)=>t in s?fs(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a;var V=(s,t,a)=>gs(s,typeof t!="symbol"?t+"":t,a);import{v as zt,R as O,a6 as We,r as g,j as e,h as vs,i as be,T as ce,z as W,Z as Ae,ab as Ce,k as lt,_ as ys,a7 as je,C as z,O as Ge,c as C,ac as bs,a4 as js,X as fe,ad as Pt,I as Re,ae as Ns,Y as Je,m as ot,af as ct,ag as ws,ah as He,ai as ks,aj as Tt,ak as Ss,a3 as pe,al as As,g as Be,am as ie,an as ne,ao as re,ap as le,aq as D,n as Cs,ar as Os,as as zs,o as Ps,e as et,t as tt,$ as Ee,S as Ts,s as _s,B as Ds,b as Es,at as Ms,d as st}from"./index-JhQGfP3r.js";import{u as Rs}from"./useSwipeGestures-Tf7Alyqm.js";import{T as _t}from"./trending-down-mje6Xvoe.js";import{I as R}from"./input-B8GNq3eI.js";import{u as Bs,P as Ls,a as Fs,c as gt,T as Dt,b as Et,d as H,e as X}from"./tabs-BeOvMTD5.js";import{E as $s,a as Is,u as U,b as Ks,F as Ws}from"./jspdf.plugin.autotable-Cb0Hj5Ka.js";import{E as vt}from"./eye-Bcuk08KK.js";import{d as Y,L as I,q as Oe,r as ae,e as Me,A as Mt,g as $,j as Z,s as Gs,h as at,k as Hs,l as Rt,u as Bt,i as Le,G as Lt,m as oe,n as Fe,D as Ys,S as yt,t as qs,v as Vs,f as Ft,E as Us,w as Qs,c as $t,o as It,X as he,Y as xe,p as Kt,a as dt,R as Ne,C as Ye,T as we,x as ke,P as Xs,b as Zs,B as Js}from"./PieChart-B-59q0s4.js";import{a as mt,L as ea}from"./LineChart-DUN2LD1y.js";import{P as Wt}from"./pie-chart-H9BvlPdx.js";import{Q as ta}from"./qr-code-B30iB-_1.js";import{P as Gt}from"./pen-square-BZRlDdvk.js";import{u as sa,c as Ht,l as Yt,b as qt,e as Vt,M as aa,T as ia,a as na,P as Xe,L as ut}from"./leaflet-BdfIzUst.js";const ra=zt("Grid",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15",key:"o2sbyz"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}],["line",{x1:"15",x2:"15",y1:"3",y2:"21",key:"1hpv9i"}]]),la=zt("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);function oa(s,t,a){t.center!==a.center&&s.setLatLng(t.center),t.radius!=null&&t.radius!==a.radius&&s.setRadius(t.radius)}function ca(){return sa().map}const da=Ht(function({center:t,children:a,...i},n){const r=new Yt.Circle(t,i);return qt(r,Vt(n,{overlayContainer:r}))},oa),ma=Ht(function({positions:t,...a},i){const n=new Yt.Polyline(t,a);return qt(n,Vt(i,{overlayContainer:n}))},function(t,a,i){a.positions!==i.positions&&t.setLatLngs(a.positions)});var ua=["layout","type","stroke","connectNulls","isRange","ref"],ha=["key"],Ut;function de(s){"@babel/helpers - typeof";return de=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},de(s)}function Qt(s,t){if(s==null)return{};var a=xa(s,t),i,n;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);for(n=0;n<r.length;n++)i=r[n],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(s,i)&&(a[i]=s[i])}return a}function xa(s,t){if(s==null)return{};var a={};for(var i in s)if(Object.prototype.hasOwnProperty.call(s,i)){if(t.indexOf(i)>=0)continue;a[i]=s[i]}return a}function se(){return se=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(s[i]=a[i])}return s},se.apply(this,arguments)}function bt(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),a.push.apply(a,i)}return a}function Q(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?bt(Object(a),!0).forEach(function(i){K(s,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):bt(Object(a)).forEach(function(i){Object.defineProperty(s,i,Object.getOwnPropertyDescriptor(a,i))})}return s}function pa(s,t){if(!(s instanceof t))throw new TypeError("Cannot call a class as a function")}function jt(s,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(s,Zt(i.key),i)}}function fa(s,t,a){return t&&jt(s.prototype,t),a&&jt(s,a),Object.defineProperty(s,"prototype",{writable:!1}),s}function ga(s,t,a){return t=$e(t),va(s,Xt()?Reflect.construct(t,a||[],$e(s).constructor):t.apply(s,a))}function va(s,t){if(t&&(de(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ya(s)}function ya(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function Xt(){try{var s=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xt=function(){return!!s})()}function $e(s){return $e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},$e(s)}function ba(s,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(t&&t.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),t&&it(s,t)}function it(s,t){return it=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,n){return i.__proto__=n,i},it(s,t)}function K(s,t,a){return t=Zt(t),t in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function Zt(s){var t=ja(s,"string");return de(t)=="symbol"?t:t+""}function ja(s,t){if(de(s)!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var i=a.call(s,t);if(de(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}var q=function(s){function t(){var a;pa(this,t);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return a=ga(this,t,[].concat(n)),K(a,"state",{isAnimationFinished:!0}),K(a,"id",Bt("recharts-area-")),K(a,"handleAnimationEnd",function(){var l=a.props.onAnimationEnd;a.setState({isAnimationFinished:!0}),Le(l)&&l()}),K(a,"handleAnimationStart",function(){var l=a.props.onAnimationStart;a.setState({isAnimationFinished:!1}),Le(l)&&l()}),a}return ba(t,s),fa(t,[{key:"renderDots",value:function(i,n,r){var l=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(l&&!o)return null;var p=this.props,c=p.dot,h=p.points,x=p.dataKey,u=Y(this.props,!1),d=Y(c,!0),v=h.map(function(b,N){var m=Q(Q(Q({key:"dot-".concat(N),r:3},u),d),{},{index:N,cx:b.x,cy:b.y,dataKey:x,value:b.value,payload:b.payload,points:h});return t.renderDotItem(c,m)}),f={clipPath:i?"url(#clipPath-".concat(n?"":"dots-").concat(r,")"):null};return O.createElement(I,se({className:"recharts-area-dots"},f),v)}},{key:"renderHorizontalRect",value:function(i){var n=this.props,r=n.baseLine,l=n.points,o=n.strokeWidth,p=l[0].x,c=l[l.length-1].x,h=i*Math.abs(p-c),x=Oe(l.map(function(u){return u.y||0}));return ae(r)&&typeof r=="number"?x=Math.max(r,x):r&&Array.isArray(r)&&r.length&&(x=Math.max(Oe(r.map(function(u){return u.y||0})),x)),ae(x)?O.createElement("rect",{x:p<c?p:p-h,y:0,width:h,height:Math.floor(x+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(i){var n=this.props,r=n.baseLine,l=n.points,o=n.strokeWidth,p=l[0].y,c=l[l.length-1].y,h=i*Math.abs(p-c),x=Oe(l.map(function(u){return u.x||0}));return ae(r)&&typeof r=="number"?x=Math.max(r,x):r&&Array.isArray(r)&&r.length&&(x=Math.max(Oe(r.map(function(u){return u.x||0})),x)),ae(x)?O.createElement("rect",{x:0,y:p<c?p:p-h,width:x+(o?parseInt("".concat(o),10):1),height:Math.floor(h)}):null}},{key:"renderClipRect",value:function(i){var n=this.props.layout;return n==="vertical"?this.renderVerticalRect(i):this.renderHorizontalRect(i)}},{key:"renderAreaStatically",value:function(i,n,r,l){var o=this.props,p=o.layout,c=o.type,h=o.stroke,x=o.connectNulls,u=o.isRange;o.ref;var d=Qt(o,ua);return O.createElement(I,{clipPath:r?"url(#clipPath-".concat(l,")"):null},O.createElement(Me,se({},Y(d,!0),{points:i,connectNulls:x,type:c,baseLine:n,layout:p,stroke:"none",className:"recharts-area-area"})),h!=="none"&&O.createElement(Me,se({},Y(this.props,!1),{className:"recharts-area-curve",layout:p,type:c,connectNulls:x,fill:"none",points:i})),h!=="none"&&u&&O.createElement(Me,se({},Y(this.props,!1),{className:"recharts-area-curve",layout:p,type:c,connectNulls:x,fill:"none",points:n})))}},{key:"renderAreaWithAnimation",value:function(i,n){var r=this,l=this.props,o=l.points,p=l.baseLine,c=l.isAnimationActive,h=l.animationBegin,x=l.animationDuration,u=l.animationEasing,d=l.animationId,v=this.state,f=v.prevPoints,b=v.prevBaseLine;return O.createElement(Mt,{begin:h,duration:x,isActive:c,easing:u,from:{t:0},to:{t:1},key:"area-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var m=N.t;if(f){var y=f.length/o.length,j=o.map(function(_,k){var w=Math.floor(k*y);if(f[w]){var A=f[w],E=$(A.x,_.x),M=$(A.y,_.y);return Q(Q({},_),{},{x:E(m),y:M(m)})}return _}),S;if(ae(p)&&typeof p=="number"){var P=$(b,p);S=P(m)}else if(Z(p)||Gs(p)){var T=$(b,0);S=T(m)}else S=p.map(function(_,k){var w=Math.floor(k*y);if(b[w]){var A=b[w],E=$(A.x,_.x),M=$(A.y,_.y);return Q(Q({},_),{},{x:E(m),y:M(m)})}return _});return r.renderAreaStatically(j,S,i,n)}return O.createElement(I,null,O.createElement("defs",null,O.createElement("clipPath",{id:"animationClipPath-".concat(n)},r.renderClipRect(m))),O.createElement(I,{clipPath:"url(#animationClipPath-".concat(n,")")},r.renderAreaStatically(o,p,i,n)))})}},{key:"renderArea",value:function(i,n){var r=this.props,l=r.points,o=r.baseLine,p=r.isAnimationActive,c=this.state,h=c.prevPoints,x=c.prevBaseLine,u=c.totalLength;return p&&l&&l.length&&(!h&&u>0||!at(h,l)||!at(x,o))?this.renderAreaWithAnimation(i,n):this.renderAreaStatically(l,o,i,n)}},{key:"render",value:function(){var i,n=this.props,r=n.hide,l=n.dot,o=n.points,p=n.className,c=n.top,h=n.left,x=n.xAxis,u=n.yAxis,d=n.width,v=n.height,f=n.isAnimationActive,b=n.id;if(r||!o||!o.length)return null;var N=this.state.isAnimationFinished,m=o.length===1,y=We("recharts-area",p),j=x&&x.allowDataOverflow,S=u&&u.allowDataOverflow,P=j||S,T=Z(b)?this.id:b,_=(i=Y(l,!1))!==null&&i!==void 0?i:{r:3,strokeWidth:2},k=_.r,w=k===void 0?3:k,A=_.strokeWidth,E=A===void 0?2:A,M=Hs(l)?l:{},pt=M.clipDot,ft=pt===void 0?!0:pt,Se=w*2+E;return O.createElement(I,{className:y},j||S?O.createElement("defs",null,O.createElement("clipPath",{id:"clipPath-".concat(T)},O.createElement("rect",{x:j?h:h-d/2,y:S?c:c-v/2,width:j?d:d*2,height:S?v:v*2})),!ft&&O.createElement("clipPath",{id:"clipPath-dots-".concat(T)},O.createElement("rect",{x:h-Se/2,y:c-Se/2,width:d+Se,height:v+Se}))):null,m?null:this.renderArea(P,T),(l||m)&&this.renderDots(P,ft,T),(!f||N)&&Rt.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(i,n){return i.animationId!==n.prevAnimationId?{prevAnimationId:i.animationId,curPoints:i.points,curBaseLine:i.baseLine,prevPoints:n.curPoints,prevBaseLine:n.curBaseLine}:i.points!==n.curPoints||i.baseLine!==n.curBaseLine?{curPoints:i.points,curBaseLine:i.baseLine}:null}}])}(g.PureComponent);Ut=q;K(q,"displayName","Area");K(q,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Lt.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});K(q,"getBaseValue",function(s,t,a,i){var n=s.layout,r=s.baseValue,l=t.props.baseValue,o=l??r;if(ae(o)&&typeof o=="number")return o;var p=n==="horizontal"?i:a,c=p.scale.domain();if(p.type==="number"){var h=Math.max(c[0],c[1]),x=Math.min(c[0],c[1]);return o==="dataMin"?x:o==="dataMax"||h<0?h:Math.max(Math.min(c[0],c[1]),0)}return o==="dataMin"?c[0]:o==="dataMax"?c[1]:c[0]});K(q,"getComposedData",function(s){var t=s.props,a=s.item,i=s.xAxis,n=s.yAxis,r=s.xAxisTicks,l=s.yAxisTicks,o=s.bandSize,p=s.dataKey,c=s.stackedData,h=s.dataStartIndex,x=s.displayedData,u=s.offset,d=t.layout,v=c&&c.length,f=Ut.getBaseValue(t,a,i,n),b=d==="horizontal",N=!1,m=x.map(function(j,S){var P;v?P=c[h+S]:(P=oe(j,p),Array.isArray(P)?N=!0:P=[f,P]);var T=P[1]==null||v&&oe(j,p)==null;return b?{x:Fe({axis:i,ticks:r,bandSize:o,entry:j,index:S}),y:T?null:n.scale(P[1]),value:P,payload:j}:{x:T?null:i.scale(P[1]),y:Fe({axis:n,ticks:l,bandSize:o,entry:j,index:S}),value:P,payload:j}}),y;return v||N?y=m.map(function(j){var S=Array.isArray(j.value)?j.value[0]:null;return b?{x:j.x,y:S!=null&&j.y!=null?n.scale(S):null}:{x:S!=null?i.scale(S):null,y:j.y}}):y=b?n.scale(f):i.scale(f),Q({points:m,baseLine:y,layout:d,isRange:N},u)});K(q,"renderDotItem",function(s,t){var a;if(O.isValidElement(s))a=O.cloneElement(s,t);else if(Le(s))a=s(t);else{var i=We("recharts-area-dot",typeof s!="boolean"?s.className:""),n=t.key,r=Qt(t,ha);a=O.createElement(Ys,se({},r,{key:n,className:i}))}return a});function me(s){"@babel/helpers - typeof";return me=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},me(s)}function Na(s,t){if(!(s instanceof t))throw new TypeError("Cannot call a class as a function")}function wa(s,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(s,ts(i.key),i)}}function ka(s,t,a){return t&&wa(s.prototype,t),Object.defineProperty(s,"prototype",{writable:!1}),s}function Sa(s,t,a){return t=Ie(t),Aa(s,Jt()?Reflect.construct(t,a||[],Ie(s).constructor):t.apply(s,a))}function Aa(s,t){if(t&&(me(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ca(s)}function Ca(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function Jt(){try{var s=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jt=function(){return!!s})()}function Ie(s){return Ie=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},Ie(s)}function Oa(s,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(t&&t.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),t&&nt(s,t)}function nt(s,t){return nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,n){return i.__proto__=n,i},nt(s,t)}function es(s,t,a){return t=ts(t),t in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function ts(s){var t=za(s,"string");return me(t)=="symbol"?t:t+""}function za(s,t){if(me(s)!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var i=a.call(s,t);if(me(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}var qe=function(s){function t(){return Na(this,t),Sa(this,t,arguments)}return Oa(t,s),ka(t,[{key:"render",value:function(){return null}}])}(g.Component);es(qe,"displayName","ZAxis");es(qe,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var Pa=["option","isActive"];function ve(){return ve=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(s[i]=a[i])}return s},ve.apply(this,arguments)}function Ta(s,t){if(s==null)return{};var a=_a(s,t),i,n;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);for(n=0;n<r.length;n++)i=r[n],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(s,i)&&(a[i]=s[i])}return a}function _a(s,t){if(s==null)return{};var a={};for(var i in s)if(Object.prototype.hasOwnProperty.call(s,i)){if(t.indexOf(i)>=0)continue;a[i]=s[i]}return a}function Da(s){var t=s.option,a=s.isActive,i=Ta(s,Pa);return typeof t=="string"?g.createElement(yt,ve({option:g.createElement(qs,ve({type:t},i)),isActive:a,shapeType:"symbols"},i)):g.createElement(yt,ve({option:t,isActive:a,shapeType:"symbols"},i))}function ue(s){"@babel/helpers - typeof";return ue=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ue(s)}function ye(){return ye=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(s[i]=a[i])}return s},ye.apply(this,arguments)}function Nt(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),a.push.apply(a,i)}return a}function B(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Nt(Object(a),!0).forEach(function(i){J(s,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):Nt(Object(a)).forEach(function(i){Object.defineProperty(s,i,Object.getOwnPropertyDescriptor(a,i))})}return s}function Ea(s,t){if(!(s instanceof t))throw new TypeError("Cannot call a class as a function")}function wt(s,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(s,as(i.key),i)}}function Ma(s,t,a){return t&&wt(s.prototype,t),a&&wt(s,a),Object.defineProperty(s,"prototype",{writable:!1}),s}function Ra(s,t,a){return t=Ke(t),Ba(s,ss()?Reflect.construct(t,a||[],Ke(s).constructor):t.apply(s,a))}function Ba(s,t){if(t&&(ue(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return La(s)}function La(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function ss(){try{var s=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ss=function(){return!!s})()}function Ke(s){return Ke=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},Ke(s)}function Fa(s,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(t&&t.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),t&&rt(s,t)}function rt(s,t){return rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,n){return i.__proto__=n,i},rt(s,t)}function J(s,t,a){return t=as(t),t in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function as(s){var t=$a(s,"string");return ue(t)=="symbol"?t:t+""}function $a(s,t){if(ue(s)!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var i=a.call(s,t);if(ue(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}var Ve=function(s){function t(){var a;Ea(this,t);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return a=Ra(this,t,[].concat(n)),J(a,"state",{isAnimationFinished:!1}),J(a,"handleAnimationEnd",function(){a.setState({isAnimationFinished:!0})}),J(a,"handleAnimationStart",function(){a.setState({isAnimationFinished:!1})}),J(a,"id",Bt("recharts-scatter-")),a}return Fa(t,s),Ma(t,[{key:"renderSymbolsStatically",value:function(i){var n=this,r=this.props,l=r.shape,o=r.activeShape,p=r.activeIndex,c=Y(this.props,!1);return i.map(function(h,x){var u=p===x,d=u?o:l,v=B(B({},c),h);return O.createElement(I,ye({className:"recharts-scatter-symbol",key:"symbol-".concat(h==null?void 0:h.cx,"-").concat(h==null?void 0:h.cy,"-").concat(h==null?void 0:h.size,"-").concat(x)},Vs(n.props,h,x),{role:"img"}),O.createElement(Da,ye({option:d,isActive:u,key:"symbol-".concat(x)},v)))})}},{key:"renderSymbolsWithAnimation",value:function(){var i=this,n=this.props,r=n.points,l=n.isAnimationActive,o=n.animationBegin,p=n.animationDuration,c=n.animationEasing,h=n.animationId,x=this.state.prevPoints;return O.createElement(Mt,{begin:o,duration:p,isActive:l,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(u){var d=u.t,v=r.map(function(f,b){var N=x&&x[b];if(N){var m=$(N.cx,f.cx),y=$(N.cy,f.cy),j=$(N.size,f.size);return B(B({},f),{},{cx:m(d),cy:y(d),size:j(d)})}var S=$(0,f.size);return B(B({},f),{},{size:S(d)})});return O.createElement(I,null,i.renderSymbolsStatically(v))})}},{key:"renderSymbols",value:function(){var i=this.props,n=i.points,r=i.isAnimationActive,l=this.state.prevPoints;return r&&n&&n.length&&(!l||!at(l,n))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(n)}},{key:"renderErrorBar",value:function(){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.points,l=n.xAxis,o=n.yAxis,p=n.children,c=Ft(p,Us);return c?c.map(function(h,x){var u=h.props,d=u.direction,v=u.dataKey;return O.cloneElement(h,{key:"".concat(d,"-").concat(v,"-").concat(r[x]),data:r,xAxis:l,yAxis:o,layout:d==="x"?"vertical":"horizontal",dataPointFormatter:function(b,N){return{x:b.cx,y:b.cy,value:d==="x"?+b.node.x:+b.node.y,errorVal:oe(b,N)}}})}):null}},{key:"renderLine",value:function(){var i=this.props,n=i.points,r=i.line,l=i.lineType,o=i.lineJointType,p=Y(this.props,!1),c=Y(r,!1),h,x;if(l==="joint")h=n.map(function(y){return{x:y.cx,y:y.cy}});else if(l==="fitting"){var u=Qs(n),d=u.xmin,v=u.xmax,f=u.a,b=u.b,N=function(j){return f*j+b};h=[{x:d,y:N(d)},{x:v,y:N(v)}]}var m=B(B(B({},p),{},{fill:"none",stroke:p&&p.fill},c),{},{points:h});return O.isValidElement(r)?x=O.cloneElement(r,m):Le(r)?x=r(m):x=O.createElement(Me,ye({},m,{type:o})),O.createElement(I,{className:"recharts-scatter-line",key:"recharts-scatter-line"},x)}},{key:"render",value:function(){var i=this.props,n=i.hide,r=i.points,l=i.line,o=i.className,p=i.xAxis,c=i.yAxis,h=i.left,x=i.top,u=i.width,d=i.height,v=i.id,f=i.isAnimationActive;if(n||!r||!r.length)return null;var b=this.state.isAnimationFinished,N=We("recharts-scatter",o),m=p&&p.allowDataOverflow,y=c&&c.allowDataOverflow,j=m||y,S=Z(v)?this.id:v;return O.createElement(I,{className:N,clipPath:j?"url(#clipPath-".concat(S,")"):null},m||y?O.createElement("defs",null,O.createElement("clipPath",{id:"clipPath-".concat(S)},O.createElement("rect",{x:m?h:h-u/2,y:y?x:x-d/2,width:m?u:u*2,height:y?d:d*2}))):null,l&&this.renderLine(),this.renderErrorBar(),O.createElement(I,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!f||b)&&Rt.renderCallByParent(this.props,r))}}],[{key:"getDerivedStateFromProps",value:function(i,n){return i.animationId!==n.prevAnimationId?{prevAnimationId:i.animationId,curPoints:i.points,prevPoints:n.curPoints}:i.points!==n.curPoints?{curPoints:i.points}:null}}])}(g.PureComponent);J(Ve,"displayName","Scatter");J(Ve,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Lt.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});J(Ve,"getComposedData",function(s){var t=s.xAxis,a=s.yAxis,i=s.zAxis,n=s.item,r=s.displayedData,l=s.xAxisTicks,o=s.yAxisTicks,p=s.offset,c=n.props.tooltipType,h=Ft(n.props.children,$t),x=Z(t.dataKey)?n.props.dataKey:t.dataKey,u=Z(a.dataKey)?n.props.dataKey:a.dataKey,d=i&&i.dataKey,v=i?i.range:qe.defaultProps.range,f=v&&v[0],b=t.scale.bandwidth?t.scale.bandwidth():0,N=a.scale.bandwidth?a.scale.bandwidth():0,m=r.map(function(y,j){var S=oe(y,x),P=oe(y,u),T=!Z(d)&&oe(y,d)||"-",_=[{name:Z(t.dataKey)?n.props.name:t.name||t.dataKey,unit:t.unit||"",value:S,payload:y,dataKey:x,type:c},{name:Z(a.dataKey)?n.props.name:a.name||a.dataKey,unit:a.unit||"",value:P,payload:y,dataKey:u,type:c}];T!=="-"&&_.push({name:i.name||i.dataKey,unit:i.unit||"",value:T,payload:y,dataKey:d,type:c});var k=Fe({axis:t,ticks:l,bandSize:b,entry:y,index:j,dataKey:x}),w=Fe({axis:a,ticks:o,bandSize:N,entry:y,index:j,dataKey:u}),A=T!=="-"?i.scale(T):f,E=Math.sqrt(Math.max(A,0)/Math.PI);return B(B({},y),{},{cx:k,cy:w,x:k-E,y:w-E,xAxis:t,yAxis:a,zAxis:i,width:2*E,height:2*E,size:A,node:{x:S,y:P,z:T},tooltipPayload:_,tooltipPosition:{x:k,y:w},payload:y},h&&h[j]&&h[j].props)});return B({points:m},p)});var Ia=It({chartName:"AreaChart",GraphicalChild:q,axisComponents:[{axisType:"xAxis",AxisComp:he},{axisType:"yAxis",AxisComp:xe}],formatAxisMap:Kt}),Ka=It({chartName:"ComposedChart",GraphicalChild:[mt,q,dt,Ve],axisComponents:[{axisType:"xAxis",AxisComp:he},{axisType:"yAxis",AxisComp:xe},{axisType:"zAxis",AxisComp:qe}],formatAxisMap:Kt});function Wa({data:s}){const t=Math.max(...s),a=Math.min(...s),i=t-a||1,n=s.map((r,l)=>{const o=l/(s.length-1)*100,p=100-(r-a)/i*100;return`${o},${p}`}).join(" ");return e.jsx("div",{className:"h-12 w-full",children:e.jsx("svg",{className:"h-full w-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:e.jsx("polyline",{fill:"none",stroke:"currentColor",strokeWidth:"2",points:n,className:"text-financial-primary"})})})}function Ga(s,t="₺"){return`${t}${s.toLocaleString("tr-TR")}`}function Ue({title:s,value:t,change:a,changeType:i,period:n,icon:r,trend:l,unit:o="₺",className:p="",onSwipeLeft:c,onSwipeRight:h,swipeable:x=!1}){const{bind:u,getSwipeStyle:d}=Rs({onSwipeLeft:c,onSwipeRight:h,threshold:100}),v=i==="increase"?"text-financial-success":"text-financial-error",f=i==="increase"?e.jsx(ce,{className:"h-4 w-4"}):e.jsx(_t,{className:"h-4 w-4"});return e.jsxs("div",{...x?u():{},style:x?d():{},className:`
        bg-card
        border-border
        border rounded-xl shadow-sm p-4 sm:p-6
        hover:shadow-md transition-all duration-200
        min-h-[120px] sm:min-h-[160px]
        group cursor-pointer
        hover:scale-[1.02] active:scale-[0.98]
        touch-manipulation
        min-w-[44px] min-h-[44px]
        swipeable-card
        ${p}
        ${x?"select-none":""}
      `,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-brand-primary/10 rounded-lg text-brand-primary",children:r&&O.createElement(r,{className:"h-5 w-5"})}),e.jsx("h3",{className:"text-sm font-medium text-foreground",children:s})]}),a&&e.jsxs("div",{className:`flex items-center space-x-1 text-sm ${v}`,children:[f,e.jsxs("span",{children:[Math.abs(a),"%"]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-3xl font-bold text-foreground",children:o==="₺"?Ga(t,o):`${t.toLocaleString("tr-TR")}${o}`}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:n})]}),l&&l.length>0&&e.jsx("div",{className:"mt-4",children:e.jsx(Wa,{data:l})})]})}function Ha({totalDonations:s,monthlyChange:t,trend:a}){return e.jsx(Ue,{title:"Toplam Bağış",value:s,change:t,changeType:t>=0?"increase":"decrease",period:"Bu ay",icon:vs,trend:a,unit:"₺",className:"bg-gradient-to-br from-financial-success-light to-financial-success-light border-financial-success/20 sm:min-h-[140px]"})}function Ya({growthRate:s,period:t}){return e.jsx(Ue,{title:"Aylık Büyüme",value:s,change:Math.abs(s),changeType:s>=0?"increase":"decrease",period:t,icon:ce,unit:"%",className:"sm:min-h-[140px]"})}function qa({count:s,monthlyChange:t}){return e.jsx(Ue,{title:"Aktif Yararlanıcı",value:s,change:t,changeType:t>=0?"increase":"decrease",period:"Bu ay",icon:be,unit:"",className:"sm:min-h-[140px]"})}function Va({distributionRate:s,target:t}){return e.jsx(Ue,{title:"Fon Dağılım Oranı",value:s,change:(s-t)/t*100,changeType:s>=t?"increase":"decrease",period:`Hedef: %${t}`,icon:W,unit:"%",className:"sm:min-h-[140px]"})}const Ua=[{month:"Oca",donations:45e3,beneficiaries:120},{month:"Şub",donations:52e3,beneficiaries:135},{month:"Mar",donations:48e3,beneficiaries:128},{month:"Nis",donations:61e3,beneficiaries:145},{month:"May",donations:55e3,beneficiaries:138},{month:"Haz",donations:67e3,beneficiaries:156}],Qa=[{name:"Nakdi Yardım",value:45,color:"#0F3A7A"},{name:"Ayni Yardım",value:25,color:"#1D8348"},{name:"Eğitim Desteği",value:20,color:"#B7950B"},{name:"Sağlık Yardımı",value:10,color:"#C0392B"}],Xa=[{day:"Pzt",applications:12,donations:8500},{day:"Sal",applications:8,donations:6200},{day:"Çar",applications:15,donations:9800},{day:"Per",applications:20,donations:12400},{day:"Cum",applications:18,donations:11200},{day:"Cmt",applications:6,donations:4500},{day:"Paz",applications:4,donations:3200}],Za=[{region:"İstanbul",beneficiaries:450,amount:125e3},{region:"Ankara",beneficiaries:320,amount:89e3},{region:"İzmir",beneficiaries:280,amount:76e3},{region:"Bursa",beneficiaries:180,amount:51e3},{region:"Antalya",beneficiaries:150,amount:42e3},{region:"Diğer",beneficiaries:220,amount:61e3}],Ja=g.lazy(()=>ys(()=>import("./RechartsBundle-Bu7qtoeh.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]))),ei=()=>{const[s,t]=g.useState({totalBeneficiaries:0,totalDonations:0,totalAid:0,activeApplications:0,monthlyGrowth:0,loading:!0}),[a,i]=g.useState("month");g.useEffect(()=>{n();const r=Ae.channel("beneficiaries-changes").on("postgres_changes",{event:"*",schema:"public",table:"beneficiaries"},()=>n()).subscribe(),l=Ae.channel("applications-changes").on("postgres_changes",{event:"*",schema:"public",table:"applications"},()=>n()).subscribe();return()=>{r.unsubscribe(),l.unsubscribe()}},[]);const n=async()=>{try{const[r,l]=await Promise.all([Ae.from("beneficiaries").select("*",{count:"exact"}),Ae.from("applications").select("*",{count:"exact"})]);t({totalBeneficiaries:r.count||0,totalDonations:45e4,totalAid:38e4,activeApplications:l.count||0,monthlyGrowth:12.5,loading:!1})}catch(r){console.error("Dashboard data fetch error:",r),t(l=>({...l,loading:!1}))}};return s.loading?e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(Ce,{}),e.jsx(Ce,{}),e.jsx(Ce,{}),e.jsx(Ce,{})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"İstatistik ve Analizler"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(lt,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("select",{value:a,onChange:r=>i(r.target.value),className:"border rounded-md px-3 py-1 text-sm bg-background",children:[e.jsx("option",{value:"week",children:"Bu Hafta"}),e.jsx("option",{value:"month",children:"Bu Ay"}),e.jsx("option",{value:"year",children:"Bu Yıl"})]})]})]}),e.jsx(g.Suspense,{fallback:e.jsx("div",{children:"Loading chart..."}),children:e.jsx(Ja,{donationTrend:Ua,aidDistribution:Qa,weeklyStats:Xa,regionalData:Za})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"rounded-lg border bg-card p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ortalama Bağış"}),e.jsx("p",{className:"text-2xl font-bold",children:"₺2,450"})]}),e.jsx("div",{className:"text-green-600 text-sm",children:"+8.2%"})]})}),e.jsx("div",{className:"rounded-lg border bg-card p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Başvuru/Onay Oranı"}),e.jsx("p",{className:"text-2xl font-bold",children:"87%"})]}),e.jsx("div",{className:"text-green-600 text-sm",children:"+2.1%"})]})}),e.jsx("div",{className:"rounded-lg border bg-card p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Aktif Bağışçı"}),e.jsx("p",{className:"text-2xl font-bold",children:"1,247"})]}),e.jsx("div",{className:"text-green-600 text-sm",children:"+15.3%"})]})}),e.jsx("div",{className:"rounded-lg border bg-card p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Hedef Tamamlama"}),e.jsx("p",{className:"text-2xl font-bold",children:"76%"})]}),e.jsx("div",{className:"text-blue-600 text-sm",children:"Bu ay"})]})})]})]})},kt=s=>typeof s=="boolean"?`${s}`:s===0?"0":s,St=We,is=(s,t)=>a=>{var i;if((t==null?void 0:t.variants)==null)return St(s,a==null?void 0:a.class,a==null?void 0:a.className);const{variants:n,defaultVariants:r}=t,l=Object.keys(n).map(c=>{const h=a==null?void 0:a[c],x=r==null?void 0:r[c];if(h===null)return null;const u=kt(h)||kt(x);return n[c][u]}),o=a&&Object.entries(a).reduce((c,h)=>{let[x,u]=h;return u===void 0||(c[x]=u),c},{}),p=t==null||(i=t.compoundVariants)===null||i===void 0?void 0:i.reduce((c,h)=>{let{class:x,className:u,...d}=h;return Object.entries(d).every(v=>{let[f,b]=v;return Array.isArray(b)?b.includes({...r,...o}[f]):{...r,...o}[f]===b})?[...c,x,u]:c},[]);return St(s,l,p,a==null?void 0:a.class,a==null?void 0:a.className)},ti=is("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function L({className:s,variant:t,...a}){return e.jsx("div",{className:je(ti({variant:t}),s),...a})}const si=[{id:"total-donations",title:"Toplam Bağışlar",description:"Toplam bağış miktarı ve değişim oranı",icon:e.jsx(W,{className:"w-5 h-5"}),category:"financial",enabled:!0,position:0,size:"small",color:"bg-blue-500"},{id:"active-beneficiaries",title:"Aktif İhtiyaç Sahipleri",description:"Aktif yardım alan kişi sayısı",icon:e.jsx(be,{className:"w-5 h-5"}),category:"activity",enabled:!0,position:1,size:"small",color:"bg-green-500"},{id:"monthly-growth",title:"Aylık Büyüme",description:"Aylık büyüme oranı ve trend",icon:e.jsx(W,{className:"w-5 h-5"}),category:"financial",enabled:!0,position:2,size:"small",color:"bg-purple-500"},{id:"fund-distribution",title:"Fon Dağılımı",description:"Fonların dağılım oranı",icon:e.jsx(Ns,{className:"w-5 h-5"}),category:"financial",enabled:!0,position:3,size:"small",color:"bg-orange-500"},{id:"recent-activities",title:"Son Aktiviteler",description:"Son sistem aktiviteleri",icon:e.jsx(lt,{className:"w-5 h-5"}),category:"activity",enabled:!0,position:4,size:"medium",color:"bg-indigo-500"},{id:"pending-tasks",title:"Bekleyen Görevler",description:"Tamamlanmamış görevler",icon:e.jsx(Pt,{className:"w-5 h-5"}),category:"management",enabled:!0,position:5,size:"medium",color:"bg-red-500"},{id:"messages",title:"Mesajlar",description:"Son mesajlar ve bildirimler",icon:e.jsx(Re,{className:"w-5 h-5"}),category:"communication",enabled:!0,position:6,size:"medium",color:"bg-teal-500"},{id:"donation-chart",title:"Bağış Grafiği",description:"Bağış trendleri ve analizi",icon:e.jsx(W,{className:"w-5 h-5"}),category:"financial",enabled:!0,position:7,size:"large",color:"bg-blue-600"},{id:"beneficiary-chart",title:"İhtiyaç Sahibi Analizi",description:"İhtiyaç sahipleri dağılımı",icon:e.jsx(be,{className:"w-5 h-5"}),category:"activity",enabled:!0,position:8,size:"large",color:"bg-green-600"}],ai={financial:"bg-blue-50 border-blue-200",activity:"bg-green-50 border-green-200",communication:"bg-purple-50 border-purple-200",management:"bg-orange-50 border-orange-200"},ii={financial:e.jsx(W,{className:"w-4 h-4"}),activity:e.jsx(be,{className:"w-4 h-4"}),communication:e.jsx(Re,{className:"w-4 h-4"}),management:e.jsx(Pt,{className:"w-4 h-4"})};function ni({isOpen:s,onClose:t,onSave:a,currentWidgets:i}){const[n,r]=g.useState(i),[l,o]=g.useState("all"),[p,c]=g.useState(null);g.useEffect(()=>{r(i)},[i]);const h=m=>{r(y=>y.map(j=>j.id===m?{...j,enabled:!j.enabled}:j))},x=(m,y)=>{r(j=>j.map(S=>S.id===m?{...S,size:y}:S))},u=m=>{c(m)},d=(m,y)=>{if(m.preventDefault(),p!==null&&p!==y){const j=[...n],S=j[p];j.splice(p,1),j.splice(y,0,S),r(j),c(y)}},v=()=>{c(null)},f=()=>{a(n),t()},b=()=>{r(si)},N=l==="all"?n:n.filter(m=>m.category===l);return s?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs(z,{className:"w-full max-w-6xl max-h-[90vh] overflow-hidden bg-white shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ge,{className:"w-6 h-6 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Dashboard Kişiselleştirme"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Widget'ları düzenleyin ve dashboard'ınızı özelleştirin"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(C,{variant:"outline",size:"sm",onClick:b,children:[e.jsx(bs,{className:"w-4 h-4 mr-1"}),"Sıfırla"]}),e.jsxs(C,{size:"sm",onClick:f,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(js,{className:"w-4 h-4 mr-1"}),"Kaydet"]}),e.jsx(C,{variant:"ghost",size:"sm",onClick:t,children:e.jsx(fe,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex h-[calc(90vh-120px)]",children:[e.jsxs("div",{className:"w-64 border-r bg-gray-50 p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Kategoriler"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>o("all"),className:`w-full text-left p-3 rounded-lg transition-colors ${l==="all"?"bg-blue-100 text-blue-700 border border-blue-200":"hover:bg-gray-100"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ra,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:"Tümü"}),e.jsx(L,{variant:"secondary",className:"ml-auto",children:n.length})]})}),Object.entries(ai).map(([m,y])=>e.jsx("button",{onClick:()=>o(m),className:`w-full text-left p-3 rounded-lg transition-colors ${l===m?y:"hover:bg-gray-100"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[ii[m],e.jsx("span",{className:"font-medium capitalize",children:m==="financial"?"Finansal":m==="activity"?"Aktivite":m==="communication"?"İletişim":"Yönetim"}),e.jsx(L,{variant:"secondary",className:"ml-auto",children:n.filter(j=>j.category===m).length})]})},m))]})]}),e.jsx("div",{className:"flex-1 p-6 overflow-y-auto",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:N.map((m,y)=>e.jsxs("div",{draggable:!0,onDragStart:()=>u(y),onDragOver:j=>d(j,y),onDragEnd:v,className:`p-4 border rounded-lg cursor-move transition-all ${p===y?"opacity-50 scale-95":""} ${m.enabled?"bg-white border-gray-200":"bg-gray-50 border-gray-200 opacity-60"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${m.color}`,children:e.jsx("div",{className:"text-white",children:m.icon})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:m.title}),e.jsx("p",{className:"text-xs text-gray-600",children:m.description})]})]}),e.jsx("div",{className:"flex items-center space-x-1",children:e.jsx("input",{type:"checkbox",checked:m.enabled,onChange:()=>h(m.id),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Boyut:"}),e.jsxs("select",{value:m.size,onChange:j=>x(m.id,j.target.value),className:"text-xs border rounded px-2 py-1",disabled:!m.enabled,children:[e.jsx("option",{value:"small",children:"Küçük"}),e.jsx("option",{value:"medium",children:"Orta"}),e.jsx("option",{value:"large",children:"Büyük"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Kategori:"}),e.jsx(L,{variant:"outline",className:"text-xs",children:m.category==="financial"?"Finansal":m.category==="activity"?"Aktivite":m.category==="communication"?"İletişim":"Yönetim"})]})]})]},m.id))})})]})]})}):null}const At={user:{name:"User Data",description:"Kullanıcı profili ve yetkileri - uzun süreli cache",staleTime:30*60*1e3,gcTime:60*60*1e3,refetchOnWindowFocus:!1,refetchOnReconnect:!0,refetchOnMount:!1,retry:2},list:{name:"List Data",description:"Tablo listeleri - orta süreli cache",staleTime:5*60*1e3,gcTime:15*60*1e3,refetchOnWindowFocus:!0,refetchOnReconnect:!0,refetchOnMount:!0,retry:3},detail:{name:"Detail Data",description:"Detay sayfaları - kısa süreli cache",staleTime:2*60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!0,refetchOnReconnect:!0,refetchOnMount:!0,retry:2},report:{name:"Report Data",description:"Raporlar ve analizler - uzun süreli cache",staleTime:15*60*1e3,gcTime:30*60*1e3,refetchOnWindowFocus:!1,refetchOnReconnect:!0,refetchOnMount:!1,retry:1},realtime:{name:"Real-time Data",description:"Gerçek zamanlı veriler - minimum cache",staleTime:30*1e3,gcTime:2*60*1e3,refetchOnWindowFocus:!0,refetchOnReconnect:!0,refetchOnMount:!0,retry:1},static:{name:"Static Data",description:"Statik veriler - çok uzun süreli cache",staleTime:24*60*60*1e3,gcTime:7*24*60*60*1e3,refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1,retry:1},search:{name:"Search Results",description:"Arama sonuçları - kısa süreli cache",staleTime:1*60*1e3,gcTime:5*60*1e3,refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1,retry:1}};class ri{constructor(t){V(this,"queryClient");V(this,"cacheStats",new Map);this.queryClient=t,this.initializeCacheStats()}initializeCacheStats(){Object.keys(At).forEach(t=>{this.cacheStats.set(t,{hits:0,misses:0,size:0})})}getCacheConfig(t){return At[t]||null}applyCacheStrategy(t,a){const i=this.getCacheConfig(a);i&&this.queryClient.setQueryDefaults(t,{staleTime:i.staleTime,gcTime:i.gcTime,refetchOnWindowFocus:i.refetchOnWindowFocus,refetchOnReconnect:i.refetchOnReconnect,refetchOnMount:i.refetchOnMount,retry:i.retry,retryDelay:i.retryDelay})}clearCache(t){t?this.queryClient.removeQueries({queryKey:[t]}):this.queryClient.clear()}invalidateQuery(t){this.queryClient.invalidateQueries({queryKey:t})}getCacheSize(){return this.queryClient.getQueryCache().getAll().length}getCacheStats(){return Object.fromEntries(this.cacheStats)}recordCacheHit(t){const a=this.cacheStats.get(t);a&&(a.hits++,this.cacheStats.set(t,a))}recordCacheMiss(t){const a=this.cacheStats.get(t);a&&(a.misses++,this.cacheStats.set(t,a))}getCachePerformanceReport(){const t={};return Object.entries(this.cacheStats).forEach(([a,i])=>{const n=i.hits+i.misses,r=n>0?i.hits/n*100:0;t[a]={hits:i.hits,misses:i.misses,hitRate:`${r.toFixed(2)}%`,size:i.size}}),t}async prefetchQuery(t,a="list"){const i=this.getCacheConfig(a);if(i)try{await this.queryClient.prefetchQuery({queryKey:t,staleTime:i.staleTime,gcTime:i.gcTime})}catch(n){console.warn("Prefetch failed:",n)}}async backgroundSync(t){try{await this.queryClient.refetchQueries({queryKey:t})}catch(a){console.warn("Background sync failed:",a)}}optimizeCache(){const t=this.queryClient.getQueryCache().getAll(),a=Date.now();t.forEach(i=>{const n=i.state.dataUpdatedAt;a-n>60*60*1e3&&this.queryClient.removeQueries({queryKey:i.queryKey})})}getMemoryUsage(){const t=this.queryClient.getQueryCache().getAll();let a=0;return t.forEach(i=>{i.state.data&&(a+=JSON.stringify(i.state.data).length)}),{queryCount:t.length,totalSize:a,averageSize:t.length>0?a/t.length:0}}}function li(s){return new ri(s)}function oi({isOpen:s,onClose:t}){const a=li(ws),[i,n]=g.useState(null),[r,l]=g.useState(null),[o,p]=g.useState(!1);g.useEffect(()=>{if(s&&(c(),o)){const d=setInterval(c,5e3);return()=>clearInterval(d)}},[s,o]);const c=()=>{n(a.getCachePerformanceReport()),l(a.getMemoryUsage())},h=()=>{a.optimizeCache(),c()},x=()=>{window.confirm("Tüm cache'i temizlemek istediğinizden emin misiniz?")&&(a.clearCache(),c())},u=d=>{if(d===0)return"0 B";const v=1024,f=["B","KB","MB","GB"],b=Math.floor(Math.log(d)/Math.log(v));return parseFloat((d/Math.pow(v,b)).toFixed(2))+" "+f[b]};return s?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs(z,{className:"w-full max-w-4xl max-h-[90vh] overflow-hidden bg-white shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Je,{className:"w-6 h-6 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Cache Performans Monitörü"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Cache performansı ve bellek kullanımı"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(C,{variant:"outline",size:"sm",onClick:()=>p(!o),className:o?"bg-blue-50 border-blue-200":"",children:[e.jsx(ot,{className:`w-4 h-4 mr-1 ${o?"animate-spin":""}`}),o?"Otomatik":"Manuel"]}),e.jsxs(C,{variant:"outline",size:"sm",onClick:c,children:[e.jsx(ct,{className:"w-4 h-4 mr-1"}),"Yenile"]}),e.jsx(C,{variant:"ghost",size:"sm",onClick:t,children:"✕"})]})]}),e.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:[r&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Bellek Kullanımı"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(z,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Toplam Query"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.queryCount})]}),e.jsx(Je,{className:"w-8 h-8 text-blue-500"})]})}),e.jsx(z,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Toplam Boyut"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:u(r.totalSize)})]}),e.jsx(W,{className:"w-8 h-8 text-green-500"})]})}),e.jsx(z,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Ortalama Boyut"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:u(r.averageSize)})]}),e.jsx(ce,{className:"w-8 h-8 text-purple-500"})]})})]})]}),i&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Cache Performansı"}),e.jsx("div",{className:"space-y-4",children:Object.entries(i).map(([d,v])=>e.jsxs(z,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 capitalize",children:d}),e.jsxs("p",{className:"text-sm text-gray-600",children:[v.hits+v.misses," toplam istek"]})]}),e.jsxs(L,{variant:parseFloat(v.hitRate)>80?"default":parseFloat(v.hitRate)>60?"secondary":"destructive",children:[v.hitRate," Hit Rate"]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Hits"}),e.jsx("p",{className:"font-semibold text-green-600",children:v.hits})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Misses"}),e.jsx("p",{className:"font-semibold text-red-600",children:v.misses})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Size"}),e.jsx("p",{className:"font-semibold text-blue-600",children:v.size})]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[e.jsx("span",{children:"Hit Rate"}),e.jsx("span",{children:v.hitRate})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${parseFloat(v.hitRate)>80?"bg-green-500":parseFloat(v.hitRate)>60?"bg-yellow-500":"bg-red-500"}`,style:{width:v.hitRate}})})]})]},d))})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Cache Yönetimi"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Cache performansını optimize edin"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(C,{variant:"outline",onClick:h,className:"bg-green-50 border-green-200 text-green-700 hover:bg-green-100",children:[e.jsx(ce,{className:"w-4 h-4 mr-1"}),"Optimize Et"]}),e.jsxs(C,{variant:"outline",onClick:x,className:"bg-red-50 border-red-200 text-red-700 hover:bg-red-100",children:[e.jsx(_t,{className:"w-4 h-4 mr-1"}),"Cache Temizle"]})]})]})]})]})}):null}var ci="Label",ns=g.forwardRef((s,t)=>e.jsx(He.label,{...s,ref:t,onMouseDown:a=>{var n;a.target.closest("button, input, select, textarea")||((n=s.onMouseDown)==null||n.call(s,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));ns.displayName=ci;var rs=ns;const di=is("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),F=g.forwardRef(({className:s,...t},a)=>e.jsx(rs,{ref:a,className:je(di(),s),...t}));F.displayName=rs.displayName;function mi(s){const t=g.useRef({value:s,previous:s});return g.useMemo(()=>(t.current.value!==s&&(t.current.previous=t.current.value,t.current.value=s),t.current.previous),[s])}function ui(s){const[t,a]=g.useState(void 0);return Bs(()=>{if(s){a({width:s.offsetWidth,height:s.offsetHeight});const i=new ResizeObserver(n=>{if(!Array.isArray(n)||!n.length)return;const r=n[0];let l,o;if("borderBoxSize"in r){const p=r.borderBoxSize,c=Array.isArray(p)?p[0]:p;l=c.inlineSize,o=c.blockSize}else l=s.offsetWidth,o=s.offsetHeight;a({width:l,height:o})});return i.observe(s,{box:"border-box"}),()=>i.unobserve(s)}else a(void 0)},[s]),t}var Qe="Checkbox",[hi,Ji]=ks(Qe),[xi,ht]=hi(Qe);function pi(s){const{__scopeCheckbox:t,checked:a,children:i,defaultChecked:n,disabled:r,form:l,name:o,onCheckedChange:p,required:c,value:h="on",internal_do_not_use_render:x}=s,[u,d]=Fs({prop:a,defaultProp:n??!1,onChange:p,caller:Qe}),[v,f]=g.useState(null),[b,N]=g.useState(null),m=g.useRef(!1),y=v?!!l||!!v.closest("form"):!0,j={checked:u,disabled:r,setChecked:d,control:v,setControl:f,name:o,form:l,value:h,hasConsumerStoppedPropagationRef:m,required:c,defaultChecked:ee(n)?!1:n,isFormControl:y,bubbleInput:b,setBubbleInput:N};return e.jsx(xi,{scope:t,...j,children:fi(x)?x(j):i})}var ls="CheckboxTrigger",os=g.forwardRef(({__scopeCheckbox:s,onKeyDown:t,onClick:a,...i},n)=>{const{control:r,value:l,disabled:o,checked:p,required:c,setControl:h,setChecked:x,hasConsumerStoppedPropagationRef:u,isFormControl:d,bubbleInput:v}=ht(ls,s),f=Tt(n,h),b=g.useRef(p);return g.useEffect(()=>{const N=r==null?void 0:r.form;if(N){const m=()=>x(b.current);return N.addEventListener("reset",m),()=>N.removeEventListener("reset",m)}},[r,x]),e.jsx(He.button,{type:"button",role:"checkbox","aria-checked":ee(p)?"mixed":p,"aria-required":c,"data-state":hs(p),"data-disabled":o?"":void 0,disabled:o,value:l,...i,ref:f,onKeyDown:gt(t,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:gt(a,N=>{x(m=>ee(m)?!0:!m),v&&d&&(u.current=N.isPropagationStopped(),u.current||N.stopPropagation())})})});os.displayName=ls;var xt=g.forwardRef((s,t)=>{const{__scopeCheckbox:a,name:i,checked:n,defaultChecked:r,required:l,disabled:o,value:p,onCheckedChange:c,form:h,...x}=s;return e.jsx(pi,{__scopeCheckbox:a,checked:n,defaultChecked:r,disabled:o,required:l,onCheckedChange:c,name:i,form:h,value:p,internal_do_not_use_render:({isFormControl:u})=>e.jsxs(e.Fragment,{children:[e.jsx(os,{...x,ref:t,__scopeCheckbox:a}),u&&e.jsx(us,{__scopeCheckbox:a})]})})});xt.displayName=Qe;var cs="CheckboxIndicator",ds=g.forwardRef((s,t)=>{const{__scopeCheckbox:a,forceMount:i,...n}=s,r=ht(cs,a);return e.jsx(Ls,{present:i||ee(r.checked)||r.checked===!0,children:e.jsx(He.span,{"data-state":hs(r.checked),"data-disabled":r.disabled?"":void 0,...n,ref:t,style:{pointerEvents:"none",...s.style}})})});ds.displayName=cs;var ms="CheckboxBubbleInput",us=g.forwardRef(({__scopeCheckbox:s,...t},a)=>{const{control:i,hasConsumerStoppedPropagationRef:n,checked:r,defaultChecked:l,required:o,disabled:p,name:c,value:h,form:x,bubbleInput:u,setBubbleInput:d}=ht(ms,s),v=Tt(a,d),f=mi(r),b=ui(i);g.useEffect(()=>{const m=u;if(!m)return;const y=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(y,"checked").set,P=!n.current;if(f!==r&&S){const T=new Event("click",{bubbles:P});m.indeterminate=ee(r),S.call(m,ee(r)?!1:r),m.dispatchEvent(T)}},[u,f,r,n]);const N=g.useRef(ee(r)?!1:r);return e.jsx(He.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??N.current,required:o,disabled:p,name:c,value:h,form:x,...t,tabIndex:-1,ref:v,style:{...t.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});us.displayName=ms;function fi(s){return typeof s=="function"}function ee(s){return s==="indeterminate"}function hs(s){return ee(s)?"indeterminate":s?"checked":"unchecked"}const ge=g.forwardRef(({className:s,...t},a)=>e.jsx(xt,{ref:a,className:je("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...t,children:e.jsx(ds,{className:je("flex items-center justify-center text-current"),children:e.jsx(Ss,{className:"h-4 w-4"})})}));ge.displayName=xt.displayName;var xs={exports:{}};(function(s,t){(function(a,i){i()})(pe,function(){function a(c,h){return typeof h>"u"?h={autoBom:!1}:typeof h!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),h={autoBom:!h}),h.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function i(c,h,x){var u=new XMLHttpRequest;u.open("GET",c),u.responseType="blob",u.onload=function(){p(u.response,h,x)},u.onerror=function(){console.error("could not download file")},u.send()}function n(c){var h=new XMLHttpRequest;h.open("HEAD",c,!1);try{h.send()}catch{}return 200<=h.status&&299>=h.status}function r(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var h=document.createEvent("MouseEvents");h.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(h)}}var l=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof pe=="object"&&pe.global===pe?pe:void 0,o=l.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),p=l.saveAs||(typeof window!="object"||window!==l?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(c,h,x){var u=l.URL||l.webkitURL,d=document.createElement("a");h=h||c.name||"download",d.download=h,d.rel="noopener",typeof c=="string"?(d.href=c,d.origin===location.origin?r(d):n(d.href)?i(c,h,x):r(d,d.target="_blank")):(d.href=u.createObjectURL(c),setTimeout(function(){u.revokeObjectURL(d.href)},4e4),setTimeout(function(){r(d)},0))}:"msSaveOrOpenBlob"in navigator?function(c,h,x){if(h=h||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(a(c,x),h);else if(n(c))i(c,h,x);else{var u=document.createElement("a");u.href=c,u.target="_blank",setTimeout(function(){r(u)})}}:function(c,h,x,u){if(u=u||open("","_blank"),u&&(u.document.title=u.document.body.innerText="downloading..."),typeof c=="string")return i(c,h,x);var d=c.type==="application/octet-stream",v=/constructor/i.test(l.HTMLElement)||l.safari,f=/CriOS\/[\d]+/.test(navigator.userAgent);if((f||d&&v||o)&&typeof FileReader<"u"){var b=new FileReader;b.onloadend=function(){var y=b.result;y=f?y:y.replace(/^data:[^;]*;/,"data:attachment/file;"),u?u.location.href=y:location=y,u=null},b.readAsDataURL(c)}else{var N=l.URL||l.webkitURL,m=N.createObjectURL(c);u?u.location=m:location.href=m,u=null,setTimeout(function(){N.revokeObjectURL(m)},4e4)}});l.saveAs=p.saveAs=p,s.exports=p})})(xs);var Ct=xs.exports;let gi=class{constructor(){V(this,"defaultConfig",{orientation:"portrait",pageSize:"A4",fontSize:12,includeHeader:!0,includeFooter:!0,includeSummary:!0,includeFilters:!0})}async generatePDF(t,a={}){const i={...this.defaultConfig,...a},n=new $s({orientation:i.orientation,unit:"mm",format:i.pageSize});let r=20;if(i.includeHeader&&(n.setFontSize(18),n.setFont("helvetica","bold"),n.text(t.title,20,r),r+=10,t.subtitle&&(n.setFontSize(14),n.setFont("helvetica","normal"),n.text(t.subtitle,20,r),r+=10)),i.includeFilters&&t.filters&&(r+=5,n.setFontSize(10),n.setFont("helvetica","bold"),n.text("Filtreler:",20,r),r+=5,n.setFont("helvetica","normal"),Object.entries(t.filters).forEach(([l,o])=>{o&&(n.text(`${l}: ${o}`,25,r),r+=5)}),r+=5),Is(n,{head:[t.headers],body:t.data,startY:r,styles:{fontSize:i.fontSize,cellPadding:3},headStyles:{fillColor:[66,139,202],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[245,245,245]}}),i.includeSummary&&t.summary){const l=n.lastAutoTable.finalY+10;n.setFontSize(12),n.setFont("helvetica","bold"),n.text("Özet:",20,l),n.setFont("helvetica","normal");let o=l+5;Object.entries(t.summary).forEach(([p,c])=>{c!==void 0&&(n.text(`${p}: ${c}`,25,o),o+=5)})}if(i.includeFooter){const l=n.getNumberOfPages();for(let o=1;o<=l;o++)n.setPage(o),n.setFontSize(8),n.setFont("helvetica","normal"),n.text(`Sayfa ${o} / ${l} - Oluşturulma: ${new Date().toLocaleString("tr-TR")}`,20,n.internal.pageSize.height-10)}return n.output("blob")}async generateExcel(t){const a=U.book_new(),i=U.aoa_to_sheet([[t.title],t.subtitle?[t.subtitle]:[],[],t.headers,...t.data]);i.A1={v:t.title,t:"s"},i.A1.s={font:{bold:!0,size:16},alignment:{horizontal:"center"}},t.subtitle&&(i.A2={v:t.subtitle,t:"s"},i.A2.s={font:{italic:!0,size:12},alignment:{horizontal:"center"}});const n=3+(t.subtitle?1:0);t.headers.forEach((o,p)=>{const c=U.encode_cell({r:n,c:p});i[c]={v:o,t:"s"},i[c].s={font:{bold:!0},fill:{fgColor:{rgb:"4285CA"}},alignment:{horizontal:"center"}}});const r=t.headers.map(o=>Math.max(o.length*1.2,10));if(i["!cols"]=r.map(o=>({width:o})),U.book_append_sheet(a,i,"Rapor"),t.summary){const o=Object.entries(t.summary).map(([c,h])=>[c,h]),p=U.aoa_to_sheet([["Özet"],[],["Metrik","Değer"],...o]);p.A1.s={font:{bold:!0,size:14}},p.A3.s={font:{bold:!0}},p.B3.s={font:{bold:!0}},U.book_append_sheet(a,p,"Özet")}if(t.filters){const o=Object.entries(t.filters).map(([c,h])=>[c,h]),p=U.aoa_to_sheet([["Filtreler"],[],["Filtre","Değer"],...o]);p.A1.s={font:{bold:!0,size:14}},p.A3.s={font:{bold:!0}},p.B3.s={font:{bold:!0}},U.book_append_sheet(a,p,"Filtreler")}const l=Ks(a,{bookType:"xlsx",type:"array"});return new Blob([l],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})}async downloadPDF(t,a,i){const n=await this.generatePDF(t,i);Ct.saveAs(n,`${a}.pdf`)}async downloadExcel(t,a){const i=await this.generateExcel(t);Ct.saveAs(i,`${a}.xlsx`)}generateSampleData(){return{title:"Yardım Raporu",subtitle:"Ocak 2024 - Aralık 2024",headers:["ID","Ad Soyad","Kategori","Tutar","Tarih","Durum"],data:[["001","Ahmet Yılmaz","Nakit","1000 TL","2024-01-15","Tamamlandı"],["002","Fatma Demir","Ayni","500 TL","2024-01-20","Beklemede"],["003","Mehmet Kaya","Nakit","750 TL","2024-01-25","Tamamlandı"],["004","Ayşe Özkan","Ayni","300 TL","2024-02-01","İptal"],["005","Ali Çelik","Nakit","1200 TL","2024-02-05","Tamamlandı"]],summary:{total:3750,count:5,average:750},filters:{dateRange:"01.01.2024 - 31.12.2024",category:"Tümü",status:"Tümü"}}}};const Ze=new gi,vi=({data:s})=>{var v;const{t}=As(),[a,i]=g.useState(s||Ze.generateSampleData()),[n,r]=g.useState({orientation:"portrait",pageSize:"A4",fontSize:12,includeHeader:!0,includeFooter:!0,includeSummary:!0,includeFilters:!0}),[l,o]=g.useState(!1),[p,c]=g.useState(!1),h=async()=>{o(!0);try{await Ze.downloadPDF(a,`rapor_${Date.now()}`,n)}catch(f){console.error("PDF oluşturma hatası:",f)}finally{o(!1)}},x=async()=>{o(!0);try{await Ze.downloadExcel(a,`rapor_${Date.now()}`)}catch(f){console.error("Excel oluşturma hatası:",f)}finally{o(!1)}},u=()=>{c(!p)},d=(f,b)=>{r(N=>({...N,[f]:b}))};return e.jsxs("div",{className:"space-y-6",children:[e.jsx(z,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"w-5 h-5 text-blue-600"}),e.jsx("h3",{className:"text-lg font-semibold",children:t("reports.title")})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(F,{htmlFor:"title",children:t("reports.reportTitle")}),e.jsx(R,{id:"title",value:a.title,onChange:f=>i(b=>({...b,title:f.target.value})),placeholder:t("reports.enterTitle")})]}),e.jsxs("div",{children:[e.jsx(F,{htmlFor:"subtitle",children:t("reports.subtitle")}),e.jsx(R,{id:"subtitle",value:a.subtitle||"",onChange:f=>i(b=>({...b,subtitle:f.target.value})),placeholder:t("reports.enterSubtitle")})]})]})]})}),e.jsx(z,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"w-5 h-5 text-gray-600"}),e.jsx("h3",{className:"text-lg font-semibold",children:t("reports.settings")})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(F,{children:t("reports.orientation")}),e.jsxs(ie,{value:n.orientation,onValueChange:f=>d("orientation",f),children:[e.jsx(ne,{children:e.jsx(re,{})}),e.jsxs(le,{children:[e.jsx(D,{value:"portrait",children:t("reports.portrait")}),e.jsx(D,{value:"landscape",children:t("reports.landscape")})]})]})]}),e.jsxs("div",{children:[e.jsx(F,{children:t("reports.pageSize")}),e.jsxs(ie,{value:n.pageSize,onValueChange:f=>d("pageSize",f),children:[e.jsx(ne,{children:e.jsx(re,{})}),e.jsxs(le,{children:[e.jsx(D,{value:"A4",children:"A4"}),e.jsx(D,{value:"A3",children:"A3"}),e.jsx(D,{value:"letter",children:t("reports.letter")})]})]})]}),e.jsxs("div",{children:[e.jsx(F,{children:t("reports.fontSize")}),e.jsxs(ie,{value:(v=n.fontSize)==null?void 0:v.toString(),onValueChange:f=>d("fontSize",parseInt(f)),children:[e.jsx(ne,{children:e.jsx(re,{})}),e.jsxs(le,{children:[e.jsx(D,{value:"10",children:"10"}),e.jsx(D,{value:"12",children:"12"}),e.jsx(D,{value:"14",children:"14"}),e.jsx(D,{value:"16",children:"16"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{id:"includeHeader",checked:n.includeHeader,onCheckedChange:f=>d("includeHeader",f)}),e.jsx(F,{htmlFor:"includeHeader",children:t("reports.includeHeader")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{id:"includeFooter",checked:n.includeFooter,onCheckedChange:f=>d("includeFooter",f)}),e.jsx(F,{htmlFor:"includeFooter",children:t("reports.includeFooter")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{id:"includeSummary",checked:n.includeSummary,onCheckedChange:f=>d("includeSummary",f)}),e.jsx(F,{htmlFor:"includeSummary",children:t("reports.includeSummary")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{id:"includeFilters",checked:n.includeFilters,onCheckedChange:f=>d("includeFilters",f)}),e.jsx(F,{htmlFor:"includeFilters",children:t("reports.includeFilters")})]})]})]})}),p&&e.jsx(z,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"w-5 h-5 text-gray-600"}),e.jsx("h3",{className:"text-lg font-semibold",children:t("reports.preview")})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-lg",children:a.title}),a.subtitle&&e.jsx("p",{className:"text-gray-600",children:a.subtitle}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[e.jsx("thead",{children:e.jsx("tr",{className:"bg-blue-600 text-white",children:a.headers.map((f,b)=>e.jsx("th",{className:"border border-gray-300 px-3 py-2 text-left",children:f},b))})}),e.jsx("tbody",{children:a.data.slice(0,3).map((f,b)=>e.jsx("tr",{className:b%2===0?"bg-white":"bg-gray-50",children:f.map((N,m)=>e.jsx("td",{className:"border border-gray-300 px-3 py-2",children:N},m))},b))})]}),a.data.length>3&&e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["... ve ",a.data.length-3," satır daha"]})]})]})]})}),e.jsx(z,{className:"p-6",children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs(C,{onClick:u,variant:"outline",className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"w-4 h-4"}),e.jsx("span",{children:t(p?"reports.hidePreview":"reports.showPreview")})]}),e.jsxs(C,{onClick:h,disabled:l,className:"flex items-center space-x-2 bg-red-600 hover:bg-red-700",children:[e.jsx(Be,{className:"w-4 h-4"}),e.jsx("span",{children:t("reports.generatePDF")})]}),e.jsxs(C,{onClick:x,disabled:l,className:"flex items-center space-x-2 bg-green-600 hover:bg-green-700",children:[e.jsx(Ws,{className:"w-4 h-4"}),e.jsx("span",{children:t("reports.generateExcel")})]}),l&&e.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),e.jsx("span",{children:t("reports.generating")})]})]})})]})},te=["#0F3A7A","#1D8348","#B7950B","#C0392B","#7D3C98","#1ABC9C","#E67E22","#E74C3C"],Ot=te,yi=({data:s,title:t,dataKey:a,stroke:i=te[0],height:n=300,showGrid:r=!0,showLegend:l=!0})=>e.jsxs(z,{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:t}),e.jsx(Ne,{width:"100%",height:n,children:e.jsxs(ea,{data:s,children:[r&&e.jsx(Ye,{strokeDasharray:"3 3"}),e.jsx(he,{dataKey:"name"}),e.jsx(xe,{}),e.jsx(we,{}),l&&e.jsx(ke,{}),e.jsx(mt,{type:"monotone",dataKey:a,stroke:i,strokeWidth:2,dot:{fill:i,strokeWidth:2,r:4},activeDot:{r:6}})]})})]}),bi=({data:s,title:t,dataKey:a,fill:i=te[0],stroke:n=te[0],height:r=300,showGrid:l=!0,showLegend:o=!0})=>e.jsxs(z,{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:t}),e.jsx(Ne,{width:"100%",height:r,children:e.jsxs(Ia,{data:s,children:[l&&e.jsx(Ye,{strokeDasharray:"3 3"}),e.jsx(he,{dataKey:"name"}),e.jsx(xe,{}),e.jsx(we,{}),o&&e.jsx(ke,{}),e.jsx(q,{type:"monotone",dataKey:a,stroke:n,fill:i,fillOpacity:.6})]})})]}),ji=({data:s,title:t,dataKey:a,fill:i=te[0],height:n=300,showGrid:r=!0,showLegend:l=!0})=>e.jsxs(z,{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:t}),e.jsx(Ne,{width:"100%",height:n,children:e.jsxs(Js,{data:s,children:[r&&e.jsx(Ye,{strokeDasharray:"3 3"}),e.jsx(he,{dataKey:"name"}),e.jsx(xe,{}),e.jsx(we,{}),l&&e.jsx(ke,{}),e.jsx(dt,{dataKey:a,fill:i,radius:[4,4,0,0]})]})})]}),Ni=({data:s,title:t,height:a=300,showLegend:i=!0})=>e.jsxs(z,{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:t}),e.jsx(Ne,{width:"100%",height:a,children:e.jsxs(Xs,{children:[e.jsx(Zs,{data:s,cx:"50%",cy:"50%",labelLine:!1,label:({name:n,percent:r})=>`${n} ${(r*100).toFixed(0)}%`,outerRadius:80,fill:te[0],dataKey:"value",children:s.map((n,r)=>e.jsx($t,{fill:Ot[r%Ot.length]},`cell-${r}`))}),e.jsx(we,{}),i&&e.jsx(ke,{})]})})]}),wi=({data:s,title:t,lineDataKey:a,barDataKey:i,height:n=300,showGrid:r=!0,showLegend:l=!0})=>e.jsxs(z,{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:t}),e.jsx(Ne,{width:"100%",height:n,children:e.jsxs(Ka,{data:s,children:[r&&e.jsx(Ye,{strokeDasharray:"3 3"}),e.jsx(he,{dataKey:"name"}),e.jsx(xe,{}),e.jsx(we,{}),l&&e.jsx(ke,{}),e.jsx(dt,{dataKey:i,fill:te[0],radius:[4,4,0,0]}),e.jsx(mt,{type:"monotone",dataKey:a,stroke:te[3],strokeWidth:2})]})})]}),ki=()=>[{name:"Ocak",value:4e3,donations:2400,beneficiaries:1800},{name:"Şubat",value:3e3,donations:1398,beneficiaries:2210},{name:"Mart",value:2e3,donations:9800,beneficiaries:2290},{name:"Nisan",value:2780,donations:3908,beneficiaries:2e3},{name:"Mayıs",value:1890,donations:4800,beneficiaries:2181},{name:"Haziran",value:2390,donations:3800,beneficiaries:2500},{name:"Temmuz",value:3490,donations:4300,beneficiaries:2100}],Si=()=>[{name:"Nakit Bağış",value:400},{name:"Ayni Bağış",value:300},{name:"Banka Bağışı",value:300},{name:"Diğer",value:200}],Ai=()=>{const[s,t]=g.useState(["line","bar","pie"]),[a,i]=g.useState("30d"),[n,r]=g.useState(!1),l={line:{type:"line",title:"Bağış Trendi",dataKey:"value",timeRange:a,showGrid:!0,showLegend:!0},area:{type:"area",title:"Yardım Alanlar Trendi",dataKey:"beneficiaries",timeRange:a,showGrid:!0,showLegend:!0},bar:{type:"bar",title:"Aylık Bağışlar",dataKey:"donations",timeRange:a,showGrid:!0,showLegend:!0},pie:{type:"pie",title:"Bağış Dağılımı",dataKey:"value",timeRange:a,showGrid:!1,showLegend:!0},composed:{type:"composed",title:"Bağış vs Yardım Alanlar",dataKey:"value",timeRange:a,showGrid:!0,showLegend:!0}},o=async()=>{r(!0),await new Promise(x=>setTimeout(x,1e3)),r(!1)},p=()=>{console.log("Grafik export ediliyor...")},c=x=>{const u=l[x],d=x==="pie"?Si():ki();switch(x){case"line":return e.jsx(yi,{data:d,title:u.title,dataKey:u.dataKey,showGrid:u.showGrid,showLegend:u.showLegend});case"area":return e.jsx(bi,{data:d,title:u.title,dataKey:u.dataKey,showGrid:u.showGrid,showLegend:u.showLegend});case"bar":return e.jsx(ji,{data:d,title:u.title,dataKey:u.dataKey,showGrid:u.showGrid,showLegend:u.showLegend});case"pie":return e.jsx(Ni,{data:d,title:u.title,showLegend:u.showLegend});case"composed":return e.jsx(wi,{data:d,title:u.title,lineDataKey:"value",barDataKey:"donations",showGrid:u.showGrid,showLegend:u.showLegend});default:return null}},h=[{value:"line",label:"Çizgi Grafik",icon:e.jsx(ce,{className:"w-4 h-4"})},{value:"area",label:"Alan Grafik",icon:e.jsx(ct,{className:"w-4 h-4"})},{value:"bar",label:"Sütun Grafik",icon:e.jsx(W,{className:"w-4 h-4"})},{value:"pie",label:"Pasta Grafik",icon:e.jsx(Wt,{className:"w-4 h-4"})},{value:"composed",label:"Karma Grafik",icon:e.jsx(W,{className:"w-4 h-4"})}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(z,{className:"p-6",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Grafik Dashboard"}),e.jsxs(ie,{value:a,onValueChange:x=>i(x),children:[e.jsx(ne,{className:"w-32",children:e.jsx(re,{})}),e.jsxs(le,{children:[e.jsx(D,{value:"7d",children:"Son 7 Gün"}),e.jsx(D,{value:"30d",children:"Son 30 Gün"}),e.jsx(D,{value:"90d",children:"Son 90 Gün"}),e.jsx(D,{value:"1y",children:"Son 1 Yıl"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(C,{variant:"outline",size:"sm",onClick:o,disabled:n,children:[e.jsx(ot,{className:`w-4 h-4 mr-1 ${n?"animate-spin":""}`}),"Yenile"]}),e.jsxs(C,{variant:"outline",size:"sm",onClick:p,children:[e.jsx(Cs,{className:"w-4 h-4 mr-1"}),"Export"]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h3",{className:"text-sm font-medium mb-2",children:"Grafik Türleri"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:h.map(x=>e.jsxs(C,{variant:s.includes(x.value)?"default":"outline",size:"sm",onClick:()=>{s.includes(x.value)?t(s.filter(u=>u!==x.value)):t([...s,x.value])},className:"flex items-center space-x-1",children:[x.icon,e.jsx("span",{children:x.label})]},x.value))})]})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:s.map(x=>e.jsx("div",{children:c(x)},x))}),s.length===0&&e.jsxs(z,{className:"p-12 text-center",children:[e.jsx(W,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Grafik Seçilmedi"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Görüntülemek istediğiniz grafik türlerini seçin"}),e.jsxs(C,{onClick:()=>t(["line","bar"]),className:"flex items-center space-x-1",children:[e.jsx(Ge,{className:"w-4 h-4"}),e.jsx("span",{children:"Varsayılan Grafikleri Göster"})]})]})]})},ps=g.forwardRef(({className:s,...t},a)=>e.jsx("textarea",{className:je("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:a,...t}));ps.displayName="Textarea";class Ci{constructor(){V(this,"isReady",!1);V(this,"messageTemplates",[]);V(this,"scheduledMessages",[]);V(this,"messageHistory",[]);this.loadTemplates(),this.loadMockData()}loadMockData(){this.messageTemplates=[{id:"template_1",name:"Hoş Geldiniz",content:"Merhaba {{name}}, derneğimize hoş geldiniz!",variables:["name"],category:"notification",isActive:!0},{id:"template_2",name:"Bağış Hatırlatması",content:"Sayın {{name}}, {{amount}} TL bağışınız için teşekkürler.",variables:["name","amount"],category:"reminder",isActive:!0},{id:"template_3",name:"Etkinlik Duyurusu",content:"{{eventName}} etkinliğimiz {{date}} tarihinde gerçekleşecektir.",variables:["eventName","date"],category:"marketing",isActive:!0}],this.messageHistory=[{id:"msg_1",from:"905551234567",to:"905559876543",body:"Merhaba, yardım hakkında bilgi alabilir miyim?",timestamp:new Date(Date.now()-36e5),type:"text",status:"delivered"},{id:"msg_2",from:"905559876543",to:"905551234567",body:"Tabii, size nasıl yardımcı olabilirim?",timestamp:new Date(Date.now()-18e5),type:"text",status:"read"}],this.scheduledMessages=[{id:"scheduled_1",to:"905551234567",templateId:"template_2",variables:{name:"Ahmet Yılmaz",amount:"1000"},scheduledAt:new Date(Date.now()+864e5),status:"pending"}]}getConnectionStatus(){return{isReady:this.isReady,isConnected:this.isReady}}async initialize(){return new Promise(t=>{setTimeout(()=>{this.isReady=!0,t(!0)},2e3)})}async destroy(){this.isReady=!1}async sendMessage(t,a,i){if(!this.isReady)return console.error("WhatsApp client hazır değil!"),!1;await new Promise(r=>setTimeout(r,1e3));const n={id:`msg_${Date.now()}`,from:"905559876543",to:t,body:a,timestamp:new Date,type:i?"media":"text",status:"sent",mediaUrl:i};return this.messageHistory.push(n),!0}async sendBulkMessage(t,a,i=1e3){let n=0,r=0;for(const l of t)try{await this.sendMessage(l,a)?n++:r++,await new Promise(p=>setTimeout(p,i))}catch(o){console.error(`Toplu mesaj hatası (${l}):`,o),r++}return{success:n,failed:r}}async sendTemplateMessage(t,a,i){const n=this.messageTemplates.find(l=>l.id===a&&l.isActive);if(!n)return console.error("Şablon bulunamadı:",a),!1;let r=n.content;for(const[l,o]of Object.entries(i))r=r.replace(new RegExp(`{{${l}}}`,"g"),o);return await this.sendMessage(t,r)}addTemplate(t){const a=`template_${Date.now()}`,i={...t,id:a};return this.messageTemplates.push(i),this.saveTemplates(),a}updateTemplate(t,a){const i=this.messageTemplates.findIndex(n=>n.id===t);return i===-1?!1:(this.messageTemplates[i]={...this.messageTemplates[i],...a},this.saveTemplates(),!0)}deleteTemplate(t){const a=this.messageTemplates.findIndex(i=>i.id===t);return a===-1?!1:(this.messageTemplates.splice(a,1),this.saveTemplates(),!0)}getTemplates(){return[...this.messageTemplates]}scheduleMessage(t){const a=`scheduled_${Date.now()}`,i={...t,id:a,status:"pending"};return this.scheduledMessages.push(i),a}cancelScheduledMessage(t){const a=this.scheduledMessages.findIndex(i=>i.id===t);return a===-1?!1:(this.scheduledMessages[a].status="cancelled",!0)}getScheduledMessages(){return[...this.scheduledMessages]}getMessageHistory(t=100){return this.messageHistory.slice(-t)}getMessageHistoryByPhone(t,a=50){return this.messageHistory.filter(i=>i.from===t||i.to===t).slice(-a)}getStatistics(){const t=new Date,a=new Date(t.getTime()-24*60*60*1e3),i=new Date(t.getTime()-7*24*60*60*1e3),n=this.messageHistory.filter(l=>l.timestamp>a),r=this.messageHistory.filter(l=>l.timestamp>i);return{totalMessages:this.messageHistory.length,messages24h:n.length,messages7d:r.length,sentMessages:this.messageHistory.filter(l=>l.status==="sent").length,deliveredMessages:this.messageHistory.filter(l=>l.status==="delivered").length,failedMessages:this.messageHistory.filter(l=>l.status==="failed").length,pendingScheduled:this.scheduledMessages.filter(l=>l.status==="pending").length}}saveTemplates(){try{localStorage.setItem("whatsapp_templates",JSON.stringify(this.messageTemplates))}catch(t){console.error("Şablon kaydetme hatası:",t)}}loadTemplates(){try{const t=localStorage.getItem("whatsapp_templates");t&&(this.messageTemplates=JSON.parse(t))}catch(t){console.error("Şablon yükleme hatası:",t)}}}const G=new Ci,Oi=()=>{const[s,t]=g.useState("connection"),[a,i]=g.useState({isReady:!1,isConnected:!1}),[n,r]=g.useState(""),[l,o]=g.useState(""),[p,c]=g.useState(!1),[h,x]=g.useState([]),[u,d]=g.useState([]),[v,f]=g.useState([]),[b,N]=g.useState({totalMessages:0,messages24h:0,messages7d:0,sentMessages:0,deliveredMessages:0,failedMessages:0,pendingScheduled:0});g.useEffect(()=>{m();const k=setInterval(m,5e3);return()=>clearInterval(k)},[]);const m=()=>{i(G.getConnectionStatus()),x(G.getTemplates()),d(G.getScheduledMessages()),f(G.getMessageHistory()),N(G.getStatistics())},y=async()=>{try{await G.initialize(),m()}catch(k){console.error("Bağlantı hatası:",k)}},j=async()=>{try{await G.destroy(),m()}catch(k){console.error("Bağlantı kesme hatası:",k)}},S=async()=>{if(!(!n||!l)){c(!0);try{await G.sendMessage(n,l)&&(o(""),m())}catch(k){console.error("Mesaj gönderme hatası:",k)}finally{c(!1)}}},P=k=>{G.cancelScheduledMessage(k),m()},T=k=>k.replace("@c.us","").replace("@s.whatsapp.net",""),_=k=>new Date(k).toLocaleString("tr-TR");return e.jsxs("div",{className:"space-y-6",children:[e.jsx(z,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${a.isConnected?"bg-green-500":"bg-red-500"}`}),e.jsx("h2",{className:"text-xl font-semibold",children:"WhatsApp Bağlantısı"}),e.jsx(L,{variant:a.isReady?"default":"secondary",children:a.isReady?"Bağlı":"Bağlantı Yok"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(C,{variant:"outline",size:"sm",onClick:y,disabled:a.isConnected,children:[e.jsx(Os,{className:"w-4 h-4 mr-1"}),"Bağlan"]}),e.jsxs(C,{variant:"outline",size:"sm",onClick:j,disabled:!a.isConnected,children:[e.jsx(zs,{className:"w-4 h-4 mr-1"}),"Bağlantıyı Kes"]}),e.jsxs(C,{variant:"outline",size:"sm",onClick:m,children:[e.jsx(ot,{className:"w-4 h-4 mr-1"}),"Yenile"]})]})]})}),e.jsxs(Dt,{value:s,onValueChange:t,children:[e.jsxs(Et,{className:"grid w-full grid-cols-6",children:[e.jsx(H,{value:"connection",children:"Bağlantı"}),e.jsx(H,{value:"send",children:"Mesaj Gönder"}),e.jsx(H,{value:"templates",children:"Şablonlar"}),e.jsx(H,{value:"scheduled",children:"Zamanlanmış"}),e.jsx(H,{value:"history",children:"Geçmiş"}),e.jsx(H,{value:"stats",children:"İstatistikler"})]}),e.jsx(X,{value:"connection",className:"space-y-4",children:e.jsxs(z,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"QR Kod Tarama"}),e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ta,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"QR kod bekleniyor..."})]})]})}),e.jsx(X,{value:"send",className:"space-y-4",children:e.jsxs(z,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Mesaj Gönder"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Alıcı Numarası"}),e.jsx(R,{placeholder:"905xxxxxxxxx",value:n,onChange:k=>r(k.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Mesaj"}),e.jsx(ps,{placeholder:"Mesajınızı yazın...",value:l,onChange:k=>o(k.target.value),rows:4})]}),e.jsxs(C,{onClick:S,disabled:p||!n||!l,className:"w-full",children:[e.jsx(Ps,{className:"w-4 h-4 mr-2"}),p?"Gönderiliyor...":"Gönder"]})]})]})}),e.jsx(X,{value:"templates",className:"space-y-4",children:e.jsxs(z,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Mesaj Şablonları"}),e.jsxs(C,{size:"sm",children:[e.jsx(et,{className:"w-4 h-4 mr-1"}),"Yeni Şablon"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.map(k=>e.jsxs(z,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium",children:k.name}),e.jsx(L,{variant:k.isActive?"default":"secondary",children:k.isActive?"Aktif":"Pasif"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:k.content}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(L,{variant:"outline",children:k.category}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(C,{size:"sm",variant:"ghost",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx(C,{size:"sm",variant:"ghost",children:e.jsx(tt,{className:"w-4 h-4"})})]})]})]},k.id))})]})}),e.jsx(X,{value:"scheduled",className:"space-y-4",children:e.jsxs(z,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Zamanlanmış Mesajlar"}),e.jsx("div",{className:"space-y-4",children:u.map(k=>e.jsx(z,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:T(k.to)}),e.jsx("p",{className:"text-sm text-gray-600",children:_(k.scheduledAt)})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(L,{variant:k.status==="pending"?"default":k.status==="sent"?"secondary":"destructive",children:k.status}),k.status==="pending"&&e.jsx(C,{size:"sm",variant:"ghost",onClick:()=>P(k.id),children:e.jsx(tt,{className:"w-4 h-4"})})]})]})},k.id))})]})}),e.jsx(X,{value:"history",className:"space-y-4",children:e.jsxs(z,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Mesaj Geçmişi"}),e.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:v.map(k=>e.jsx(z,{className:"p-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:T(k.from)}),e.jsx("p",{className:"text-sm text-gray-600",children:k.body}),e.jsx("p",{className:"text-xs text-gray-500",children:_(k.timestamp)})]}),e.jsx(L,{variant:k.status==="sent"?"default":k.status==="delivered"?"secondary":"destructive",children:k.status})]})},k.id))})]})}),e.jsx(X,{value:"stats",className:"space-y-4",children:e.jsxs(z,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"İstatistikler"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:b.totalMessages}),e.jsx("div",{className:"text-sm text-gray-600",children:"Toplam Mesaj"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:b.messages24h}),e.jsx("div",{className:"text-sm text-gray-600",children:"Son 24 Saat"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:b.sentMessages}),e.jsx("div",{className:"text-sm text-gray-600",children:"Gönderilen"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:b.failedMessages}),e.jsx("div",{className:"text-sm text-gray-600",children:"Başarısız"})]})]})]})})]})]})};delete ut.Icon.Default.prototype._getIconUrl;ut.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});function zi({center:s}){const t=ca();return g.useEffect(()=>{t.setView(s)},[s,t]),null}const Pi=s=>{const t={help_center:"#3B82F6",distribution_center:"#10B981",user_location:"#F59E0B",event_location:"#EF4444"};return ut.divIcon({className:"custom-marker",html:`
      <div style="
        width: 20px;
        height: 20px;
        background-color: ${t[s]};
        border: 2px solid white;
        border-radius: 50%;
        box-shadow: 0 2px 4px rgba(0,0,0,0.3);
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 10px;
        font-weight: bold;
      ">
        ${s==="help_center"?"H":s==="distribution_center"?"D":s==="user_location"?"U":"E"}
      </div>
    `,iconSize:[20,20],iconAnchor:[10,10]})},Ti=({center:s,zoom:t,locations:a=[],routes:i=[],areas:n=[],onLocationClick:r,onMarkerDrag:l,showRoutes:o=!0,showAreas:p=!0,height:c="500px"})=>{const h=g.useRef(null),x=d=>{r&&r(d)},u=(d,v)=>{if(l){const f=[v.target.getLatLng().lat,v.target.getLatLng().lng];l(d,f)}};return e.jsx("div",{style:{height:c,width:"100%",position:"relative"},children:e.jsxs(aa,{ref:h,center:s,zoom:t,style:{height:"100%",width:"100%"},zoomControl:!0,scrollWheelZoom:!0,doubleClickZoom:!0,dragging:!0,touchZoom:!0,children:[e.jsx(zi,{center:s}),e.jsx(ia,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),a.map(d=>e.jsx(na,{position:[d.lat,d.lng],icon:Pi(d.type),draggable:d.type==="user_location",eventHandlers:{click:()=>x(d),dragend:v=>u(d,v)},children:e.jsx(Xe,{children:e.jsxs("div",{className:"p-2",children:[e.jsx("h3",{className:"font-semibold text-lg",children:d.name}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:d.description}),d.address&&e.jsxs("p",{className:"text-sm mb-1",children:[e.jsx("strong",{children:"Adres:"})," ",d.address]}),d.phone&&e.jsxs("p",{className:"text-sm mb-1",children:[e.jsx("strong",{children:"Telefon:"})," ",d.phone]}),d.email&&e.jsxs("p",{className:"text-sm mb-1",children:[e.jsx("strong",{children:"E-posta:"})," ",d.email]}),d.capacity&&e.jsxs("p",{className:"text-sm mb-1",children:[e.jsx("strong",{children:"Kapasite:"})," ",d.currentOccupancy||0,"/",d.capacity]}),e.jsx("div",{className:"mt-2",children:e.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full ${d.status==="active"?"bg-green-100 text-green-800":d.status==="inactive"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:d.status==="active"?"Aktif":d.status==="inactive"?"Pasif":"Geçici"})})]})})},d.id)),o&&i.map(d=>e.jsx(ma,{positions:d.points,color:d.color,weight:3,opacity:.8,children:e.jsx(Xe,{children:e.jsxs("div",{className:"p-2",children:[e.jsx("h3",{className:"font-semibold",children:d.name}),d.distance&&e.jsxs("p",{className:"text-sm",children:["Mesafe: ",d.distance," km"]}),d.duration&&e.jsxs("p",{className:"text-sm",children:["Süre: ",d.duration," dk"]})]})})},d.id)),p&&n.map(d=>e.jsx(da,{center:d.center,radius:d.radius,pathOptions:{color:d.color,fillColor:d.color,fillOpacity:.2},children:e.jsx(Xe,{children:e.jsxs("div",{className:"p-2",children:[e.jsx("h3",{className:"font-semibold",children:d.name}),e.jsx("p",{className:"text-sm",children:d.description}),e.jsxs("p",{className:"text-sm",children:["Yarıçap: ",d.radius," m"]})]})})},d.id))]})})},_i=()=>[{id:"1",name:"Merkez Yardım Noktası",lat:41.0082,lng:28.9784,type:"help_center",description:"Ana yardım dağıtım merkezi",address:"Sultanahmet, İstanbul",phone:"0212 555 0123",email:"merkez@dernek.org",status:"active",capacity:1e3,currentOccupancy:750},{id:"2",name:"Kadıköy Dağıtım Merkezi",lat:40.9909,lng:29.0303,type:"distribution_center",description:"Doğu yakası dağıtım merkezi",address:"Kadıköy, İstanbul",phone:"0216 555 0456",email:"kadikoy@dernek.org",status:"active",capacity:500,currentOccupancy:300},{id:"3",name:"Ahmet Yılmaz",lat:41.0151,lng:28.9795,type:"user_location",description:"Yardım alan kişi",phone:"0532 555 0789",status:"active"},{id:"4",name:"Yılbaşı Etkinliği",lat:41.0082,lng:28.9784,type:"event_location",description:"Yılbaşı yardım etkinliği",address:"Taksim Meydanı, İstanbul",status:"temporary"}],Di=()=>[{id:"route_1",name:"Merkez - Kadıköy Rota",points:[[41.0082,28.9784],[40.9909,29.0303]],color:"#3B82F6",distance:12.5,duration:25},{id:"route_2",name:"Dağıtım Rota 1",points:[[41.0082,28.9784],[41.0151,28.9795],[41.02,28.985]],color:"#10B981",distance:8.2,duration:15}],Ei=()=>[{id:"area_1",name:"Merkez Hizmet Alanı",center:[41.0082,28.9784],radius:5e3,color:"#3B82F6",description:"5km yarıçapında hizmet alanı"},{id:"area_2",name:"Kadıköy Hizmet Alanı",center:[40.9909,29.0303],radius:3e3,color:"#10B981",description:"3km yarıçapında hizmet alanı"}],Mi=()=>{const[s,t]=g.useState("map"),[a]=g.useState([41.0082,28.9784]),[i]=g.useState(12),[n]=g.useState(!1),[r]=g.useState(!0),[l]=g.useState(!0),[o,p]=g.useState(null),[c,h]=g.useState(""),[x,u]=g.useState("all"),[d,v]=g.useState(_i()),[f]=g.useState(Di()),[b]=g.useState(Ei()),[N,m]=g.useState({name:"",lat:0,lng:0,type:"help_center",description:"",address:"",phone:"",email:"",status:"active",capacity:0}),y=d.filter(w=>{var M;const A=w.name.toLowerCase().includes(c.toLowerCase())||((M=w.description)==null?void 0:M.toLowerCase().includes(c.toLowerCase())),E=x==="all"||w.type===x;return A&&E}),j=w=>{p(w),t("details")},S=(w,A)=>{v(E=>E.map(M=>M.id===w.id?{...M,lat:A[0],lng:A[1]}:M))},P=()=>{if(!N.name||N.lat===0||N.lng===0)return;const w={id:`location_${Date.now()}`,...N,currentOccupancy:0};v(A=>[...A,w]),m({name:"",lat:0,lng:0,type:"help_center",description:"",address:"",phone:"",email:"",status:"active",capacity:0})},T=w=>{v(A=>A.filter(E=>E.id!==w)),(o==null?void 0:o.id)===w&&p(null)},_=w=>{switch(w){case"help_center":return e.jsx(Ds,{className:"w-4 h-4"});case"distribution_center":return e.jsx(la,{className:"w-4 h-4"});case"user_location":return e.jsx(be,{className:"w-4 h-4"});case"event_location":return e.jsx(_s,{className:"w-4 h-4"});default:return e.jsx(Ee,{className:"w-4 h-4"})}},k=w=>{switch(w){case"help_center":return"bg-blue-100 text-blue-800";case"distribution_center":return"bg-green-100 text-green-800";case"user_location":return"bg-yellow-100 text-yellow-800";case"event_location":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx(z,{className:"p-6",children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ee,{className:"w-6 h-6 text-blue-600"}),e.jsx("h2",{className:"text-xl font-semibold",children:"Harita Yönetimi"}),e.jsxs(L,{variant:"outline",children:[d.length," Lokasyon"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(R,{placeholder:"Lokasyon ara...",value:c,onChange:w=>h(w.target.value),className:"pl-10 w-64"})]}),e.jsxs(ie,{value:x,onValueChange:u,children:[e.jsx(ne,{className:"w-32",children:e.jsx(re,{})}),e.jsxs(le,{children:[e.jsx(D,{value:"all",children:"Tümü"}),e.jsx(D,{value:"help_center",children:"Yardım Merkezi"}),e.jsx(D,{value:"distribution_center",children:"Dağıtım Merkezi"}),e.jsx(D,{value:"user_location",children:"Kullanıcı"}),e.jsx(D,{value:"event_location",children:"Etkinlik"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(z,{className:"p-4",children:e.jsx("div",{className:"relative",children:e.jsx(Ti,{center:a,zoom:i,locations:y,routes:f,areas:b,onLocationClick:j,onMarkerDrag:S,showHeatmap:n,showRoutes:r,showAreas:l,height:"600px"})})})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(z,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Lokasyonlar"}),e.jsxs(C,{size:"sm",onClick:()=>t("add"),children:[e.jsx(et,{className:"w-4 h-4 mr-1"}),"Ekle"]})]}),e.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:y.map(w=>e.jsx("div",{className:"p-3 border rounded-lg hover:bg-gray-50 cursor-pointer",onClick:()=>j(w),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[_(w.type),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:w.name}),e.jsx("p",{className:"text-xs text-gray-600",children:w.description})]})]}),e.jsx(L,{className:k(w.type),children:w.type==="help_center"?"Yardım":w.type==="distribution_center"?"Dağıtım":w.type==="user_location"?"Kullanıcı":"Etkinlik"})]})},w.id))})]}),e.jsxs(z,{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"İstatistikler"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Toplam Lokasyon:"}),e.jsx("span",{className:"font-semibold",children:d.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Aktif Lokasyon:"}),e.jsx("span",{className:"font-semibold text-green-600",children:d.filter(w=>w.status==="active").length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Toplam Rota:"}),e.jsx("span",{className:"font-semibold",children:f.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Hizmet Alanı:"}),e.jsx("span",{className:"font-semibold",children:b.length})]})]})]})]})]}),e.jsxs(Dt,{value:s,onValueChange:t,children:[e.jsxs(Et,{className:"grid w-full grid-cols-3",children:[e.jsx(H,{value:"map",children:"Harita"}),e.jsx(H,{value:"details",children:"Detaylar"}),e.jsx(H,{value:"add",children:"Yeni Ekle"})]}),e.jsx(X,{value:"details",className:"space-y-4",children:o?e.jsxs(z,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-semibold",children:o.name}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(C,{size:"sm",variant:"outline",children:[e.jsx(Gt,{className:"w-4 h-4 mr-1"}),"Düzenle"]}),e.jsxs(C,{size:"sm",variant:"outline",onClick:()=>T(o.id),children:[e.jsx(tt,{className:"w-4 h-4 mr-1"}),"Sil"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Temel Bilgiler"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Tür:"})," ",o.type]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Açıklama:"})," ",o.description]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Durum:"}),e.jsx(L,{className:`ml-2 ${o.status==="active"?"bg-green-100 text-green-800":o.status==="inactive"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:o.status==="active"?"Aktif":o.status==="inactive"?"Pasif":"Geçici"})]}),o.capacity&&e.jsxs("p",{children:[e.jsx("strong",{children:"Kapasite:"})," ",o.currentOccupancy||0,"/",o.capacity]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"İletişim Bilgileri"}),e.jsxs("div",{className:"space-y-2",children:[o.address&&e.jsxs("p",{children:[e.jsx("strong",{children:"Adres:"})," ",o.address]}),o.phone&&e.jsxs("p",{children:[e.jsx("strong",{children:"Telefon:"})," ",o.phone]}),o.email&&e.jsxs("p",{children:[e.jsx("strong",{children:"E-posta:"})," ",o.email]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Koordinatlar:"})," ",o.lat.toFixed(6),", ",o.lng.toFixed(6)]})]})]})]})]}):e.jsxs(z,{className:"p-6 text-center",children:[e.jsx(Ee,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Detayları görüntülemek için bir lokasyon seçin"})]})}),e.jsx(X,{value:"add",className:"space-y-4",children:e.jsxs(z,{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Yeni Lokasyon Ekle"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Lokasyon Adı"}),e.jsx(R,{value:N.name,onChange:w=>m(A=>({...A,name:w.target.value})),placeholder:"Lokasyon adı"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tür"}),e.jsxs(ie,{value:N.type,onValueChange:w=>m(A=>({...A,type:w})),children:[e.jsx(ne,{children:e.jsx(re,{})}),e.jsxs(le,{children:[e.jsx(D,{value:"help_center",children:"Yardım Merkezi"}),e.jsx(D,{value:"distribution_center",children:"Dağıtım Merkezi"}),e.jsx(D,{value:"user_location",children:"Kullanıcı Lokasyonu"}),e.jsx(D,{value:"event_location",children:"Etkinlik Lokasyonu"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Enlem"}),e.jsx(R,{type:"number",step:"any",value:N.lat,onChange:w=>m(A=>({...A,lat:parseFloat(w.target.value)||0})),placeholder:"41.0082"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Boylam"}),e.jsx(R,{type:"number",step:"any",value:N.lng,onChange:w=>m(A=>({...A,lng:parseFloat(w.target.value)||0})),placeholder:"28.9784"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Açıklama"}),e.jsx(R,{value:N.description,onChange:w=>m(A=>({...A,description:w.target.value})),placeholder:"Lokasyon açıklaması"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Adres"}),e.jsx(R,{value:N.address,onChange:w=>m(A=>({...A,address:w.target.value})),placeholder:"Adres"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Telefon"}),e.jsx(R,{value:N.phone,onChange:w=>m(A=>({...A,phone:w.target.value})),placeholder:"Telefon"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"E-posta"}),e.jsx(R,{type:"email",value:N.email,onChange:w=>m(A=>({...A,email:w.target.value})),placeholder:"E-posta"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Kapasite"}),e.jsx(R,{type:"number",value:N.capacity,onChange:w=>m(A=>({...A,capacity:parseInt(w.target.value)||0})),placeholder:"Kapasite"})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsxs(C,{onClick:P,disabled:!N.name,children:[e.jsx(et,{className:"w-4 h-4 mr-1"}),"Lokasyon Ekle"]})})]})})]})]})},Ri=[{id:"total-donations",title:"Toplam Bağışlar",description:"Toplam bağış miktarı ve değişim oranı",icon:null,category:"financial",enabled:!0,position:0,size:"small",color:"bg-blue-500"},{id:"active-beneficiaries",title:"Aktif İhtiyaç Sahipleri",description:"Aktif yardım alan kişi sayısı",icon:null,category:"activity",enabled:!0,position:1,size:"small",color:"bg-green-500"},{id:"monthly-growth",title:"Aylık Büyüme",description:"Aylık büyüme oranı ve trend",icon:null,category:"financial",enabled:!0,position:2,size:"small",color:"bg-purple-500"},{id:"fund-distribution",title:"Fon Dağılımı",description:"Fonların dağılım oranı",icon:null,category:"financial",enabled:!0,position:3,size:"small",color:"bg-orange-500"},{id:"recent-activities",title:"Son Aktiviteler",description:"Son sistem aktiviteleri",icon:null,category:"activity",enabled:!0,position:4,size:"medium",color:"bg-indigo-500"},{id:"pending-tasks",title:"Bekleyen Görevler",description:"Tamamlanmamış görevler",icon:null,category:"management",enabled:!0,position:5,size:"medium",color:"bg-red-500"},{id:"messages",title:"Mesajlar",description:"Son mesajlar ve bildirimler",icon:null,category:"communication",enabled:!0,position:6,size:"medium",color:"bg-teal-500"},{id:"donation-chart",title:"Bağış Grafiği",description:"Bağış trendleri ve analizi",icon:null,category:"financial",enabled:!0,position:7,size:"large",color:"bg-blue-600"},{id:"beneficiary-chart",title:"İhtiyaç Sahibi Analizi",description:"İhtiyaç sahipleri dağılımı",icon:null,category:"activity",enabled:!0,position:8,size:"large",color:"bg-green-600"}],ze={widgets:Ri,layout:"grid",theme:"auto",showWelcomeMessage:!0,autoRefresh:!1,refreshInterval:5};function Bi(){const{user:s}=Es(),[t,a]=g.useState(ze),[i,n]=g.useState(!0);g.useEffect(()=>{if(s){const m=localStorage.getItem(`dashboard_settings_${s.id}`);if(m)try{const y=JSON.parse(m);a({...ze,...y})}catch(y){console.error("Failed to parse dashboard settings:",y),a(ze)}n(!1)}},[s]);const r=m=>{s&&(a(m),localStorage.setItem(`dashboard_settings_${s.id}`,JSON.stringify(m)))},l=m=>{r({...t,widgets:m})};return{settings:t,isLoading:i,updateWidgets:l,toggleWidget:m=>{const y=t.widgets.map(j=>j.id===m?{...j,enabled:!j.enabled}:j);l(y)},updateWidgetSize:(m,y)=>{const j=t.widgets.map(S=>S.id===m?{...S,size:y}:S);l(j)},reorderWidgets:(m,y)=>{const j=[...t.widgets],[S]=j.splice(m,1);j.splice(y,0,S);const P=j.map((T,_)=>({...T,position:_}));l(P)},updateLayout:m=>{r({...t,layout:m})},updateTheme:m=>{r({...t,theme:m})},toggleWelcomeMessage:()=>{r({...t,showWelcomeMessage:!t.showWelcomeMessage})},toggleAutoRefresh:()=>{r({...t,autoRefresh:!t.autoRefresh})},updateRefreshInterval:m=>{r({...t,refreshInterval:m})},resetToDefaults:()=>{r(ze)},getEnabledWidgets:()=>t.widgets.filter(m=>m.enabled).sort((m,y)=>m.position-y.position),getWidgetsByCategory:m=>t.widgets.filter(y=>y.category===m)}}function Li(){const[s,t]=g.useState(!1),[a,i]=g.useState(!1),[n,r]=g.useState(!1),[l,o]=g.useState(!1),[p,c]=g.useState(!1),[h,x]=g.useState(!1),{settings:u,updateWidgets:d}=Bi();return e.jsxs("div",{className:"min-h-screen bg-neutral-50 space-y-4 sm:space-y-6 p-4 sm:p-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-brand-primary to-brand-600 rounded-xl p-6 sm:p-8 text-white shadow-lg relative",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-2 sm:mb-3 tracking-tight",children:"Hoş Geldiniz!"}),e.jsx("p",{className:"text-base sm:text-lg text-white/90 leading-relaxed",children:"Dernek finansal yönetim panelinize hoş geldiniz. Güncel durumu aşağıdan takip edebilirsiniz."})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(C,{variant:"ghost",size:"sm",onClick:()=>i(!0),className:"text-white hover:bg-white/10",children:[e.jsx(Je,{className:"w-4 h-4 mr-1"}),"Cache"]}),e.jsxs(C,{variant:"ghost",size:"sm",onClick:()=>t(!0),className:"text-white hover:bg-white/10",children:[e.jsx(Ge,{className:"w-4 h-4 mr-1"}),"Kişiselleştir"]}),e.jsxs(C,{variant:"ghost",size:"sm",onClick:()=>r(!0),className:"text-white hover:bg-white/10",children:[e.jsx(Be,{className:"w-4 h-4 mr-1"}),"Rapor"]}),e.jsxs(C,{variant:"ghost",size:"sm",onClick:()=>o(!0),className:"text-white hover:bg-white/10",children:[e.jsx(W,{className:"w-4 h-4 mr-1"}),"Grafikler"]}),e.jsxs(C,{variant:"ghost",size:"sm",onClick:()=>c(!0),className:"text-white hover:bg-white/10",children:[e.jsx(Re,{className:"w-4 h-4 mr-1"}),"WhatsApp"]}),e.jsxs(C,{variant:"ghost",size:"sm",onClick:()=>x(!0),className:"text-white hover:bg-white/10",children:[e.jsx(Ee,{className:"w-4 h-4 mr-1"}),"Harita"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[e.jsx(Ha,{totalDonations:45230,monthlyChange:8.2,trend:[42e3,43500,44200,45230]}),e.jsx(qa,{count:1234,monthlyChange:12}),e.jsx(Ya,{growthRate:15.4,period:"Son 30 gün"}),e.jsx(Va,{distributionRate:87,target:85})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(Pe,{title:"Yeni Başvuru",description:"İhtiyaç sahibi başvurusu oluştur",icon:e.jsx(Be,{className:"h-6 w-6"}),color:"bg-brand-primary",link:"/aid/applications"}),e.jsx(Pe,{title:"Bağış Kabul",description:"Yeni bağış kaydı oluştur",icon:e.jsx(Ms,{className:"h-6 w-6"}),color:"bg-financial-success",link:"/donations/cash"}),e.jsx(Pe,{title:"Mesaj Gönder",description:"Toplu mesaj gönderimi yap",icon:e.jsx(Re,{className:"h-6 w-6"}),color:"bg-chart-5",link:"/messages/bulk-send"}),e.jsx(Pe,{title:"Rapor Oluştur",description:"Yardım raporu hazırla",icon:e.jsx(Wt,{className:"h-6 w-6"}),color:"bg-chart-7",link:"/aid/reports"})]}),e.jsx(ei,{}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"rounded-lg border bg-card p-4",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[e.jsx(ct,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"font-semibold",children:"Son Aktiviteler"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(Te,{title:"Yeni başvuru onaylandı",subtitle:"Ayşe Yılmaz - Nakdi Yardım",time:"2 saat önce"}),e.jsx(Te,{title:"Bağış alındı",subtitle:"₺500 - Ahmet Demir",time:"4 saat önce"}),e.jsx(Te,{title:"Toplu mesaj gönderildi",subtitle:"142 kişiye SMS gönderildi",time:"6 saat önce"}),e.jsx(Te,{title:"Yardım dağıtıldı",subtitle:"₺1,200 - 3 aile",time:"1 gün önce"})]}),e.jsx(st,{to:"/aid",className:"mt-4 block text-sm text-primary hover:underline",children:"Tüm aktiviteleri gör →"})]}),e.jsxs("div",{className:"rounded-lg border bg-card p-4",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[e.jsx(ce,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"font-semibold",children:"Bu Ayki Hedefler"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(_e,{title:"Bağış Hedefi",current:45670,target:6e4,unit:"₺"}),e.jsx(_e,{title:"Yardım Dağıtımı",current:38240,target:45e3,unit:"₺"}),e.jsx(_e,{title:"Yeni Başvuru",current:12,target:20,unit:""}),e.jsx(_e,{title:"Burs Öğrenci",current:85,target:100,unit:""})]})]}),e.jsxs("div",{className:"rounded-lg border bg-card p-4",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[e.jsx(lt,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"font-semibold",children:"Yaklaşan Etkinlikler"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(De,{title:"Yönetim Kurulu Toplantısı",date:"15 Ocak 2024",time:"14:00"}),e.jsx(De,{title:"Bağış Kampanyası Lansmanı",date:"20 Ocak 2024",time:"10:00"}),e.jsx(De,{title:"İhtiyaç Sahipleri Ziyareti",date:"25 Ocak 2024",time:"09:00"}),e.jsx(De,{title:"Burs Öğrenci Buluşması",date:"30 Ocak 2024",time:"15:00"})]}),e.jsx(st,{to:"/messages",className:"mt-4 block text-sm text-primary hover:underline",children:"Takvimi gör →"})]})]}),e.jsx(ni,{isOpen:s,onClose:()=>t(!1),onSave:d,currentWidgets:u.widgets}),e.jsx(oi,{isOpen:a,onClose:()=>i(!1)}),n&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-6xl max-h-[90vh] overflow-y-auto bg-white rounded-lg shadow-2xl",children:[e.jsx("div",{className:"p-6 border-b",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Rapor Oluşturucu"}),e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>r(!1),children:e.jsx(fe,{className:"w-4 h-4"})})]})}),e.jsx("div",{className:"p-6",children:e.jsx(vi,{})})]})}),l&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-7xl max-h-[90vh] overflow-y-auto bg-white rounded-lg shadow-2xl",children:[e.jsx("div",{className:"p-6 border-b",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Grafik Dashboard"}),e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>o(!1),children:e.jsx(fe,{className:"w-4 h-4"})})]})}),e.jsx("div",{className:"p-6",children:e.jsx(Ai,{})})]})}),p&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-6xl max-h-[90vh] overflow-y-auto bg-white rounded-lg shadow-2xl",children:[e.jsx("div",{className:"p-6 border-b",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"WhatsApp Yöneticisi"}),e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>c(!1),children:e.jsx(fe,{className:"w-4 h-4"})})]})}),e.jsx("div",{className:"p-6",children:e.jsx(Oi,{})})]})}),h&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-7xl max-h-[90vh] overflow-y-auto bg-white rounded-lg shadow-2xl",children:[e.jsx("div",{className:"p-6 border-b",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Harita Yönetimi"}),e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>x(!1),children:e.jsx(fe,{className:"w-4 h-4"})})]})}),e.jsx("div",{className:"p-6",children:e.jsx(Mi,{})})]})})]})}function Pe({title:s,description:t,icon:a,color:i,link:n}){return e.jsx(st,{to:n,className:"group block",children:e.jsxs("div",{className:"rounded-lg border bg-card p-4 transition-all hover:border-primary hover:shadow-md",children:[e.jsx("div",{className:`mb-3 inline-flex h-10 w-10 items-center justify-center rounded-lg ${i} text-white`,children:a}),e.jsx("h3",{className:"font-semibold group-hover:text-primary",children:s}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t})]})})}function Te({title:s,subtitle:t,time:a}){return e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"mt-1 h-2 w-2 rounded-full bg-primary"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:s}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a})]})]})}function _e({title:s,current:t,target:a,unit:i}){const n=Math.round(t/a*100);return e.jsxs("div",{children:[e.jsxs("div",{className:"mb-1 flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:s}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[i,t.toLocaleString("tr-TR")," / ",i,a.toLocaleString("tr-TR")]})]}),e.jsx("div",{className:"h-2 w-full rounded-full bg-muted",children:e.jsx("div",{className:"h-2 rounded-full bg-primary transition-all duration-300",style:{width:`${Math.min(n,100)}%`}})}),e.jsxs("p",{className:"mt-1 text-xs text-muted-foreground",children:["%",n," tamamlandı"]})]})}function De({title:s,date:t,time:a}){return e.jsxs("div",{className:"flex items-center gap-3 rounded border p-2",children:[e.jsxs("div",{className:"flex h-12 w-12 flex-col items-center justify-center rounded bg-primary/10 text-primary",children:[e.jsx("span",{className:"text-xs font-medium",children:t.split(" ")[0]}),e.jsx("span",{className:"text-xs",children:t.split(" ")[1]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:s}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a})]})]})}const tn=Object.freeze(Object.defineProperty({__proto__:null,default:Li},Symbol.toStringTag,{value:"Module"}));export{Ia as A,tn as I,q as a};
