import{r as t,j as e,n as $,e as q,S as J,F as Q,g as k,x as E,y as w,t as W}from"./index-JhQGfP3r.js";import{D as X}from"./DataTable-ZpmiLouZ.js";import{M as T}from"./Modal-Ul9aPZYl.js";import{u as ee}from"./useSanitization-ErJItaD9.js";import{U as ae}from"./upload-DN6YiATQ.js";import{E as se}from"./eye-Bcuk08KK.js";import{P as te}from"./pen-square-BZRlDdvk.js";import"./sanitization-BJYGODn_.js";import"./purify.es-CQJ0hv7W.js";function xe(){const[r,Y]=t.useState(""),[c,Z]=t.useState("all"),[d,L]=t.useState("all"),[l,C]=t.useState(null),[G,y]=t.useState(!1),[H,v]=t.useState(!1),[_,f]=t.useState(!1),[S,m]=t.useState(""),[z,u]=t.useState(""),[x,g]=t.useState(""),[D,p]=t.useState("general"),[A,h]=t.useState("notification"),[K,b]=t.useState(!1),{createSanitizedChangeHandler:n}=ee(),i=[{value:"general",label:"Genel"},{value:"welcome",label:"Hoş Geldin"},{value:"reminder",label:"Hatırlatma"},{value:"notification",label:"Bildirim"},{value:"promotion",label:"Promosyon"},{value:"emergency",label:"Acil Durum"}],o=[{id:"1",name:"Hoş Geldiniz Mesajı",subject:"Derneğimize Hoş Geldiniz",content:`Sayın {firstName} {lastName},

Kafkas Kültür ve Dayanışma Derneği ailesine hoş geldiniz. Sizinle birlikte daha güçlü bir topluluk oluşturuyoruz.

Saygılarımızla,
Dernek Yönetimi`,type:"email",category:"welcome",variables:["firstName","lastName"],isActive:!0,createdAt:"2024-01-15T10:00:00Z",updatedAt:"2024-01-15T10:00:00Z",usageCount:25},{id:"2",name:"Toplantı Daveti",subject:"Aylık Genel Toplantı Daveti",content:`Sayın {firstName},

{meetingDate} tarihinde saat {meetingTime} da yapılacak aylık genel toplantımıza katılımınızı bekliyoruz.

Toplantı Konuları:
- Aylık faaliyet raporu
- Bütçe değerlendirmesi
- Yeni projeler

Konum: {location}

Saygılarımızla,
Dernek Yönetimi`,type:"email",category:"meeting",variables:["firstName","meetingDate","meetingTime","location"],isActive:!0,createdAt:"2024-01-20T10:00:00Z",updatedAt:"2024-01-20T10:00:00Z",usageCount:15},{id:"3",name:"Yardım Başvuru Onayı",subject:"Yardım Başvurunuz Onaylandı",content:`Sayın {firstName} {lastName},

{applicationDate} tarihinde yapmış olduğunuz {aidType} yardım başvurunuz onaylanmıştır.

Yardım Tutarı: {amount} TL
Dağıtım Tarihi: {distributionDate}

Gerekli evrakları tamamladıktan sonra yardımınızı alabilirsiniz.

Saygılarımızla,
Dernek Yönetimi`,type:"sms",category:"aid",variables:["firstName","lastName","applicationDate","aidType","amount","distributionDate"],isActive:!0,createdAt:"2024-01-25T10:00:00Z",updatedAt:"2024-01-25T10:00:00Z",usageCount:42},{id:"4",name:"Doğum Günü Kutlaması",subject:"Doğum Gününüz Kutlu Olsun!",content:`Sevgili {firstName},

Doğum gününüzü kutlar, sağlık, mutluluk ve başarı dolu bir yaş dileriz.

Dernek ailesi olarak her zaman yanınızdayız.

Sevgi ve saygılarımızla,
Kafkas Kültür ve Dayanışma Derneği`,type:"email",category:"birthday",variables:["firstName"],isActive:!0,createdAt:"2024-02-01T10:00:00Z",updatedAt:"2024-02-01T10:00:00Z",usageCount:8},{id:"5",name:"Acil Durum Bildirimi",subject:"ACİL: Önemli Duyuru",content:`Sayın üyelerimiz,

ACİL DURUM: {emergencyMessage}

Lütfen dernek merkezini arayınız: {phoneNumber}

Dernek Yönetimi`,type:"sms",category:"emergency",variables:["emergencyMessage","phoneNumber"],isActive:!0,createdAt:"2024-02-05T10:00:00Z",updatedAt:"2024-02-05T10:00:00Z",usageCount:2},{id:"6",name:"Burs Başvuru Sonucu",subject:"Burs Başvuru Değerlendirme Sonucu",content:`Sayın {firstName} {lastName},

{academicYear} eğitim-öğretim yılı için yapmış olduğunuz burs başvurunuz değerlendirilmiştir.

Sonuç: {result}
{resultMessage}

Detaylı bilgi için dernek merkezimizi ziyaret edebilirsiniz.

Başarılar dileriz,
Eğitim Koordinatörlüğü`,type:"email",category:"scholarship",variables:["firstName","lastName","academicYear","result","resultMessage"],isActive:!0,createdAt:"2024-02-10T10:00:00Z",updatedAt:"2024-02-10T10:00:00Z",usageCount:18}],I=t.useMemo(()=>o.filter(a=>{const s=a.name.toLowerCase().includes(r.toLowerCase())||a.subject.toLowerCase().includes(r.toLowerCase())||a.content.toLowerCase().includes(r.toLowerCase()),N=c==="all"||a.category===c,j=d==="all"||a.type===d;return s&&N&&j}),[r,c,d,o]),P=a=>{C(a),y(!0)},M=a=>{C(a),m(a.name),u(a.subject),g(a.content),p(a.category||"general"),h(a.type),b(a.isFavorite||!1),v(!0)},U=()=>{m(""),u(""),g(""),p("general"),h("notification"),b(!1),f(!0)},F=a=>{navigator.clipboard.writeText(a.content),alert("Şablon içeriği panoya kopyalandı!")},B=a=>{var j;const s={general:"bg-gray-100 text-gray-800",welcome:"bg-blue-100 text-blue-800",reminder:"bg-yellow-100 text-yellow-800",notification:"bg-purple-100 text-purple-800",promotion:"bg-green-100 text-green-800",emergency:"bg-red-100 text-red-800"},N=((j=i.find(R=>R.value===a))==null?void 0:j.label)||a;return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${s[a]}`,children:N})},O=a=>{const s={sms:"bg-green-100 text-green-800",email:"bg-blue-100 text-blue-800",notification:"bg-purple-100 text-purple-800"};return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${s[a]}`,children:a==="sms"?"SMS":a==="email"?"E-posta":"Bildirim"})},V=[{key:"name",header:"Şablon Adı",render:(a,s)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-4 w-4 text-blue-500"}),e.jsx("span",{className:"font-medium",children:s.name}),s.isFavorite&&e.jsx(E,{className:"h-4 w-4 text-yellow-500 fill-current"})]})},{key:"subject",header:"Konu",render:(a,s)=>e.jsx("span",{className:"text-sm",children:s.subject})},{key:"category",header:"Kategori",render:(a,s)=>B(s.category||"general")},{key:"type",header:"Tür",render:(a,s)=>O(s.type)},{key:"usageCount",header:"Kullanım",render:(a,s)=>e.jsx("span",{className:"font-medium",children:s.usageCount||0})},{key:"createdAt",header:"Oluşturulma",render:(a,s)=>e.jsx("span",{className:"text-sm",children:s.createdAt})},{key:"actions",header:"İşlemler",render:(a,s)=>e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>P(s),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",title:"Görüntüle",children:e.jsx(se,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>F(s),className:"p-1 text-purple-600 hover:bg-purple-50 rounded",title:"Kopyala",children:e.jsx(w,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>M(s),className:"p-1 text-green-600 hover:bg-green-50 rounded",title:"Düzenle",children:e.jsx(te,{className:"h-4 w-4"})}),e.jsx("button",{className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Sil",children:e.jsx(W,{className:"h-4 w-4"})})]})}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Mesaj Şablonları"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Hazır mesaj şablonlarını yönetin"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{className:"flex items-center gap-2 bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:[e.jsx(ae,{className:"h-4 w-4"}),"İçe Aktar"]}),e.jsxs("button",{className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx($,{className:"h-4 w-4"}),"Dışa Aktar"]}),e.jsxs("button",{onClick:U,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(q,{className:"h-4 w-4"}),"Yeni Şablon"]})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{className:"h-4 w-4 text-gray-400"}),e.jsx("input",{value:r,onChange:a=>Y(a.target.value),className:"flex-1 border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Şablon adı, konu veya içerik ara..."})]}),e.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filtreler:"})]}),e.jsxs("select",{value:c,onChange:a=>Z(a.target.value),className:"border rounded px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"Tüm Kategoriler"}),i.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))]}),e.jsxs("select",{value:d,onChange:a=>L(a.target.value),className:"border rounded px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"Tüm Türler"}),e.jsx("option",{value:"sms",children:"SMS"}),e.jsx("option",{value:"email",children:"E-posta"}),e.jsx("option",{value:"notification",children:"Bildirim"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white p-4 rounded-lg border",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-5 w-5 text-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Toplam Şablon"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.length})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5 text-yellow-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Favori Şablonlar"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.filter(a=>a.isFavorite).length})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(w,{className:"h-5 w-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"En Çok Kullanılan"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Math.max(...o.map(a=>a.usageCount||0))})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-5 w-5 text-purple-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Kategoriler"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i.length})]})]})})]}),e.jsx("div",{className:"bg-white rounded-lg border",children:e.jsx(X,{columns:V,data:I})}),e.jsx(T,{isOpen:G,onClose:()=>y(!1),title:"Şablon Detayları",children:l&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Şablon Adı"}),e.jsx("p",{className:"text-sm text-gray-900",children:l.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kategori"}),B(l.category||"general")]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tür"}),O(l.type)]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kullanım Sayısı"}),e.jsx("p",{className:"text-sm text-gray-900",children:l.usageCount||0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Oluşturulma Tarihi"}),e.jsx("p",{className:"text-sm text-gray-900",children:l.createdAt})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Favori"}),e.jsx("p",{className:"text-sm text-gray-900",children:l.isFavorite?"Evet":"Hayır"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Konu"}),e.jsx("div",{className:"bg-gray-50 p-3 rounded border",children:e.jsx("p",{className:"text-sm text-gray-900",children:l.subject})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"İçerik"}),e.jsx("div",{className:"bg-gray-50 p-3 rounded border",children:e.jsx("p",{className:"text-sm text-gray-900 whitespace-pre-wrap",children:l.content})})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsxs("button",{onClick:()=>F(l),className:"flex items-center gap-2 px-4 py-2 text-purple-600 border border-purple-300 rounded-lg hover:bg-purple-50 transition-colors",children:[e.jsx(w,{className:"h-4 w-4"}),"Kopyala"]}),e.jsx("button",{onClick:()=>{y(!1),M(l)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Düzenle"})]})]})}),e.jsx(T,{isOpen:H,onClose:()=>v(!1),title:"Şablon Düzenle",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Şablon Adı"}),e.jsx("input",{type:"text",value:S,onChange:n(a=>m(a),"text"),className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Şablon adı"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kategori"}),e.jsx("select",{value:D,onChange:a=>p(a.target.value),className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:i.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tür"}),e.jsxs("select",{value:A,onChange:a=>h(a.target.value),className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"notification",children:"Bildirim"}),e.jsx("option",{value:"sms",children:"SMS"}),e.jsx("option",{value:"email",children:"E-posta"})]})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:K,onChange:a=>b(a.target.checked),className:"rounded"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Favori olarak işaretle"})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Konu"}),e.jsx("input",{type:"text",value:z,onChange:n(a=>u(a),"text"),className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Mesaj konusu"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"İçerik"}),e.jsx("textarea",{value:x,onChange:n(a=>g(a),"text"),rows:6,className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Şablon içeriği..."}),e.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Karakter sayısı: ",x.length]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx("button",{onClick:()=>v(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"İptal"}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Kaydet"})]})]})}),e.jsx(T,{isOpen:_,onClose:()=>f(!1),title:"Yeni Şablon Oluştur",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Şablon Adı"}),e.jsx("input",{type:"text",value:S,onChange:n(a=>m(a),"text"),className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Şablon adı"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kategori"}),e.jsx("select",{value:D,onChange:a=>p(a.target.value),className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:i.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tür"}),e.jsxs("select",{value:A,onChange:a=>h(a.target.value),className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"notification",children:"Bildirim"}),e.jsx("option",{value:"sms",children:"SMS"}),e.jsx("option",{value:"email",children:"E-posta"})]})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:K,onChange:a=>b(a.target.checked),className:"rounded"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Favori olarak işaretle"})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Konu"}),e.jsx("input",{type:"text",value:z,onChange:n(a=>u(a),"text"),className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Mesaj konusu"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"İçerik"}),e.jsx("textarea",{value:x,onChange:n(a=>g(a),"text"),rows:6,className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Şablon içeriği..."}),e.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Karakter sayısı: ",x.length]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"İptal"}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Oluştur"})]})]})})]})}export{xe as default};
