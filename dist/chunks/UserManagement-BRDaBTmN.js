import{t as e,r as s,j as i,O as r,X as m,aI as t,J as n,U as a,M as l,B as o,P as d,a0 as c,i as u,aJ as h,T as N,l as b,n as x,S as v}from"../assets/index-CzvAnh9f.js";import{u as p}from"./useUserManagement-DZf5VBlD.js";import{M as g}from"./Modal-CXkm-C8J.js";import{P as f}from"./pen-square-DRhBp83i.js";import{E as y}from"./eye-off-DfaX89aY.js";import{E as U}from"./eye-C9FxZSh9.js";const j=e("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);function D({isOpen:e,onClose:a,user:l,onRoleChange:o}){var d;const[c,u]=s.useState(l.role),[h,N]=s.useState(""),[b,x]=s.useState(!1),[v,p]=s.useState(null),f=e=>({super_admin:"Sistemin tüm özelliklerine erişim ve tüm yetkileri",admin:"Kullanıcı yönetimi ve sistem ayarları dahil geniş yetkiler",manager:"Departman yönetimi ve onay süreçlerinde yetki",coordinator:"Proje koordinasyonu ve takım yönetimi yetkileri",operator:"Günlük operasyonel işlemler için temel yetkiler",viewer:"Sadece görüntüleme yetkisi, değişiklik yapamaz"}[e]||""),y=e=>({super_admin:"border-red-300 bg-red-50 text-red-800",admin:"border-orange-300 bg-orange-50 text-orange-800",manager:"border-purple-300 bg-purple-50 text-purple-800",coordinator:"border-blue-300 bg-blue-50 text-blue-800",operator:"border-green-300 bg-green-50 text-green-800",viewer:"border-gray-300 bg-gray-50 text-gray-800"}[e]||"border-gray-300 bg-gray-50 text-gray-800"),U=()=>{b||(p(null),u(l.role),N(""),a())};return i.jsxDEV(g,{isOpen:e,onClose:U,children:i.jsxDEV("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-hidden",children:[i.jsxDEV("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[i.jsxDEV("div",{className:"flex items-center",children:[i.jsxDEV(r,{className:"h-6 w-6 text-purple-600 mr-2"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:98,columnNumber:13},this),i.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:"Kullanıcı Rolünü Değiştir"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:99,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:97,columnNumber:11},this),i.jsxDEV("button",{onClick:U,disabled:b,className:"text-gray-400 hover:text-gray-600 disabled:cursor-not-allowed",children:i.jsxDEV(m,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:108,columnNumber:13},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:103,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:96,columnNumber:9},this),i.jsxDEV("form",{onSubmit:async e=>{if(e.preventDefault(),c!==l.role){x(!0),p(null);try{const e=await o(l.id,c,h.trim()||void 0);e.success?a():p(e.error||"Rol değiştirme işlemi başarısız")}catch(s){p(s instanceof Error?s.message:"Beklenmeyen bir hata oluştu")}finally{x(!1)}}else p("Lütfen farklı bir rol seçin")},className:"p-6 space-y-6",children:[i.jsxDEV("div",{className:"bg-gray-50 rounded-lg p-4",children:i.jsxDEV("div",{className:"flex items-center",children:[i.jsxDEV("div",{className:"h-12 w-12 rounded-full bg-indigo-100 flex items-center justify-center",children:i.jsxDEV("span",{className:"text-indigo-600 font-medium text-lg",children:(null==(d=l.full_name)?void 0:d.charAt(0))||l.email.charAt(0).toUpperCase()},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:118,columnNumber:17},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:117,columnNumber:15},this),i.jsxDEV("div",{className:"ml-4",children:[i.jsxDEV("h4",{className:"text-lg font-medium text-gray-900",children:l.full_name||l.email},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:123,columnNumber:17},this),i.jsxDEV("p",{className:"text-sm text-gray-500",children:l.email},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:126,columnNumber:17},this),i.jsxDEV("p",{className:"text-sm text-gray-500",children:["Mevcut Rol: ",i.jsxDEV("span",{className:"font-medium",children:t(l.role)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:128,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:127,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:122,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:116,columnNumber:13},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:115,columnNumber:11},this),i.jsxDEV("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:i.jsxDEV("div",{className:"flex",children:[i.jsxDEV(n,{className:"h-5 w-5 text-blue-400"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:137,columnNumber:15},this),i.jsxDEV("div",{className:"ml-3",children:i.jsxDEV("p",{className:"text-sm text-blue-800",children:[i.jsxDEV("strong",{children:"Bilgi:"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:140,columnNumber:19},this)," Rol atama işlevi devre dışı bırakılmıştır. Tüm kullanıcılar otomatik olarak tam yetkiye sahiptir."]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:139,columnNumber:17},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:138,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:136,columnNumber:13},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:135,columnNumber:11},this),v&&i.jsxDEV("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:i.jsxDEV("div",{className:"flex",children:[i.jsxDEV(n,{className:"h-5 w-5 text-red-400"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:151,columnNumber:17},this),i.jsxDEV("div",{className:"ml-3",children:i.jsxDEV("p",{className:"text-sm text-red-800",children:v},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:153,columnNumber:19},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:152,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:150,columnNumber:15},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:149,columnNumber:11},this),i.jsxDEV("div",{children:[i.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Yeni Rol Seçin"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:161,columnNumber:13},this),i.jsxDEV("div",{className:"space-y-3",children:["super_admin","admin","manager","coordinator","operator","viewer"].map(e=>i.jsxDEV("label",{className:`relative flex cursor-pointer rounded-lg border p-4 hover:bg-gray-50 ${c===e?y(e):"border-gray-300"} opacity-50 cursor-not-allowed`,children:[i.jsxDEV("input",{type:"radio",name:"role",value:e,checked:c===e,onChange:e=>u(e.target.value),disabled:!0,className:"sr-only"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:174,columnNumber:19},this),i.jsxDEV("div",{className:"flex w-full items-start",children:[i.jsxDEV("div",{className:"flex-shrink-0",children:i.jsxDEV("div",{className:"h-5 w-5 rounded-full border-2 flex items-center justify-center "+(c===e?"border-current bg-current":"border-gray-300"),children:c===e&&i.jsxDEV("div",{className:"h-2 w-2 bg-white rounded-full"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:191,columnNumber:23},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:185,columnNumber:23},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:184,columnNumber:21},this),i.jsxDEV("div",{className:"ml-3 flex-1",children:[i.jsxDEV("div",{className:"flex items-center justify-between",children:[i.jsxDEV("p",{className:"font-medium",children:t(e)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:197,columnNumber:25},this),e===l.role&&i.jsxDEV("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-600 rounded-full",children:"Mevcut"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:199,columnNumber:23},this),i.jsxDEV("span",{className:"text-xs px-2 py-1 bg-red-100 text-red-600 rounded-full",children:"Yetki Yok"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:204,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:196,columnNumber:23},this),i.jsxDEV("p",{className:"text-sm text-gray-600 mt-1",children:f(e)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:209,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:195,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:183,columnNumber:19},this)]},e,!0,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:166,columnNumber:15},this))},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:164,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:160,columnNumber:11},this),i.jsxDEV("div",{children:[i.jsxDEV("label",{htmlFor:"reason",className:"block text-sm font-medium text-gray-700 mb-2",children:"Değişiklik Nedeni (Opsiyonel)"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:221,columnNumber:13},this),i.jsxDEV("textarea",{id:"reason",value:h,onChange:e=>N(e.target.value),disabled:b,rows:3,placeholder:"Bu rol değişikliğinin nedenini açıklayın...",className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:ring-blue-500 disabled:bg-gray-50 disabled:cursor-not-allowed"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:224,columnNumber:13},this),i.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:"Bu bilgi rol değişiklik loglarında saklanacak"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:233,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:220,columnNumber:11},this),c!==l.role&&i.jsxDEV("div",{className:"bg-amber-50 border border-amber-200 rounded-md p-4",children:i.jsxDEV("div",{className:"flex",children:[i.jsxDEV(n,{className:"h-5 w-5 text-amber-400"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:242,columnNumber:17},this),i.jsxDEV("div",{className:"ml-3",children:i.jsxDEV("p",{className:"text-sm text-amber-800",children:[i.jsxDEV("strong",{children:"Dikkat:"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:245,columnNumber:21},this)," Rol değişikliği kullanıcının sistem erişim yetkilerini değiştirecek. Bu işlem geri alınamaz ve kullanıcı yeni rolüne göre yetkilendirilecek."]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:244,columnNumber:19},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:243,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:241,columnNumber:15},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:240,columnNumber:11},this),i.jsxDEV("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200",children:[i.jsxDEV("button",{type:"button",onClick:U,disabled:b,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50",children:"İptal"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:255,columnNumber:13},this),i.jsxDEV("button",{type:"submit",disabled:b||c===l.role||!0,className:"px-4 py-2 text-sm font-medium text-white bg-purple-600 border border-transparent rounded-md hover:bg-purple-700 disabled:cursor-not-allowed disabled:opacity-50",children:b?"Güncelleniyor...":"Rolü Değiştir"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:263,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:254,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:113,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:94,columnNumber:7},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/RoleChangeModal.tsx",lineNumber:93,columnNumber:5},this)}function E({isOpen:e,onClose:r,user:t,onSave:n}){var u;const[h,N]=s.useState({full_name:t.full_name||"",email:t.email||"",department:t.department||"",phone:t.phone||""}),[b,x]=s.useState(!1),[v,p]=s.useState(null),f=e=>{const{name:s,value:i}=e.target;N(e=>({...e,[s]:i}))},y=()=>{b||(p(null),N({full_name:t.full_name||"",email:t.email||"",department:t.department||"",phone:t.phone||""}),r())};return i.jsxDEV(g,{isOpen:e,onClose:y,children:i.jsxDEV("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[i.jsxDEV("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[i.jsxDEV("div",{className:"flex items-center",children:[i.jsxDEV(a,{className:"h-6 w-6 text-blue-600 mr-2"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserProfileModal.tsx",lineNumber:108,columnNumber:13},this),i.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:"Profil Düzenle"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserProfileModal.tsx",lineNumber:109,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/UserProfileModal.tsx",lineNumber:107,columnNumber:11},this),i.jsxDEV("button",{onClick:y,disabled:b,className:"text-gray-400 hover:text-gray-600 disabled:cursor-not-allowed",children:i.jsxDEV(m,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserProfileModal.tsx",lineNumber:118,columnNumber:13},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserProfileModal.tsx",lineNumber:113,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/UserProfileModal.tsx",lineNumber:106,columnNumber:9},this),i.jsxDEV("form",{onSubmit:async e=>{if(e.preventDefault(),h.full_name.trim())if(h.email.trim())if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(h.email)){x(!0),p(null);try{const e=await n(t.id,{full_name:h.full_name.trim(),email:h.email.trim(),department:h.department.trim()||null,phone:h.phone.trim()||null});e.success?r():p(e.error||"Profil güncellenirken hata oluştu")}catch(s){p(s instanceof Error?s.message:"Beklenmeyen bir hata oluştu")}finally{x(!1)}}else p("Geçerli bir e-posta adresi giriniz");else p("E-posta alanı zorunludur");else p("Ad Soyad alanı zorunludur")},className:"p-6 space-y-4",children:[i.jsxDEV("div",{className:"flex justify-center mb-4",children:i.jsxDEV("div",{className:"h-16 w-16 rounded-full bg-indigo-100 flex items-center justify-center",children:i.jsxDEV("span",{className:"text-indigo-600 font-medium text-xl",children:(null==(u=h.full_name)?void 0:u.charAt(0))||t.email.charAt(0).toUpperCase()},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserProfileModal.tsx",lineNumber:127,columnNumber:15},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserProfileModal.tsx",lineNumber:126,columnNumber:13},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserProfileModal.tsx",lineNumber:125,columnNumber:11},this),v&&i.jsxDEV("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:i.jsxDEV("p",{className:"text-sm text-red-800",children:v},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserProfileModal.tsx",lineNumber:136,columnNumber:15},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserProfileModal.tsx",lineNumber:135,columnNumber:11},this),i.jsxDEV("div",{children:[i.jsxDEV("label",{htmlFor:"full_name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Ad Soyad *"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserProfileModal.tsx",lineNumber:142,columnNumber:13},this),i.jsxDEV("div",{className:"relative",children:[i.jsxDEV(a,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserProfileModal.tsx",lineNumber:146,columnNumber:15},this),i.jsxDEV("input",{type:"text",id:"full_name",name:"full_name",value:h.full_name,onChange:f,disabled:b,required:!0,className:"pl-10 w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:ring-blue-500 disabled:bg-gray-50 disabled:cursor-not-allowed",placeholder:"Ad ve soyadınızı giriniz"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserProfileModal.tsx",lineNumber:147,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/UserProfileModal.tsx",lineNumber:145,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/UserProfileModal.tsx",lineNumber:141,columnNumber:11},this),i.jsxDEV("div",{children:[i.jsxDEV("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"E-posta *"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserProfileModal.tsx",lineNumber:163,columnNumber:13},this),i.jsxDEV("div",{className:"relative",children:[i.jsxDEV(l,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserProfileModal.tsx",lineNumber:167,columnNumber:15},this),i.jsxDEV("input",{type:"email",id:"email",name:"email",value:h.email,onChange:f,disabled:b,required:!0,className:"pl-10 w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:ring-blue-500 disabled:bg-gray-50 disabled:cursor-not-allowed",placeholder:"E-posta adresinizi giriniz"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserProfileModal.tsx",lineNumber:168,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/UserProfileModal.tsx",lineNumber:166,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/UserProfileModal.tsx",lineNumber:162,columnNumber:11},this),i.jsxDEV("div",{children:[i.jsxDEV("label",{htmlFor:"department",className:"block text-sm font-medium text-gray-700 mb-1",children:"Departman"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserProfileModal.tsx",lineNumber:184,columnNumber:13},this),i.jsxDEV("div",{className:"relative",children:[i.jsxDEV(o,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserProfileModal.tsx",lineNumber:188,columnNumber:15},this),i.jsxDEV("input",{type:"text",id:"department",name:"department",value:h.department,onChange:f,disabled:b,className:"pl-10 w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:ring-blue-500 disabled:bg-gray-50 disabled:cursor-not-allowed",placeholder:"Departmanınızı giriniz"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserProfileModal.tsx",lineNumber:189,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/UserProfileModal.tsx",lineNumber:187,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/UserProfileModal.tsx",lineNumber:183,columnNumber:11},this),i.jsxDEV("div",{children:[i.jsxDEV("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefon"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserProfileModal.tsx",lineNumber:204,columnNumber:13},this),i.jsxDEV("div",{className:"relative",children:[i.jsxDEV(d,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserProfileModal.tsx",lineNumber:208,columnNumber:15},this),i.jsxDEV("input",{type:"tel",id:"phone",name:"phone",value:h.phone,onChange:f,disabled:b,className:"pl-10 w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:ring-blue-500 disabled:bg-gray-50 disabled:cursor-not-allowed",placeholder:"Telefon numaranızı giriniz"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserProfileModal.tsx",lineNumber:209,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/UserProfileModal.tsx",lineNumber:207,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/UserProfileModal.tsx",lineNumber:203,columnNumber:11},this),i.jsxDEV("div",{className:"bg-blue-50 rounded-lg p-3",children:i.jsxDEV("p",{className:"text-sm text-blue-800",children:[i.jsxDEV("strong",{children:"Not:"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserProfileModal.tsx",lineNumber:225,columnNumber:15},this)," E-posta adresi değişikliği kullanıcının giriş bilgilerini etkileyecektir."]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/UserProfileModal.tsx",lineNumber:224,columnNumber:13},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserProfileModal.tsx",lineNumber:223,columnNumber:11},this),i.jsxDEV("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200",children:[i.jsxDEV("button",{type:"button",onClick:y,disabled:b,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50",children:"İptal"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserProfileModal.tsx",lineNumber:231,columnNumber:13},this),i.jsxDEV("button",{type:"submit",disabled:b||!(h.full_name!==(t.full_name||"")||h.email!==(t.email||"")||h.department!==(t.department||"")||h.phone!==(t.phone||"")),className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 disabled:cursor-not-allowed disabled:opacity-50",children:[i.jsxDEV(c,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserProfileModal.tsx",lineNumber:244,columnNumber:15},this),b?"Kaydediliyor...":"Kaydet"]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/UserProfileModal.tsx",lineNumber:239,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/UserProfileModal.tsx",lineNumber:230,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/UserProfileModal.tsx",lineNumber:123,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/UserProfileModal.tsx",lineNumber:104,columnNumber:7},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserProfileModal.tsx",lineNumber:103,columnNumber:5},this)}function V({statistics:e}){const s={super_admin:"text-red-600 bg-red-50 border-red-200",admin:"text-orange-600 bg-orange-50 border-orange-200",manager:"text-purple-600 bg-purple-50 border-purple-200",coordinator:"text-blue-600 bg-blue-50 border-blue-200",operator:"text-green-600 bg-green-50 border-green-200",viewer:"text-gray-600 bg-gray-50 border-gray-200"},m=({title:e,value:s,icon:r,color:m="text-blue-600 bg-blue-50",change:t})=>i.jsxDEV("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:i.jsxDEV("div",{className:"flex items-center justify-between",children:[i.jsxDEV("div",{children:[i.jsxDEV("p",{className:"text-sm font-medium text-gray-600",children:e},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserStatistics.tsx",lineNumber:40,columnNumber:11},this),i.jsxDEV("p",{className:"text-2xl font-bold text-gray-900",children:s},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserStatistics.tsx",lineNumber:41,columnNumber:11},this),void 0!==t&&i.jsxDEV("div",{className:"flex items-center mt-1",children:[i.jsxDEV(N,{className:"h-3 w-3 text-green-500 mr-1"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserStatistics.tsx",lineNumber:44,columnNumber:15},this),i.jsxDEV("span",{className:"text-xs text-green-600",children:["+",t," bu hafta"]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/UserStatistics.tsx",lineNumber:45,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/UserStatistics.tsx",lineNumber:43,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/UserStatistics.tsx",lineNumber:39,columnNumber:9},this),i.jsxDEV("div",{className:`p-3 rounded-full ${m}`,children:i.jsxDEV(r,{className:"h-6 w-6"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserStatistics.tsx",lineNumber:50,columnNumber:11},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserStatistics.tsx",lineNumber:49,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/UserStatistics.tsx",lineNumber:38,columnNumber:7},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserStatistics.tsx",lineNumber:37,columnNumber:3},this);return i.jsxDEV("div",{className:"space-y-6",children:[i.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxDEV(m,{title:"Toplam Kullanıcı",value:e.total,icon:u,color:"text-blue-600 bg-blue-50",change:e.recentSignups},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserStatistics.tsx",lineNumber:60,columnNumber:9},this),i.jsxDEV(m,{title:"Aktif Kullanıcı",value:e.active,icon:h,color:"text-green-600 bg-green-50"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserStatistics.tsx",lineNumber:67,columnNumber:9},this),i.jsxDEV(m,{title:"Pasif Kullanıcı",value:e.inactive,icon:j,color:"text-red-600 bg-red-50"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserStatistics.tsx",lineNumber:73,columnNumber:9},this),i.jsxDEV(m,{title:"Yönetici Sayısı",value:e.byRole.admin+e.byRole.super_admin,icon:r,color:"text-purple-600 bg-purple-50"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserStatistics.tsx",lineNumber:79,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/UserStatistics.tsx",lineNumber:59,columnNumber:7},this),i.jsxDEV("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[i.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Rol Dağılımı"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserStatistics.tsx",lineNumber:89,columnNumber:9},this),i.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:Object.entries(e.byRole).map(([r,m])=>i.jsxDEV("div",{className:`p-4 rounded-lg border-2 ${s[r]}`,children:i.jsxDEV("div",{className:"flex items-center justify-between",children:[i.jsxDEV("div",{children:[i.jsxDEV("p",{className:"text-sm font-medium",children:t(r)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserStatistics.tsx",lineNumber:98,columnNumber:19},this),i.jsxDEV("p",{className:"text-2xl font-bold",children:m},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserStatistics.tsx",lineNumber:99,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/UserStatistics.tsx",lineNumber:97,columnNumber:17},this),i.jsxDEV("div",{className:"text-right",children:i.jsxDEV("p",{className:"text-xs",children:e.total>0?`${Math.round(m/e.total*100)}%`:"0%"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserStatistics.tsx",lineNumber:102,columnNumber:19},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserStatistics.tsx",lineNumber:101,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/UserStatistics.tsx",lineNumber:96,columnNumber:15},this)},r,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserStatistics.tsx",lineNumber:92,columnNumber:11},this))},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserStatistics.tsx",lineNumber:90,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/UserStatistics.tsx",lineNumber:88,columnNumber:7},this),i.jsxDEV("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[i.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Özet Bilgiler"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserStatistics.tsx",lineNumber:117,columnNumber:9},this),i.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxDEV("div",{children:[i.jsxDEV("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Kullanıcı Durumu"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserStatistics.tsx",lineNumber:120,columnNumber:13},this),i.jsxDEV("div",{className:"space-y-2",children:[i.jsxDEV("div",{className:"flex justify-between",children:[i.jsxDEV("span",{className:"text-sm text-gray-600",children:"Aktif Rate:"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserStatistics.tsx",lineNumber:123,columnNumber:17},this),i.jsxDEV("span",{className:"text-sm font-medium text-green-600",children:e.total>0?`${Math.round(e.active/e.total*100)}%`:"0%"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserStatistics.tsx",lineNumber:124,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/UserStatistics.tsx",lineNumber:122,columnNumber:15},this),i.jsxDEV("div",{className:"flex justify-between",children:[i.jsxDEV("span",{className:"text-sm text-gray-600",children:"Bu Hafta Yeni:"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserStatistics.tsx",lineNumber:132,columnNumber:17},this),i.jsxDEV("span",{className:"text-sm font-medium text-blue-600",children:e.recentSignups},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserStatistics.tsx",lineNumber:133,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/UserStatistics.tsx",lineNumber:131,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/UserStatistics.tsx",lineNumber:121,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/UserStatistics.tsx",lineNumber:119,columnNumber:11},this),i.jsxDEV("div",{children:[i.jsxDEV("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Yetki Dağılımı"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserStatistics.tsx",lineNumber:141,columnNumber:13},this),i.jsxDEV("div",{className:"space-y-2",children:[i.jsxDEV("div",{className:"flex justify-between",children:[i.jsxDEV("span",{className:"text-sm text-gray-600",children:"Yönetici:"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserStatistics.tsx",lineNumber:144,columnNumber:17},this),i.jsxDEV("span",{className:"text-sm font-medium text-purple-600",children:e.byRole.admin+e.byRole.super_admin},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserStatistics.tsx",lineNumber:145,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/UserStatistics.tsx",lineNumber:143,columnNumber:15},this),i.jsxDEV("div",{className:"flex justify-between",children:[i.jsxDEV("span",{className:"text-sm text-gray-600",children:"Operasyonel:"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserStatistics.tsx",lineNumber:150,columnNumber:17},this),i.jsxDEV("span",{className:"text-sm font-medium text-blue-600",children:e.byRole.manager+e.byRole.coordinator+e.byRole.operator},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserStatistics.tsx",lineNumber:151,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/UserStatistics.tsx",lineNumber:149,columnNumber:15},this),i.jsxDEV("div",{className:"flex justify-between",children:[i.jsxDEV("span",{className:"text-sm text-gray-600",children:"Görüntüleyici:"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserStatistics.tsx",lineNumber:156,columnNumber:17},this),i.jsxDEV("span",{className:"text-sm font-medium text-gray-600",children:e.byRole.viewer},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/system/UserStatistics.tsx",lineNumber:157,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/UserStatistics.tsx",lineNumber:155,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/UserStatistics.tsx",lineNumber:142,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/UserStatistics.tsx",lineNumber:140,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/UserStatistics.tsx",lineNumber:118,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/UserStatistics.tsx",lineNumber:116,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/system/UserStatistics.tsx",lineNumber:57,columnNumber:5},this)}function M({users:e,canManageUsers:s,onRoleChange:m,onProfileEdit:n,onStatusToggle:a,isUpdating:l}){const o=e=>e?new Date(e).toLocaleDateString("tr-TR",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Hiçbir zaman";return i.jsxDEV("div",{className:"overflow-x-auto",children:[i.jsxDEV("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsxDEV("thead",{className:"bg-gray-50",children:i.jsxDEV("tr",{children:[i.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kullanıcı"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:66,columnNumber:13},this),i.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rol"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:69,columnNumber:13},this),i.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Departman"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:72,columnNumber:13},this),i.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Durum"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:75,columnNumber:13},this),i.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Son Giriş"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:78,columnNumber:13},this),i.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kayıt Tarihi"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:81,columnNumber:13},this),s&&i.jsxDEV("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"İşlemler"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:85,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:65,columnNumber:11},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:64,columnNumber:9},this),i.jsxDEV("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>{var d,c;return i.jsxDEV("tr",{className:"hover:bg-gray-50",children:[i.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxDEV("div",{className:"flex items-center",children:[i.jsxDEV("div",{className:"h-10 w-10 flex-shrink-0",children:i.jsxDEV("div",{className:"h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center",children:i.jsxDEV("span",{className:"text-indigo-600 font-medium",children:(null==(d=e.full_name)?void 0:d.charAt(0))||e.email.charAt(0).toUpperCase()},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:98,columnNumber:23},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:97,columnNumber:21},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:96,columnNumber:19},this),i.jsxDEV("div",{className:"ml-4",children:[i.jsxDEV("div",{className:"text-sm font-medium text-gray-900",children:e.full_name||e.email},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:104,columnNumber:21},this),i.jsxDEV("div",{className:"text-sm text-gray-500",children:e.email},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:107,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:103,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:95,columnNumber:17},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:94,columnNumber:15},this),i.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxDEV("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${c=e.role,{super_admin:"text-red-600 bg-red-50",admin:"text-orange-600 bg-orange-50",manager:"text-purple-600 bg-purple-50",coordinator:"text-blue-600 bg-blue-50",operator:"text-green-600 bg-green-50",viewer:"text-gray-600 bg-gray-50"}[c]||"text-gray-600 bg-gray-50"}`,children:t(e.role)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:114,columnNumber:17},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:113,columnNumber:15},this),i.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.department||"-"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:118,columnNumber:15},this),i.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxDEV("div",{className:"flex items-center",children:e.is_active?i.jsxDEV("div",{className:"flex items-center text-green-600",children:[i.jsxDEV(h,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:125,columnNumber:23},this),i.jsxDEV("span",{className:"text-sm",children:"Aktif"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:126,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:124,columnNumber:17},this):i.jsxDEV("div",{className:"flex items-center text-red-600",children:[i.jsxDEV(j,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:130,columnNumber:23},this),i.jsxDEV("span",{className:"text-sm",children:"Pasif"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:131,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:129,columnNumber:17},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:122,columnNumber:17},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:121,columnNumber:15},this),i.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o(e.last_sign_in_at)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:136,columnNumber:15},this),i.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o(e.created_at)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:139,columnNumber:15},this),s&&i.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:i.jsxDEV("div",{className:"flex items-center justify-end space-x-2",children:[i.jsxDEV("button",{onClick:()=>n(e),className:"text-indigo-600 hover:text-indigo-900",title:"Profil Düzenle",children:i.jsxDEV(f,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:150,columnNumber:23},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:145,columnNumber:21},this),i.jsxDEV("button",{onClick:()=>m(e),className:"text-purple-600 hover:text-purple-900",title:"Rol Değiştir",children:i.jsxDEV(r,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:157,columnNumber:23},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:152,columnNumber:21},this),i.jsxDEV("button",{onClick:()=>a(e.id,!e.is_active),disabled:l,className:`${e.is_active?"text-red-600 hover:text-red-900":"text-green-600 hover:text-green-900"} ${l?"opacity-50 cursor-not-allowed":""}`,title:e.is_active?"Pasif Yap":"Aktif Yap",children:e.is_active?i.jsxDEV(y,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:169,columnNumber:41},this):i.jsxDEV(U,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:169,columnNumber:74},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:159,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:144,columnNumber:19},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:143,columnNumber:13},this)]},e.id,!0,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:93,columnNumber:11},this)})},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:91,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:63,columnNumber:7},this),0===e.length&&i.jsxDEV("div",{className:"text-center py-8",children:[i.jsxDEV(u,{className:"mx-auto h-12 w-12 text-gray-400"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:181,columnNumber:11},this),i.jsxDEV("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Kullanıcı bulunamadı"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:182,columnNumber:11},this),i.jsxDEV("p",{className:"mt-1 text-sm text-gray-500",children:"Henüz hiç kullanıcı kaydedilmemiş veya arama kriterlerinize uygun kullanıcı yok."},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:183,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:180,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:62,columnNumber:5},this)}function w(){var e;const{users:r,permissions:m,statistics:n,selectedUser:a,isLoading:l,isUpdating:o,error:d,showRoleModal:c,showProfileModal:u,handleRoleChange:h,handleProfileUpdate:N,handleStatusToggle:g,selectUserForRoleChange:f,selectUserForProfileEdit:y,closeModals:U,search:j,refetchUsers:w}=p(),[C,k]=s.useState("all"),[R,S]=s.useState("all"),P=r.filter(e=>{var s,i;const r=j.searchQuery.length<=2||e.email.toLowerCase().includes(j.searchQuery.toLowerCase())||(null==(s=e.full_name)?void 0:s.toLowerCase().includes(j.searchQuery.toLowerCase()))||(null==(i=e.department)?void 0:i.toLowerCase().includes(j.searchQuery.toLowerCase())),m="all"===C||e.role===C,t="all"===R||"active"===R&&e.is_active||"inactive"===R&&!e.is_active;return r&&m&&t});return l?i.jsxDEV(b,{},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:265,columnNumber:12},this):d?i.jsxDEV("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxDEV("div",{className:"text-center",children:[i.jsxDEV("div",{className:"text-red-500 text-sm",children:["Kullanıcı verileri yüklenirken hata oluştu: ",null==d?void 0:d.message]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:272,columnNumber:11},this),i.jsxDEV("button",{onClick:()=>w(),className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Tekrar Dene"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:275,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:271,columnNumber:9},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:270,columnNumber:7},this):i.jsxDEV("div",{className:"space-y-6",children:[i.jsxDEV("div",{className:"flex items-center justify-between",children:[i.jsxDEV("div",{children:[i.jsxDEV("h1",{className:"text-2xl font-bold text-gray-900",children:"Kullanıcı Yönetimi"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:305,columnNumber:11},this),i.jsxDEV("p",{className:"mt-1 text-sm text-gray-500",children:"Sistem kullanıcılarını yönetin ve rollerini düzenleyin."},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:306,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:304,columnNumber:9},this),i.jsxDEV("button",{onClick:()=>{const e=[["Ad Soyad","Email","Rol","Departman","Durum","Son Giriş","Kayıt Tarihi"],...P.map(e=>[e.full_name||e.email,e.email,t(e.role),e.department||"",e.is_active?"Aktif":"Pasif",e.last_sign_in_at?new Date(e.last_sign_in_at).toLocaleDateString("tr-TR"):"Hiçbir zaman",new Date(e.created_at).toLocaleDateString("tr-TR")])].map(e=>e.map(e=>`"${e}"`).join(",")).join("\n"),s=new Blob([e],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a");if(void 0!==i.download){const e=URL.createObjectURL(s);i.setAttribute("href",e),i.setAttribute("download",`kullanicilar-${(new Date).toISOString().slice(0,10)}.csv`),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)}},className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[i.jsxDEV(x,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:314,columnNumber:11},this),"CSV İndir"]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:310,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:303,columnNumber:7},this),n&&i.jsxDEV(V,{statistics:n},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:320,columnNumber:22},this),i.jsxDEV("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:i.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxDEV("div",{className:"relative",children:[i.jsxDEV(v,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:327,columnNumber:13},this),i.jsxDEV("input",{type:"text",placeholder:"Kullanıcı ara...",value:j.searchQuery,onChange:e=>j.setSearchQuery(e.target.value),className:"pl-10 w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:ring-blue-500"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:328,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:326,columnNumber:11},this),i.jsxDEV("div",{children:i.jsxDEV("select",{value:C,onChange:e=>k(e.target.value),className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:ring-blue-500",children:[i.jsxDEV("option",{value:"all",children:"Tüm Roller"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:344,columnNumber:15},this),i.jsxDEV("option",{value:"super_admin",children:"Süper Yönetici"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:345,columnNumber:15},this),i.jsxDEV("option",{value:"admin",children:"Yönetici"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:346,columnNumber:15},this),i.jsxDEV("option",{value:"manager",children:"Müdür"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:347,columnNumber:15},this),i.jsxDEV("option",{value:"coordinator",children:"Koordinatör"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:348,columnNumber:15},this),i.jsxDEV("option",{value:"operator",children:"Operatör"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:349,columnNumber:15},this),i.jsxDEV("option",{value:"viewer",children:"Görüntüleyici"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:350,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:339,columnNumber:13},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:338,columnNumber:11},this),i.jsxDEV("div",{children:i.jsxDEV("select",{value:R,onChange:e=>S(e.target.value),className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:ring-blue-500",children:[i.jsxDEV("option",{value:"all",children:"Tüm Durumlar"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:361,columnNumber:15},this),i.jsxDEV("option",{value:"active",children:"Aktif"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:362,columnNumber:15},this),i.jsxDEV("option",{value:"inactive",children:"Pasif"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:363,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:356,columnNumber:13},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:355,columnNumber:11},this),i.jsxDEV("div",{className:"flex items-center text-sm text-gray-500",children:[P.length," kullanıcı gösteriliyor"]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:368,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:324,columnNumber:9},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:323,columnNumber:7},this),i.jsxDEV("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:i.jsxDEV(M,{users:P,canManageUsers:!0,onRoleChange:f,onProfileEdit:y,onStatusToggle:g,isUpdating:o},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:376,columnNumber:9},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:375,columnNumber:7},this),c&&a&&i.jsxDEV(D,{isOpen:c,onClose:U,user:a,onRoleChange:h,currentUserRole:null==(e=null==m?void 0:m.profile)?void 0:e.role},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:388,columnNumber:7},this),u&&a&&i.jsxDEV(E,{isOpen:u,onClose:U,user:a,onSave:N},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:398,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/system/UserManagement.tsx",lineNumber:301,columnNumber:5},this)}export{w as default};
