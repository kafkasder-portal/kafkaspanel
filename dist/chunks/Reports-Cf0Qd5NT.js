import{r as e,j as t,n as s,i as a,D as r,T as l,Q as n}from"../assets/index-dW79Uy5k.js";import{S as o}from"./StatCard-CRbncoUZ.js";import{e as d}from"./exportToCsv-DLkyd1nM.js";import{R as i,B as c,C as m,X as h,Y as x,T as u,a as j,P as g,b as y,c as p}from"./PieChart-DU675XOe.js";import{L as v,a as b}from"./LineChart--eKJKc-U.js";const N=[{month:"Ocak",students:45,amount:112500},{month:"Şubat",students:52,amount:13e4},{month:"Mart",students:48,amount:12e4},{month:"Nisan",students:55,amount:137500},{month:"Mayıs",students:60,amount:15e4},{month:"Haziran",students:58,amount:145e3}],f=[{name:"Eğitim Bursu",value:45,color:"#3B82F6"},{name:"Barınma Bursu",value:25,color:"#10B981"},{name:"Beslenme Bursu",value:20,color:"#F59E0B"},{name:"Kitap Bursu",value:10,color:"#EF4444"}],k=[{name:"Kız",value:60,color:"#EC4899"},{name:"Erkek",value:40,color:"#3B82F6"}],B=[{month:"Ocak",average:3.2},{month:"Şubat",average:3.3},{month:"Mart",average:3.4},{month:"Nisan",average:3.5},{month:"Mayıs",average:3.6},{month:"Haziran",average:3.7}];function w(){const[w,T]=e.useState("2024"),[S,A]=e.useState("monthly"),M=e.useMemo(()=>{const e=N[N.length-1].students,t=N.reduce((e,t)=>e+t.amount,0);return{totalStudents:e,totalAmount:t,avgAmount:Math.round(t/N.length),growth:Math.round((N[N.length-1].students-N[0].students)/N[0].students*100)}},[]);return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Burs Raporları"}),t.jsx("p",{className:"text-gray-600",children:"Detaylı istatistikler ve analitik raporlar"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("select",{value:w,onChange:e=>T(e.target.value),className:"rounded border px-3 py-2 text-sm",children:[t.jsx("option",{value:"2024",children:"2024"}),t.jsx("option",{value:"2023",children:"2023"}),t.jsx("option",{value:"2022",children:"2022"})]}),t.jsxs("select",{value:S,onChange:e=>A(e.target.value),className:"rounded border px-3 py-2 text-sm",children:[t.jsx("option",{value:"monthly",children:"Aylık"}),t.jsx("option",{value:"quarterly",children:"Üç Aylık"}),t.jsx("option",{value:"yearly",children:"Yıllık"})]}),t.jsxs("button",{onClick:()=>{const e=N.map(e=>({Ay:e.month,"Öğrenci Sayısı":e.students,"Toplam Tutar":e.amount,"Ortalama Tutar":Math.round(e.amount/e.students)}));d(`burs-raporu-${w}.csv`,e)},className:"flex items-center gap-2 rounded bg-blue-600 px-3 py-2 text-sm text-white hover:bg-blue-700",children:[t.jsx(s,{size:16}),"Rapor İndir"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(o,{title:"Toplam Öğrenci",value:M.totalStudents.toString(),icon:a}),t.jsx(o,{title:"Toplam Burs Tutarı",value:`₺${M.totalAmount.toLocaleString()}`,icon:r}),t.jsx(o,{title:"Aylık Ortalama",value:`₺${M.avgAmount.toLocaleString()}`,icon:l}),t.jsx(o,{title:"Aktif Burslar",value:"95%",icon:n})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Aylık Öğrenci Sayısı"}),t.jsx(i,{width:"100%",height:300,children:t.jsxs(c,{data:N,children:[t.jsx(m,{strokeDasharray:"3 3"}),t.jsx(h,{dataKey:"month"}),t.jsx(x,{}),t.jsx(u,{}),t.jsx(j,{dataKey:"students",fill:"#3B82F6"})]})})]}),t.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Burs Türleri Dağılımı"}),t.jsx(i,{width:"100%",height:300,children:t.jsxs(g,{children:[t.jsx(y,{data:f,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:({name:e,value:t})=>`${e}: ${t}%`,children:f.map((e,s)=>t.jsx(p,{fill:e.color},`cell-${s}`))}),t.jsx(u,{})]})})]}),t.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Aylık Burs Tutarları"}),t.jsx(i,{width:"100%",height:300,children:t.jsxs(c,{data:N,children:[t.jsx(m,{strokeDasharray:"3 3"}),t.jsx(h,{dataKey:"month"}),t.jsx(x,{}),t.jsx(u,{formatter:e=>[`₺${e.toLocaleString()}`,"Tutar"]}),t.jsx(j,{dataKey:"amount",fill:"#10B981"})]})})]}),t.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Cinsiyet Dağılımı"}),t.jsx(i,{width:"100%",height:300,children:t.jsxs(g,{children:[t.jsx(y,{data:k,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:({name:e,value:t})=>`${e}: ${t}%`,children:k.map((e,s)=>t.jsx(p,{fill:e.color},`cell-${s}`))}),t.jsx(u,{})]})})]})]}),t.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Akademik Performans Trendi"}),t.jsx(i,{width:"100%",height:300,children:t.jsxs(v,{data:B,children:[t.jsx(m,{strokeDasharray:"3 3"}),t.jsx(h,{dataKey:"month"}),t.jsx(x,{domain:[0,4]}),t.jsx(u,{formatter:e=>[e,"Not Ortalaması"]}),t.jsx(b,{type:"monotone",dataKey:"average",stroke:"#F59E0B",strokeWidth:3})]})})]}),t.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Detaylı Aylık Rapor"}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b",children:[t.jsx("th",{className:"text-left py-2",children:"Ay"}),t.jsx("th",{className:"text-right py-2",children:"Öğrenci Sayısı"}),t.jsx("th",{className:"text-right py-2",children:"Toplam Tutar"}),t.jsx("th",{className:"text-right py-2",children:"Ortalama Tutar"}),t.jsx("th",{className:"text-right py-2",children:"Büyüme"})]})}),t.jsx("tbody",{children:N.map((e,s)=>{const a=s>0?N[s-1]:null,r=a?Math.round((e.students-a.students)/a.students*100):0;return t.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[t.jsx("td",{className:"py-2 font-medium",children:e.month}),t.jsx("td",{className:"text-right py-2",children:e.students}),t.jsxs("td",{className:"text-right py-2",children:["₺",e.amount.toLocaleString()]}),t.jsxs("td",{className:"text-right py-2",children:["₺",Math.round(e.amount/e.students).toLocaleString()]}),t.jsxs("td",{className:"text-right py-2 "+(r>0?"text-green-600":r<0?"text-red-600":"text-gray-600"),children:[r>0?"+":"",r,"%"]})]},e.month)})})]})})]})]})}export{w as default};
