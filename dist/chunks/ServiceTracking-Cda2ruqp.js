import{r as e,V as i,j as s,e as r,i as a,q as n,p as m,S as l,n as d,P as t,U as c,ak as o,X as u,k as v}from"../assets/index-CzvAnh9f.js";import{e as N}from"./exportToCsv-DLkyd1nM.js";import{D as h}from"./DataTable-CBtBMNX8.js";import{M as g}from"./Modal-CXkm-C8J.js";import{S as x}from"./StatCard-3Oaqvq3F.js";import{u as b,t as p,o as f,s as k,e as D}from"./types-C2SbTJX7.js";import{V as S}from"./index-DX2TtJe9.js";import{A as T}from"./alert-circle-D6Smf8fy.js";import{E as j}from"./eye-C9FxZSh9.js";import{P as E}from"./pen-square-DRhBp83i.js";const U=f({beneficiary_id:k().min(1,"İhtiyaç sahibi seçiniz"),service_type:k().min(1,"Hizmet türü seçiniz"),service_category:k().min(1,"Hizmet kategorisi seçiniz"),description:k().min(1,"Açıklama giriniz"),assigned_to:k().optional(),start_date:k().min(1,"Başlangıç tarihi seçiniz"),expected_completion:k().optional(),priority:D(["low","medium","high","urgent"],{message:"Öncelik seçiniz"}),location:k().optional(),contact_person:k().optional(),contact_phone:k().optional(),notes:k().optional()}),V=["Ev Ziyareti","Sağlık Hizmeti","Eğitim Desteği","Hukuki Danışmanlık","Psikolojik Destek","Mesleki Eğitim","İş Bulma Desteği","Ev Onarımı","Temizlik Hizmeti","Ulaşım Desteği","Tercümanlık","Diğer"],y={"Ev Ziyareti":["Durum Tespiti","Takip Ziyareti","Kontrol Ziyareti"],"Sağlık Hizmeti":["Doktor Randevusu","Hastane Sevki","İlaç Desteği","Tıbbi Malzeme"],"Eğitim Desteği":["Okul Kaydı","Ders Desteği","Kırtasiye Yardımı","Okul Servisi"],"Hukuki Danışmanlık":["Hukuki Bilgilendirme","Dava Takibi","Belge Düzenleme"],"Psikolojik Destek":["Bireysel Görüşme","Grup Terapisi","Aile Danışmanlığı"],"Mesleki Eğitim":["Kurs Kaydı","Sertifika Programı","Staj Desteği"],"İş Bulma Desteği":["İş Arama","Mülakat Hazırlığı","CV Hazırlama"],"Ev Onarımı":["Elektrik","Su Tesisatı","Boyama","Genel Onarım"],"Temizlik Hizmeti":["Genel Temizlik","Dezenfeksiyon","Bahçe Bakımı"],"Ulaşım Desteği":["Hastane Ulaşımı","Okul Ulaşımı","Resmi Kurum Ulaşımı"],"Tercümanlık":["Resmi Kurum","Hastane","Okul","Hukuki İşlemler"],"Diğer":["Özel Durum"]},_=[{id:"user1",name:"Ahmet Yılmaz",email:"ahmet@example.com"},{id:"user2",name:"Fatma Demir",email:"fatma@example.com"},{id:"user3",name:"Mehmet Kaya",email:"mehmet@example.com"},{id:"user4",name:"Ayşe Öztürk",email:"ayse@example.com"}];function w(){var f;const[k,D]=e.useState([]),[w,z]=e.useState({totalServices:0,inProgress:0,completed:0,overdue:0}),[H,C]=e.useState(!0),[A,K]=e.useState(""),[B,O]=e.useState("all"),[Y,P]=e.useState("all"),[L,G]=e.useState("all"),[M,I]=e.useState("all"),[R,Z]=e.useState(!1),[$,F]=e.useState(null),[q,J]=e.useState([]),{register:W,handleSubmit:Q,formState:{errors:X},reset:ee,watch:ie}=b({resolver:p(U)}),se=ie("service_type");e.useEffect(()=>{re(),ae(),ne()},[]);const re=async()=>{try{const e=[{id:"1",beneficiary_id:"ben1",service_type:"Ev Ziyareti",service_category:"Durum Tespiti",description:"Ailenin mevcut durumunu tespit etmek için ev ziyareti",assigned_to:"user1",start_date:(new Date).toISOString(),expected_completion:new Date(Date.now()+6048e5).toISOString(),status:"in_progress",priority:"high",location:"Ankara, Çankaya",contact_person:"Ahmet Yılmaz",contact_phone:"0532 123 45 67",progress_percentage:60,notes:"İlk ziyaret tamamlandı, takip ziyareti planlandı",created_at:(new Date).toISOString(),beneficiaries:{name:"Ali",surname:"Veli",phone:"0533 987 65 43",category:"Aile",address:"Ankara, Çankaya"},assigned_user:{name:"Ahmet Yılmaz",email:"ahmet@example.com"}},{id:"2",beneficiary_id:"ben2",service_type:"Sağlık Hizmeti",service_category:"Doktor Randevusu",description:"Kardiyoloji kontrolü için doktor randevusu alınması",assigned_to:"user2",start_date:new Date(Date.now()-1728e5).toISOString(),end_date:(new Date).toISOString(),status:"completed",priority:"medium",location:"Ankara Şehir Hastanesi",contact_person:"Fatma Demir",contact_phone:"0534 567 89 01",progress_percentage:100,notes:"Randevu alındı ve hasta muayene edildi",created_at:new Date(Date.now()-432e6).toISOString(),beneficiaries:{name:"Ayşe",surname:"Kaya",phone:"0535 123 45 67",category:"Yaşlı",address:"Ankara, Keçiören"},assigned_user:{name:"Fatma Demir",email:"fatma@example.com"}}];D(e)}catch(e){S.error("Hizmet takip kayıtları yüklenirken hata oluştu")}finally{C(!1)}},ae=async()=>{try{z({totalServices:25,inProgress:8,completed:15,overdue:2})}catch(e){}},ne=async()=>{try{const{data:e,error:s}=await i.from("beneficiaries").select("id, name, surname, category, phone, address").eq("status","active").order("name");if(s)throw s;J(e||[])}catch(e){}},me=e.useMemo(()=>k.filter(e=>{var i,s,r;const a=""===A||`${null==(i=e.beneficiaries)?void 0:i.name} ${null==(s=e.beneficiaries)?void 0:s.surname}`.toLowerCase().includes(A.toLowerCase())||e.service_type.toLowerCase().includes(A.toLowerCase())||e.description.toLowerCase().includes(A.toLowerCase())||(null==(r=e.location)?void 0:r.toLowerCase().includes(A.toLowerCase())),n="all"===B||e.service_type===B,m="all"===Y||e.status===Y,l="all"===L||e.priority===L,d="all"===M||e.assigned_to===M;return a&&n&&m&&l&&d}),[k,A,B,Y,L,M]),le=e=>{const i={planned:{label:"Planlandı",class:"bg-blue-100 text-blue-800",icon:v},in_progress:{label:"Devam Ediyor",class:"bg-yellow-100 text-yellow-800",icon:n},completed:{label:"Tamamlandı",class:"bg-green-100 text-green-800",icon:m},cancelled:{label:"İptal Edildi",class:"bg-red-100 text-red-800",icon:u},on_hold:{label:"Beklemede",class:"bg-gray-100 text-gray-800",icon:T}}[e]||{label:e,class:"bg-gray-100 text-gray-800",icon:T},r=i.icon;return s.jsxDEV("span",{className:`inline-flex items-center gap-1 rounded-full px-2 py-1 text-xs font-medium ${i.class}`,children:[s.jsxDEV(r,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:326,columnNumber:9},this),i.label]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:325,columnNumber:7},this)},de=e=>{const i={low:{label:"Düşük",class:"bg-gray-100 text-gray-800"},medium:{label:"Orta",class:"bg-blue-100 text-blue-800"},high:{label:"Yüksek",class:"bg-orange-100 text-orange-800"},urgent:{label:"Acil",class:"bg-red-100 text-red-800"}}[e]||{label:e,class:"bg-gray-100 text-gray-800"};return s.jsxDEV("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${i.class}`,children:i.label},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:341,columnNumber:7},this)},te=e=>new Date(e).toLocaleDateString("tr-TR"),ce=e=>!(!e.expected_completion||"completed"===e.status)&&new Date(e.expected_completion)<new Date,oe=[{key:"beneficiaries",header:"İhtiyaç Sahibi",render:(e,i)=>{var r,a,n,m;return s.jsxDEV("div",{children:[s.jsxDEV("div",{className:"font-medium",children:[null==(r=i.beneficiaries)?void 0:r.name," ",null==(a=i.beneficiaries)?void 0:a.surname]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:362,columnNumber:11},this),s.jsxDEV("div",{className:"text-sm text-muted-foreground",children:null==(n=i.beneficiaries)?void 0:n.category},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:363,columnNumber:11},this),(null==(m=i.beneficiaries)?void 0:m.phone)&&s.jsxDEV("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[s.jsxDEV(t,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:366,columnNumber:15},this),i.beneficiaries.phone]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:365,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:361,columnNumber:5},this)}},{key:"service_info",header:"Hizmet Bilgisi",render:(e,i)=>s.jsxDEV("div",{children:[s.jsxDEV("div",{className:"font-medium",children:i.service_type},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:378,columnNumber:11},this),s.jsxDEV("div",{className:"text-sm text-muted-foreground",children:i.service_category},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:379,columnNumber:11},this),s.jsxDEV("div",{className:"text-xs text-muted-foreground mt-1 max-w-xs truncate",title:i.description,children:i.description},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:380,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:377,columnNumber:5},this)},{key:"assigned_user",header:"Atanan Kişi",render:(e,i)=>s.jsxDEV("div",{children:i.assigned_user?s.jsxDEV(s.Fragment,{children:[s.jsxDEV("div",{className:"font-medium flex items-center gap-1",children:[s.jsxDEV(c,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:394,columnNumber:17},this),i.assigned_user.name]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:393,columnNumber:15},this),s.jsxDEV("div",{className:"text-xs text-muted-foreground",children:i.assigned_user.email},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:397,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:392,columnNumber:7},this):s.jsxDEV("span",{className:"text-muted-foreground",children:"Atanmamış"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:400,columnNumber:7},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:390,columnNumber:5},this)},{key:"priority",header:"Öncelik",render:(e,i)=>de(i.priority)},{key:"status",header:"Durum",render:(e,i)=>s.jsxDEV("div",{children:[le(i.status),"in_progress"===i.status&&s.jsxDEV("div",{className:"mt-1",children:[s.jsxDEV("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:s.jsxDEV("div",{className:"bg-blue-600 h-1.5 rounded-full",style:{width:`${i.progress_percentage}%`}},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:419,columnNumber:17},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:418,columnNumber:15},this),s.jsxDEV("div",{className:"text-xs text-muted-foreground mt-1",children:["%",i.progress_percentage]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:424,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:417,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:414,columnNumber:5},this)},{key:"dates",header:"Tarihler",render:(e,i)=>s.jsxDEV("div",{children:[s.jsxDEV("div",{className:"text-sm",children:[s.jsxDEV("strong",{children:"Başlangıç:"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:438,columnNumber:13},this)," ",te(i.start_date)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:437,columnNumber:11},this),i.expected_completion&&s.jsxDEV("div",{className:"text-sm "+(ce(i)?"text-red-600 font-medium":"text-muted-foreground"),children:[s.jsxDEV("strong",{children:"Bitiş:"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:444,columnNumber:15},this)," ",te(i.expected_completion),ce(i)&&s.jsxDEV("span",{className:"ml-1",children:"(Gecikmiş)"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:445,columnNumber:38},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:441,columnNumber:7},this),i.end_date&&s.jsxDEV("div",{className:"text-sm text-green-600",children:[s.jsxDEV("strong",{children:"Tamamlandı:"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:450,columnNumber:15},this)," ",te(i.end_date)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:449,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:436,columnNumber:5},this)},{key:"location",header:"Konum",render:(e,i)=>s.jsxDEV("div",{children:i.location?s.jsxDEV("div",{className:"flex items-center gap-1",children:[s.jsxDEV(o,{className:"h-3 w-3 text-muted-foreground"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:463,columnNumber:15},this),s.jsxDEV("span",{className:"text-sm",children:i.location},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:464,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:462,columnNumber:7},this):s.jsxDEV("span",{className:"text-muted-foreground",children:"-"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:467,columnNumber:7},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:460,columnNumber:5},this)},{key:"actions",header:"İşlemler",render:(e,i)=>s.jsxDEV("div",{className:"flex items-center gap-2",children:[s.jsxDEV("button",{className:"rounded p-1 text-gray-600 hover:bg-gray-50",title:"Detay",children:s.jsxDEV(j,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:481,columnNumber:13},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:477,columnNumber:11},this),"completed"!==i.status&&"cancelled"!==i.status&&s.jsxDEV("button",{onClick:()=>{F(i),Z(!0)},className:"rounded p-1 text-blue-600 hover:bg-blue-50",title:"Düzenle",children:s.jsxDEV(E,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:492,columnNumber:15},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:484,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:476,columnNumber:5},this)}];return H?s.jsxDEV("div",{className:"flex h-64 items-center justify-center",children:s.jsxDEV("div",{className:"text-center",children:[s.jsxDEV("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-2"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:504,columnNumber:11},this),s.jsxDEV("p",{className:"text-muted-foreground",children:"Yükleniyor..."},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:505,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:503,columnNumber:9},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:502,columnNumber:7},this):s.jsxDEV("div",{className:"space-y-6",children:[s.jsxDEV("div",{className:"flex items-center justify-between",children:[s.jsxDEV("div",{children:[s.jsxDEV("h1",{className:"text-2xl font-bold",children:"Hizmet Takip İşlemleri"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:516,columnNumber:11},this),s.jsxDEV("p",{className:"text-muted-foreground",children:"Verilen hizmetleri takip edin ve yönetin"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:517,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:515,columnNumber:9},this),s.jsxDEV("button",{onClick:()=>{F(null),Z(!0)},className:"flex items-center gap-2 rounded bg-primary px-4 py-2 text-sm text-white hover:bg-primary/90",children:[s.jsxDEV(r,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:526,columnNumber:11},this),"Yeni Hizmet"]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:519,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:514,columnNumber:7},this),s.jsxDEV("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[s.jsxDEV(x,{title:"Toplam Hizmetler",value:w.totalServices.toString(),icon:a,accentClass:"bg-blue-100"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:533,columnNumber:9},this),s.jsxDEV(x,{title:"Devam Eden",value:w.inProgress.toString(),icon:n,accentClass:"bg-yellow-100"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:539,columnNumber:9},this),s.jsxDEV(x,{title:"Tamamlanan",value:w.completed.toString(),icon:m,accentClass:"bg-green-100"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:545,columnNumber:9},this),s.jsxDEV(x,{title:"Geciken",value:w.overdue.toString(),icon:T,accentClass:"bg-red-100"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:551,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:532,columnNumber:7},this),s.jsxDEV("div",{className:"flex flex-wrap items-center gap-4 rounded-lg border p-4",children:[s.jsxDEV("div",{className:"flex items-center gap-2",children:[s.jsxDEV(l,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:562,columnNumber:11},this),s.jsxDEV("input",{type:"text",placeholder:"Hizmet ara...",value:A,onChange:e=>K(e.target.value),className:"min-w-64 rounded border px-3 py-2 text-sm"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:563,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:561,columnNumber:9},this),s.jsxDEV("select",{value:B,onChange:e=>O(e.target.value),className:"rounded border px-3 py-2 text-sm",children:[s.jsxDEV("option",{value:"all",children:"Tüm Hizmet Türleri"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:577,columnNumber:11},this),V.map(e=>s.jsxDEV("option",{value:e,children:e},e,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:579,columnNumber:11},this))]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:572,columnNumber:9},this),s.jsxDEV("select",{value:Y,onChange:e=>P(e.target.value),className:"rounded border px-3 py-2 text-sm",children:[s.jsxDEV("option",{value:"all",children:"Tüm Durumlar"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:588,columnNumber:11},this),s.jsxDEV("option",{value:"planned",children:"Planlandı"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:589,columnNumber:11},this),s.jsxDEV("option",{value:"in_progress",children:"Devam Ediyor"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:590,columnNumber:11},this),s.jsxDEV("option",{value:"completed",children:"Tamamlandı"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:591,columnNumber:11},this),s.jsxDEV("option",{value:"cancelled",children:"İptal Edildi"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:592,columnNumber:11},this),s.jsxDEV("option",{value:"on_hold",children:"Beklemede"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:593,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:583,columnNumber:9},this),s.jsxDEV("select",{value:L,onChange:e=>G(e.target.value),className:"rounded border px-3 py-2 text-sm",children:[s.jsxDEV("option",{value:"all",children:"Tüm Öncelikler"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:601,columnNumber:11},this),s.jsxDEV("option",{value:"low",children:"Düşük"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:602,columnNumber:11},this),s.jsxDEV("option",{value:"medium",children:"Orta"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:603,columnNumber:11},this),s.jsxDEV("option",{value:"high",children:"Yüksek"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:604,columnNumber:11},this),s.jsxDEV("option",{value:"urgent",children:"Acil"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:605,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:596,columnNumber:9},this),s.jsxDEV("select",{value:M,onChange:e=>I(e.target.value),className:"rounded border px-3 py-2 text-sm",children:[s.jsxDEV("option",{value:"all",children:"Tüm Atananlar"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:613,columnNumber:11},this),_.map(e=>s.jsxDEV("option",{value:e.id,children:e.name},e.id,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:615,columnNumber:11},this))]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:608,columnNumber:9},this),s.jsxDEV("button",{onClick:()=>N("hizmet-takip.csv",me),className:"flex items-center gap-2 rounded bg-green-600 px-3 py-2 text-sm text-white hover:bg-green-700",children:[s.jsxDEV(d,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:623,columnNumber:11},this),"İndir"]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:619,columnNumber:9},this),s.jsxDEV("div",{className:"ml-auto text-sm text-muted-foreground",children:[me.length," hizmet"]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:627,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:560,columnNumber:7},this),s.jsxDEV(h,{columns:oe,data:me},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:633,columnNumber:7},this),s.jsxDEV(g,{open:R,onClose:()=>Z(!1),children:[s.jsxDEV("div",{className:"flex items-center justify-between border-b p-4",children:[s.jsxDEV("h2",{className:"text-lg font-semibold",children:$?"Hizmet Düzenle":"Yeni Hizmet Takibi"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:638,columnNumber:11},this),s.jsxDEV("button",{onClick:()=>Z(!1),className:"h-8 w-8 rounded-full bg-red-600 text-white hover:bg-red-700",children:"×"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:641,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:637,columnNumber:9},this),s.jsxDEV("form",{onSubmit:Q(async e=>{try{const i={id:Date.now().toString(),...e,status:"planned",progress_percentage:0,created_at:(new Date).toISOString(),beneficiaries:q.find(i=>i.id===e.beneficiary_id),assigned_user:_.find(i=>i.id===e.assigned_to)};D(e=>[i,...e]),S.success("Hizmet takip kaydı başarıyla oluşturuldu"),Z(!1),ee(),ae()}catch(i){S.error("Hizmet takip kaydı oluşturulurken hata oluştu")}}),className:"p-4 space-y-4",children:[s.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxDEV("div",{children:[s.jsxDEV("label",{className:"block text-sm font-medium mb-1",children:"İhtiyaç Sahibi *"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:652,columnNumber:15},this),s.jsxDEV("select",{...W("beneficiary_id"),className:"w-full rounded border px-3 py-2 text-sm",children:[s.jsxDEV("option",{value:"",children:"Seçiniz..."},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:657,columnNumber:17},this),q.map(e=>s.jsxDEV("option",{value:e.id,children:[e.name," ",e.surname," - ",e.category]},e.id,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:659,columnNumber:17},this))]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:653,columnNumber:15},this),X.beneficiary_id&&s.jsxDEV("p",{className:"text-sm text-red-600 mt-1",children:X.beneficiary_id.message},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:665,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:651,columnNumber:13},this),s.jsxDEV("div",{children:[s.jsxDEV("label",{className:"block text-sm font-medium mb-1",children:"Hizmet Türü *"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:670,columnNumber:15},this),s.jsxDEV("select",{...W("service_type"),className:"w-full rounded border px-3 py-2 text-sm",children:[s.jsxDEV("option",{value:"",children:"Seçiniz..."},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:675,columnNumber:17},this),V.map(e=>s.jsxDEV("option",{value:e,children:e},e,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:677,columnNumber:17},this))]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:671,columnNumber:15},this),X.service_type&&s.jsxDEV("p",{className:"text-sm text-red-600 mt-1",children:X.service_type.message},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:681,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:669,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:650,columnNumber:11},this),s.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxDEV("div",{children:[s.jsxDEV("label",{className:"block text-sm font-medium mb-1",children:"Hizmet Kategorisi *"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:688,columnNumber:15},this),s.jsxDEV("select",{...W("service_category"),className:"w-full rounded border px-3 py-2 text-sm",disabled:!se,children:[s.jsxDEV("option",{value:"",children:"Seçiniz..."},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:694,columnNumber:17},this),se&&(null==(f=y[se])?void 0:f.map(e=>s.jsxDEV("option",{value:e,children:e},e,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:696,columnNumber:17},this)))]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:689,columnNumber:15},this),X.service_category&&s.jsxDEV("p",{className:"text-sm text-red-600 mt-1",children:X.service_category.message},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:700,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:687,columnNumber:13},this),s.jsxDEV("div",{children:[s.jsxDEV("label",{className:"block text-sm font-medium mb-1",children:"Öncelik *"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:705,columnNumber:15},this),s.jsxDEV("select",{...W("priority"),className:"w-full rounded border px-3 py-2 text-sm",children:[s.jsxDEV("option",{value:"",children:"Seçiniz..."},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:710,columnNumber:17},this),s.jsxDEV("option",{value:"low",children:"Düşük"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:711,columnNumber:17},this),s.jsxDEV("option",{value:"medium",children:"Orta"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:712,columnNumber:17},this),s.jsxDEV("option",{value:"high",children:"Yüksek"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:713,columnNumber:17},this),s.jsxDEV("option",{value:"urgent",children:"Acil"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:714,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:706,columnNumber:15},this),X.priority&&s.jsxDEV("p",{className:"text-sm text-red-600 mt-1",children:X.priority.message},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:717,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:704,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:686,columnNumber:11},this),s.jsxDEV("div",{children:[s.jsxDEV("label",{className:"block text-sm font-medium mb-1",children:"Açıklama *"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:723,columnNumber:13},this),s.jsxDEV("textarea",{...W("description"),rows:3,className:"w-full rounded border px-3 py-2 text-sm",placeholder:"Hizmet açıklaması..."},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:724,columnNumber:13},this),X.description&&s.jsxDEV("p",{className:"text-sm text-red-600 mt-1",children:X.description.message},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:731,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:722,columnNumber:11},this),s.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxDEV("div",{children:[s.jsxDEV("label",{className:"block text-sm font-medium mb-1",children:"Atanan Kişi"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:737,columnNumber:15},this),s.jsxDEV("select",{...W("assigned_to"),className:"w-full rounded border px-3 py-2 text-sm",children:[s.jsxDEV("option",{value:"",children:"Seçiniz..."},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:742,columnNumber:17},this),_.map(e=>s.jsxDEV("option",{value:e.id,children:e.name},e.id,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:744,columnNumber:17},this))]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:738,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:736,columnNumber:13},this),s.jsxDEV("div",{children:[s.jsxDEV("label",{className:"block text-sm font-medium mb-1",children:"Konum"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:750,columnNumber:15},this),s.jsxDEV("input",{type:"text",...W("location"),className:"w-full rounded border px-3 py-2 text-sm",placeholder:"Hizmet konumu"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:751,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:749,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:735,columnNumber:11},this),s.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxDEV("div",{children:[s.jsxDEV("label",{className:"block text-sm font-medium mb-1",children:"Başlangıç Tarihi *"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:762,columnNumber:15},this),s.jsxDEV("input",{type:"date",...W("start_date"),className:"w-full rounded border px-3 py-2 text-sm"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:763,columnNumber:15},this),X.start_date&&s.jsxDEV("p",{className:"text-sm text-red-600 mt-1",children:X.start_date.message},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:769,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:761,columnNumber:13},this),s.jsxDEV("div",{children:[s.jsxDEV("label",{className:"block text-sm font-medium mb-1",children:"Beklenen Bitiş Tarihi"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:774,columnNumber:15},this),s.jsxDEV("input",{type:"date",...W("expected_completion"),className:"w-full rounded border px-3 py-2 text-sm"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:775,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:773,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:760,columnNumber:11},this),s.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxDEV("div",{children:[s.jsxDEV("label",{className:"block text-sm font-medium mb-1",children:"İletişim Kişisi"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:785,columnNumber:15},this),s.jsxDEV("input",{type:"text",...W("contact_person"),className:"w-full rounded border px-3 py-2 text-sm",placeholder:"İletişim kişisi adı"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:786,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:784,columnNumber:13},this),s.jsxDEV("div",{children:[s.jsxDEV("label",{className:"block text-sm font-medium mb-1",children:"İletişim Telefonu"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:795,columnNumber:15},this),s.jsxDEV("input",{type:"tel",...W("contact_phone"),className:"w-full rounded border px-3 py-2 text-sm",placeholder:"0532 123 45 67"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:796,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:794,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:783,columnNumber:11},this),s.jsxDEV("div",{children:[s.jsxDEV("label",{className:"block text-sm font-medium mb-1",children:"Notlar"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:806,columnNumber:13},this),s.jsxDEV("textarea",{...W("notes"),rows:3,className:"w-full rounded border px-3 py-2 text-sm",placeholder:"Hizmet ile ilgili notlar..."},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:807,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:805,columnNumber:11},this),s.jsxDEV("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsxDEV("button",{type:"button",onClick:()=>Z(!1),className:"rounded border px-4 py-2 text-sm hover:bg-gray-50",children:"İptal"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:816,columnNumber:13},this),s.jsxDEV("button",{type:"submit",className:"flex items-center gap-2 rounded bg-primary px-4 py-2 text-sm text-white hover:bg-primary/90",children:[s.jsxDEV(r,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:827,columnNumber:15},this),$?"Güncelle":"Kaydet"]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:823,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:815,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:649,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:636,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/aid/ServiceTracking.tsx",lineNumber:512,columnNumber:5},this)}export{w as default};
