import{r as e,j as t}from"../assets/index-C7XW2vnU.js";import{D as a}from"./DataTable-BR_3tqT5.js";import{M as s}from"./Modal-QxY_FyG0.js";import{u as n}from"./useSanitization-BfZsL2sz.js";import"./sanitization-DKE2yZnW.js";const l=[{id:"1",name:"ABC Şirketi",type:"şirket",contactPerson:"Mehmet Özkan",phone:"0212 555 0101",email:"mehmet@abc.com",address:"İstanbul, Türkiye",totalDonations:5e4,lastDonation:"2024-01-15",status:"aktif"},{id:"2",name:"Yardım Vakfı",type:"vakıf",contactPerson:"Ayşe Kaya",phone:"0312 555 0202",email:"ayse@yardimvakfi.org",address:"Ankara, Türkiye",totalDonations:75e3,lastDonation:"2024-01-10",status:"aktif"}];function r(){const[r,i]=e.useState(l),[o,d]=e.useState(""),[m,c]=e.useState(!1),[u,p]=e.useState(null),[x,h]=e.useState({name:"",type:"şirket",contactPerson:"",phone:"",email:"",address:""}),b=e.useMemo(()=>r.filter(e=>JSON.stringify(e).toLowerCase().includes(o.toLowerCase())),[r,o]),k=[{key:"name",header:"Kurum Adı"},{key:"type",header:"Tür",render:(e,a)=>t.jsx("span",{className:"px-2 py-1 rounded text-xs "+("şirket"===a.type?"bg-blue-100 text-blue-800":"vakıf"===a.type?"bg-green-100 text-green-800":"dernek"===a.type?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"),children:a.type})},{key:"contactPerson",header:"İletişim Kişisi"},{key:"phone",header:"Telefon"},{key:"email",header:"E-posta"},{key:"totalDonations",header:"Toplam Bağış",render:(e,t)=>`${t.totalDonations.toLocaleString("tr-TR")} ₺`},{key:"lastDonation",header:"Son Bağış"},{key:"status",header:"Durum",render:(e,a)=>t.jsx("span",{className:"px-2 py-1 rounded text-xs "+("aktif"===a.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:a.status})},{key:"id",header:"İşlemler",render:(e,a)=>t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>y(a),className:"text-blue-600 hover:text-blue-800 text-sm",children:"Düzenle"}),t.jsx("button",{onClick:()=>j(a.id),className:"text-red-600 hover:text-red-800 text-sm",children:"Sil"})]})}],y=e=>{p(e),h({name:e.name,type:e.type,contactPerson:e.contactPerson,phone:e.phone,email:e.email,address:e.address}),c(!0)},j=e=>{confirm("Bu kurumu silmek istediğinizden emin misiniz?")&&i(r.filter(t=>t.id!==e))},{sanitizeFormField:f,createSanitizedChangeHandler:v}=n();return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-xl font-semibold",children:"Kurumlar"}),t.jsx("button",{onClick:()=>{p(null),h({name:"",type:"şirket",contactPerson:"",phone:"",email:"",address:""}),c(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Yeni Kurum Ekle"})]}),t.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[t.jsx("input",{value:o,onChange:e=>d(e.target.value),className:"flex-1 border rounded px-3 py-2",placeholder:"Kurum adı, kişi, telefon veya e-posta ile ara..."}),t.jsxs("select",{className:"border rounded px-3 py-2",children:[t.jsx("option",{value:"",children:"Tüm Türler"}),t.jsx("option",{value:"şirket",children:"Şirket"}),t.jsx("option",{value:"vakıf",children:"Vakıf"}),t.jsx("option",{value:"dernek",children:"Dernek"}),t.jsx("option",{value:"kamu",children:"Kamu"})]}),t.jsxs("select",{className:"border rounded px-3 py-2",children:[t.jsx("option",{value:"",children:"Tüm Durumlar"}),t.jsx("option",{value:"aktif",children:"Aktif"}),t.jsx("option",{value:"pasif",children:"Pasif"})]})]}),t.jsx(a,{columns:k,data:b})]}),t.jsx(s,{isOpen:m,onClose:()=>c(!1),title:u?"Kurum Düzenle":"Yeni Kurum Ekle",children:t.jsxs("form",{onSubmit:e=>{e.preventDefault();const t={name:f(x.name,"text"),type:x.type,contactPerson:f(x.contactPerson,"text"),phone:f(x.phone,"phone"),email:f(x.email,"email"),address:f(x.address,"text")};if(u)i(r.map(e=>e.id===u.id?{...e,...t}:e));else{const e={id:Date.now().toString(),...t,totalDonations:0,lastDonation:"-",status:"aktif"};i([...r,e])}c(!1),p(null),h({name:"",type:"şirket",contactPerson:"",phone:"",email:"",address:""})},className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Kurum Adı"}),t.jsx("input",{type:"text",value:x.name,onChange:v(e=>h({...x,name:e}),"text"),className:"w-full border rounded px-3 py-2",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tür"}),t.jsxs("select",{value:x.type,onChange:e=>h({...x,type:e.target.value}),className:"w-full border rounded px-3 py-2",children:[t.jsx("option",{value:"şirket",children:"Şirket"}),t.jsx("option",{value:"vakıf",children:"Vakıf"}),t.jsx("option",{value:"dernek",children:"Dernek"}),t.jsx("option",{value:"kamu",children:"Kamu"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"İletişim Kişisi"}),t.jsx("input",{type:"text",value:x.contactPerson,onChange:v(e=>h({...x,contactPerson:e}),"text"),className:"w-full border rounded px-3 py-2",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Telefon"}),t.jsx("input",{type:"tel",value:x.phone,onChange:v(e=>h({...x,phone:e}),"phone"),className:"w-full border rounded px-3 py-2"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"E-posta"}),t.jsx("input",{type:"email",value:x.email,onChange:v(e=>h({...x,email:e}),"email"),className:"w-full border rounded px-3 py-2"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Adres"}),t.jsx("textarea",{value:x.address,onChange:v(e=>h({...x,address:e}),"text"),className:"w-full border rounded px-3 py-2",rows:3})]}),t.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>c(!1),className:"px-4 py-2 border rounded hover:bg-gray-50",children:"İptal"}),t.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:u?"Güncelle":"Ekle"})]})]})})]})}export{r as default};
