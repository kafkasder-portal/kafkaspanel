import{r as e,u as r,a as s,b as a,j as t,N as l,C as o,B as i,M as n,c as m,L as d,U as c,P as u}from"../assets/index-dW79Uy5k.js";import{u as x,t as f,o as p,s as b}from"./types-DWSxFkmy.js";import{L as g}from"./lock-C0CdLVMq.js";import{E as h}from"./eye-off-Ceq4IAeY.js";import{E as y}from"./eye-C2ZiGWXh.js";const j=p({email:b().email("Geçerli bir email adresi giriniz"),password:b().min(6,"Şifre en az 6 karakter olmalıdır")}),N=p({email:b().email("Geçerli bir email adresi giriniz"),password:b().min(6,"Şifre en az 6 karakter olmalıdır"),confirmPassword:b().min(6,"Şifre tekrarı gereklidir"),full_name:b().min(2,"Ad soyad en az 2 karakter olmalıdır"),department:b().optional(),phone:b().optional()}).refine(e=>e.password===e.confirmPassword,{message:"Şifreler eşleşmiyor",path:["confirmPassword"]}),w=p({email:b().email("Geçerli bir email adresi giriniz")});function v(){var p,b;const[v,k]=e.useState("login"),[S,z]=e.useState(!1),[G,P]=e.useState(!1),C=r(),E=s(),{user:_,session:A,loading:H,error:D,signIn:F,signUp:V,resetPassword:Y,clearError:B}=a(),L=x({resolver:f(j),defaultValues:{email:"",password:""}}),O=x({resolver:f(N),defaultValues:{email:"",password:"",confirmPassword:"",full_name:"",department:"",phone:""}}),T=x({resolver:f(w),defaultValues:{email:""}});if(e.useEffect(()=>{B()},[v,B]),A&&_){const e=(null==(b=null==(p=E.state)?void 0:p.from)?void 0:b.pathname)||"/";return t.jsx(l,{to:e,replace:!0})}return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-cyan-50 p-4",children:t.jsxs(o,{className:"w-full max-w-md p-8 shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-blue-600 to-cyan-600 rounded-2xl flex items-center justify-center mb-4",children:t.jsx(i,{className:"w-8 h-8 text-white"})}),t.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["login"===v&&"Hoş Geldiniz","register"===v&&"Hesap Oluşturun","forgot"===v&&"Şifre Sıfırlama"]}),t.jsxs("p",{className:"text-gray-600 mt-2",children:["login"===v&&"Dernek Yönetim Paneli","register"===v&&"Yeni hesap oluşturmak için bilgilerinizi giriniz","forgot"===v&&"Email adresinizi girerek şifrenizi sıfırlayın"]})]}),D&&t.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-red-700 text-sm",children:D})}),"login"===v&&t.jsxs("form",{onSubmit:L.handleSubmit(async e=>{var r,s;try{if(await F(e.email,e.password)){const e=(null==(s=null==(r=E.state)?void 0:r.from)?void 0:s.pathname)||"/";C(e,{replace:!0})}}catch(a){}}),className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Adresi"}),t.jsxs("div",{className:"relative",children:[t.jsx(n,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),t.jsx("input",{...L.register("email"),type:"email",placeholder:"ornek@email.com",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]}),L.formState.errors.email&&t.jsx("p",{className:"text-red-600 text-sm mt-1",children:L.formState.errors.email.message})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Şifre"}),t.jsxs("div",{className:"relative",children:[t.jsx(g,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),t.jsx("input",{...L.register("password"),type:S?"text":"password",placeholder:"••••••••",className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"}),t.jsx("button",{type:"button",onClick:()=>z(!S),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:S?t.jsx(h,{className:"w-5 h-5"}):t.jsx(y,{className:"w-5 h-5"})})]}),L.formState.errors.password&&t.jsx("p",{className:"text-red-600 text-sm mt-1",children:L.formState.errors.password.message})]}),t.jsx(m,{type:"submit",disabled:H,className:"w-full bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white py-3 rounded-lg font-medium transition-all duration-200",children:H?t.jsxs(t.Fragment,{children:[t.jsx(d,{className:"w-4 h-4 animate-spin mr-2"}),"Giriş yapılıyor..."]}):"Giriş Yap"}),t.jsxs("div",{className:"text-center space-y-2",children:[t.jsx("button",{type:"button",onClick:()=>k("forgot"),className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Şifremi unuttum"}),t.jsxs("div",{className:"text-gray-600 text-sm",children:["Hesabınız yok mu?"," ",t.jsx("button",{type:"button",onClick:()=>k("register"),className:"text-blue-600 hover:text-blue-700 font-medium",children:"Kayıt olun"})]})]})]}),"register"===v&&t.jsxs("form",{onSubmit:O.handleSubmit(async e=>{try{await V(e.email,e.password,{full_name:e.full_name,department:e.department,phone:e.phone}),k("login"),O.reset()}catch(r){}}),className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ad Soyad *"}),t.jsxs("div",{className:"relative",children:[t.jsx(c,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),t.jsx("input",{...O.register("full_name"),type:"text",placeholder:"Adınız Soyadınız",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]}),O.formState.errors.full_name&&t.jsx("p",{className:"text-red-600 text-sm mt-1",children:O.formState.errors.full_name.message})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Adresi *"}),t.jsxs("div",{className:"relative",children:[t.jsx(n,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),t.jsx("input",{...O.register("email"),type:"email",placeholder:"ornek@email.com",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]}),O.formState.errors.email&&t.jsx("p",{className:"text-red-600 text-sm mt-1",children:O.formState.errors.email.message})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Şifre *"}),t.jsxs("div",{className:"relative",children:[t.jsx(g,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),t.jsx("input",{...O.register("password"),type:S?"text":"password",placeholder:"••••••••",className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"}),t.jsx("button",{type:"button",onClick:()=>z(!S),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:S?t.jsx(h,{className:"w-4 h-4"}):t.jsx(y,{className:"w-4 h-4"})})]}),O.formState.errors.password&&t.jsx("p",{className:"text-red-600 text-sm mt-1",children:O.formState.errors.password.message})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Şifre Tekrar *"}),t.jsxs("div",{className:"relative",children:[t.jsx(g,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),t.jsx("input",{...O.register("confirmPassword"),type:G?"text":"password",placeholder:"••••••••",className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"}),t.jsx("button",{type:"button",onClick:()=>P(!G),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:G?t.jsx(h,{className:"w-4 h-4"}):t.jsx(y,{className:"w-4 h-4"})})]}),O.formState.errors.confirmPassword&&t.jsx("p",{className:"text-red-600 text-sm mt-1",children:O.formState.errors.confirmPassword.message})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Departman"}),t.jsxs("div",{className:"relative",children:[t.jsx(i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),t.jsx("input",{...O.register("department"),type:"text",placeholder:"Departmanınız",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefon"}),t.jsxs("div",{className:"relative",children:[t.jsx(u,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),t.jsx("input",{...O.register("phone"),type:"tel",placeholder:"+90 555 123 45 67",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]})]})]}),t.jsx(m,{type:"submit",disabled:H,className:"w-full bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white py-3 rounded-lg font-medium transition-all duration-200",children:H?t.jsxs(t.Fragment,{children:[t.jsx(d,{className:"w-4 h-4 animate-spin mr-2"}),"Hesap oluşturuluyor..."]}):"Hesap Oluştur"}),t.jsx("div",{className:"text-center",children:t.jsxs("div",{className:"text-gray-600 text-sm",children:["Zaten hesabınız var mı?"," ",t.jsx("button",{type:"button",onClick:()=>k("login"),className:"text-blue-600 hover:text-blue-700 font-medium",children:"Giriş yapın"})]})})]}),"forgot"===v&&t.jsxs("form",{onSubmit:T.handleSubmit(async e=>{try{await Y(e.email),k("login"),T.reset()}catch(r){}}),className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Adresi"}),t.jsxs("div",{className:"relative",children:[t.jsx(n,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),t.jsx("input",{...T.register("email"),type:"email",placeholder:"ornek@email.com",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]}),T.formState.errors.email&&t.jsx("p",{className:"text-red-600 text-sm mt-1",children:T.formState.errors.email.message})]}),t.jsx(m,{type:"submit",disabled:H,className:"w-full bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white py-3 rounded-lg font-medium transition-all duration-200",children:H?t.jsxs(t.Fragment,{children:[t.jsx(d,{className:"w-4 h-4 animate-spin mr-2"}),"Gönderiliyor..."]}):"Şifre Sıfırlama Bağlantısı Gönder"}),t.jsx("div",{className:"text-center",children:t.jsx("button",{type:"button",onClick:()=>k("login"),className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"← Giriş sayfasına dön"})})]})]})})}export{v as default};
