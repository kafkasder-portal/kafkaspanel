import{r as e,j as s}from"../assets/index-dW79Uy5k.js";import{D as a}from"./DataTable-Co2fK-v0.js";import{M as r}from"./Modal-BBek2lFh.js";import{e as t}from"./exportToCsv-DLkyd1nM.js";const l=[{id:"1",shareNumber:"KB2024-001",periodName:"Kurban Bayramı 2024",periodYear:2024,donorName:"Ahmet Yılmaz",donorPhone:"+90 532 123 4567",donorEmail:"ahmet.yilmaz@email.com",donorAddress:"Kadıköy, İstanbul",shareCount:2,pricePerShare:2500,totalAmount:5e3,currency:"TRY",paymentStatus:"ödendi",paymentDate:"2024-03-15",paymentMethod:"Kredi Kartı",paymentReference:"CC-2024-001",distributionArea:"Suriye",distributionStatus:"hazırlanıyor",onBehalfOf:"Rahmetli babası adına",isRecurring:!1,donorType:"bireysel",receiptNumber:"KB-2024-001",receiptIssued:!0,thankYouSent:!0,tags:["vip","tekrarlayan"],createdDate:"2024-03-15",createdBy:"Admin",lastModified:"2024-03-15",modifiedBy:"Admin"},{id:"2",shareNumber:"KB2024-002",periodName:"Kurban Bayramı 2024",periodYear:2024,donorName:"Zeynep Kaya",donorPhone:"+90 533 987 6543",donorEmail:"zeynep.kaya@email.com",shareCount:1,pricePerShare:2500,totalAmount:2500,currency:"TRY",paymentStatus:"beklemede",distributionArea:"Türkiye",distributionStatus:"beklemede",isRecurring:!0,recurringFrequency:"yıllık",nextPaymentDate:"2025-03-01",donorType:"bireysel",receiptIssued:!1,thankYouSent:!1,tags:["yeni"],createdDate:"2024-03-20",createdBy:"Admin",lastModified:"2024-03-20",modifiedBy:"Admin"},{id:"3",shareNumber:"KB2024-003",periodName:"Kurban Bayramı 2024",periodYear:2024,donorName:"ABC Şirketi",donorPhone:"+90 212 555 0123",donorEmail:"info@abcsirket.com",shareCount:10,pricePerShare:2500,totalAmount:25e3,currency:"TRY",paymentStatus:"ödendi",paymentDate:"2024-03-10",paymentMethod:"Havale",paymentReference:"HV-2024-001",distributionArea:"Somali",distributionStatus:"gönderildi",distributionDate:"2024-06-16",donorType:"kurumsal",taxNumber:"1234567890",receiptNumber:"KB-2024-003",receiptIssued:!0,thankYouSent:!0,tags:["kurumsal","büyük"],createdDate:"2024-03-10",createdBy:"Admin",lastModified:"2024-06-16",modifiedBy:"Admin",isRecurring:!1},{id:"4",shareNumber:"AK2024-001",periodName:"Akika Kurbanları 2024",periodYear:2024,donorName:"Mehmet Özkan",donorPhone:"+90 534 111 2233",donorEmail:"mehmet.ozkan@email.com",shareCount:1,pricePerShare:1800,totalAmount:1800,currency:"TRY",paymentStatus:"ödendi",paymentDate:"2024-02-15",paymentMethod:"Nakit",distributionArea:"Türkiye",distributionStatus:"teslim edildi",distributionDate:"2024-02-20",onBehalfOf:"Yeni doğan oğlu adına",isRecurring:!1,donorType:"bireysel",receiptNumber:"AK-2024-001",receiptIssued:!0,thankYouSent:!0,tags:["akika"],createdDate:"2024-02-15",createdBy:"Admin",lastModified:"2024-02-20",modifiedBy:"Admin"}];function n(){const[n,d]=e.useState(l),[i,o]=e.useState(""),[c,m]=e.useState(""),[u,x]=e.useState(""),[h,p]=e.useState(""),[g,b]=e.useState(""),[j,y]=e.useState({start:"",end:""}),[N,v]=e.useState(!1),[f,k]=e.useState(!1),[S,T]=e.useState(!1),[C,A]=e.useState(null),[w,B]=e.useState(null),[D,R]=e.useState("shares"),[K,Y]=e.useState({shareNumber:"",periodName:"",donorName:"",donorPhone:"",donorEmail:"",donorAddress:"",shareCount:"",pricePerShare:"",currency:"TRY",distributionArea:"",onBehalfOf:"",donorType:"bireysel",taxNumber:"",isRecurring:!1,recurringFrequency:"yıllık",notes:"",tags:[]}),M=e.useMemo(()=>n.filter(e=>{const s=JSON.stringify(e).toLowerCase().includes(i.toLowerCase()),a=!c||e.paymentStatus===c,r=!u||e.distributionStatus===u,t=!h||e.periodName.includes(h),l=!g||e.donorType===g;let n=!0;if(j.start&&j.end){const s=new Date(e.createdDate),a=new Date(j.start),r=new Date(j.end);n=s>=a&&s<=r}return s&&a&&r&&t&&l&&n}),[n,i,c,u,h,g,j]),P=M.reduce((e,s)=>e+s.shareCount,0),z=M.reduce((e,s)=>e+s.totalAmount,0),O=M.filter(e=>"ödendi"===e.paymentStatus).reduce((e,s)=>e+s.totalAmount,0),H=M.filter(e=>"beklemede"===e.paymentStatus).reduce((e,s)=>e+s.totalAmount,0),E=M.filter(e=>e.isRecurring).length,q=M.filter(e=>e.receiptIssued).length,F=M.filter(e=>e.thankYouSent).length,I=M.reduce((e,s)=>{const a=s.distributionArea;return e[a]||(e[a]={count:0,amount:0}),e[a].count+=s.shareCount,e[a].amount+=s.totalAmount,e},{}),L=[{key:"shareNumber",header:"Hisse No"},{key:"periodName",header:"Dönem"},{key:"donorName",header:"Bağışçı"},{key:"donorPhone",header:"Telefon"},{key:"shareCount",header:"Hisse",render:(e,a)=>s.jsxs("div",{children:[s.jsxs("div",{children:[a.shareCount," adet"]}),s.jsxs("div",{className:"text-xs text-gray-500",children:[a.pricePerShare.toLocaleString("tr-TR")," ₺/adet"]})]})},{key:"totalAmount",header:"Toplam Tutar",render:(e,s)=>`${s.totalAmount.toLocaleString("tr-TR")} ${s.currency}`},{key:"paymentStatus",header:"Ödeme Durumu",render:(e,a)=>s.jsx("span",{className:"px-2 py-1 rounded text-xs "+("ödendi"===a.paymentStatus?"bg-green-100 text-green-800":"beklemede"===a.paymentStatus?"bg-yellow-100 text-yellow-800":"kısmi"===a.paymentStatus?"bg-orange-100 text-orange-800":"iade"===a.paymentStatus?"bg-purple-100 text-purple-800":"bg-red-100 text-red-800"),children:a.paymentStatus})},{key:"distributionStatus",header:"Dağıtım Durumu",render:(e,a)=>s.jsx("span",{className:"px-2 py-1 rounded text-xs "+("teslim edildi"===a.distributionStatus?"bg-green-100 text-green-800":"gönderildi"===a.distributionStatus?"bg-blue-100 text-blue-800":"hazırlanıyor"===a.distributionStatus?"bg-yellow-100 text-yellow-800":"beklemede"===a.distributionStatus?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"),children:a.distributionStatus})},{key:"distributionArea",header:"Dağıtım Alanı"},{key:"isRecurring",header:"Tekrarlayan",render:(e,a)=>s.jsx("div",{children:a.isRecurring?s.jsxs("div",{children:[s.jsx("span",{className:"text-green-600",children:"✓"}),s.jsx("div",{className:"text-xs text-gray-500",children:a.recurringFrequency})]}):s.jsx("span",{className:"text-gray-400",children:"-"})})},{key:"receiptIssued",header:"Makbuz",render:(e,a)=>s.jsx("div",{className:"text-center",children:a.receiptIssued?s.jsxs("div",{children:[s.jsx("span",{className:"text-green-600",children:"✓"}),s.jsx("div",{className:"text-xs text-gray-500",children:a.receiptNumber})]}):s.jsx("span",{className:"text-red-600",children:"✗"})})},{key:"id",header:"İşlemler",render:(e,a)=>s.jsxs("div",{className:"flex gap-1 text-xs",children:[s.jsx("button",{onClick:()=>G(a),className:"text-blue-600 hover:text-blue-800 px-2 py-1 rounded",children:"Düzenle"}),s.jsx("button",{onClick:()=>U(a),className:"text-green-600 hover:text-green-800 px-2 py-1 rounded",children:"Ödeme"}),s.jsx("button",{onClick:()=>V(a),className:"text-purple-600 hover:text-purple-800 px-2 py-1 rounded",children:"Makbuz"}),s.jsx("button",{onClick:()=>$(a.id),className:"text-orange-600 hover:text-orange-800 px-2 py-1 rounded",children:"Teşekkür"})]})}],G=e=>{A(e),Y({shareNumber:e.shareNumber,periodName:e.periodName,donorName:e.donorName,donorPhone:e.donorPhone,donorEmail:e.donorEmail||"",donorAddress:e.donorAddress||"",shareCount:e.shareCount.toString(),pricePerShare:e.pricePerShare.toString(),currency:e.currency,distributionArea:e.distributionArea,onBehalfOf:e.onBehalfOf||"",donorType:e.donorType,taxNumber:e.taxNumber||"",isRecurring:e.isRecurring,recurringFrequency:e.recurringFrequency||"yıllık",notes:e.notes||"",tags:e.tags}),v(!0)},U=e=>{B(e),k(!0)},V=e=>{B(e),T(!0)},$=e=>{d(n.map(s=>s.id===e?{...s,thankYouSent:!0}:s))},J=()=>{Y({shareNumber:"",periodName:"",donorName:"",donorPhone:"",donorEmail:"",donorAddress:"",shareCount:"",pricePerShare:"",currency:"TRY",distributionArea:"",onBehalfOf:"",donorType:"bireysel",taxNumber:"",isRecurring:!1,recurringFrequency:"yıllık",notes:"",tags:[]})},Z=["Kurban Bayramı 2024","Kurban Bayramı 2023","Akika Kurbanları 2024"];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Kurban Hisseleri"}),s.jsxs("div",{className:"flex border rounded",children:[s.jsx("button",{onClick:()=>R("shares"),className:"px-4 py-2 text-sm "+("shares"===D?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:"Hisseler"}),s.jsx("button",{onClick:()=>R("analytics"),className:"px-4 py-2 text-sm "+("analytics"===D?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:"Analitik"})]})]}),"shares"===D&&s.jsx("button",{onClick:()=>{A(null),J(),v(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Yeni Hisse"})]}),"shares"===D&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium text-blue-600",children:"Toplam Hisse"}),s.jsx("p",{className:"text-2xl font-bold text-blue-900",children:P})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium text-green-600",children:"Toplam Tutar"}),s.jsxs("p",{className:"text-2xl font-bold text-green-900",children:[z.toLocaleString("tr-TR")," ₺"]})]}),s.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium text-purple-600",children:"Ödenen"}),s.jsxs("p",{className:"text-2xl font-bold text-purple-900",children:[O.toLocaleString("tr-TR")," ₺"]})]}),s.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium text-orange-600",children:"Bekleyen"}),s.jsxs("p",{className:"text-2xl font-bold text-orange-900",children:[H.toLocaleString("tr-TR")," ₺"]})]}),s.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium text-indigo-600",children:"Tekrarlayan"}),s.jsx("p",{className:"text-2xl font-bold text-indigo-900",children:E})]}),s.jsxs("div",{className:"bg-pink-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium text-pink-600",children:"Makbuz Oranı"}),s.jsxs("p",{className:"text-2xl font-bold text-pink-900",children:[Math.round(q/M.length*100),"%"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-7 gap-4 mb-6",children:[s.jsx("input",{value:i,onChange:e=>o(e.target.value),className:"border rounded px-3 py-2",placeholder:"Hisse no, bağışçı adı ile ara..."}),s.jsxs("select",{value:c,onChange:e=>m(e.target.value),className:"border rounded px-3 py-2",children:[s.jsx("option",{value:"",children:"Tüm Ödemeler"}),s.jsx("option",{value:"ödendi",children:"Ödendi"}),s.jsx("option",{value:"beklemede",children:"Beklemede"}),s.jsx("option",{value:"kısmi",children:"Kısmi"}),s.jsx("option",{value:"iptal",children:"İptal"}),s.jsx("option",{value:"iade",children:"İade"})]}),s.jsxs("select",{value:u,onChange:e=>x(e.target.value),className:"border rounded px-3 py-2",children:[s.jsx("option",{value:"",children:"Tüm Dağıtımlar"}),s.jsx("option",{value:"beklemede",children:"Beklemede"}),s.jsx("option",{value:"hazırlanıyor",children:"Hazırlanıyor"}),s.jsx("option",{value:"gönderildi",children:"Gönderildi"}),s.jsx("option",{value:"teslim edildi",children:"Teslim Edildi"}),s.jsx("option",{value:"iptal",children:"İptal"})]}),s.jsxs("select",{value:h,onChange:e=>p(e.target.value),className:"border rounded px-3 py-2",children:[s.jsx("option",{value:"",children:"Tüm Dönemler"}),Z.map(e=>s.jsx("option",{value:e,children:e},e))]}),s.jsxs("select",{value:g,onChange:e=>b(e.target.value),className:"border rounded px-3 py-2",children:[s.jsx("option",{value:"",children:"Tüm Tipler"}),s.jsx("option",{value:"bireysel",children:"Bireysel"}),s.jsx("option",{value:"kurumsal",children:"Kurumsal"})]}),s.jsx("input",{type:"date",value:j.start,onChange:e=>y({...j,start:e.target.value}),className:"border rounded px-3 py-2",placeholder:"Başlangıç"}),s.jsx("input",{type:"date",value:j.end,onChange:e=>y({...j,end:e.target.value}),className:"border rounded px-3 py-2",placeholder:"Bitiş"})]}),s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsx("button",{onClick:()=>t("kurban-hisseleri.csv",M),className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Excel İndir"}),s.jsx("button",{onClick:()=>{M.filter(e=>"beklemede"===e.paymentStatus)},className:"bg-orange-600 text-white px-4 py-2 rounded hover:bg-orange-700",children:"Ödeme Hatırlatması"}),s.jsx("button",{onClick:()=>{M.filter(e=>!e.thankYouSent&&"ödendi"===e.paymentStatus)},className:"bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700",children:"Toplu Teşekkür"})]}),s.jsx(a,{columns:L,data:M})]}),"analytics"===D&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-medium text-blue-600 mb-2",children:"Toplam Hisse Sayısı"}),s.jsx("p",{className:"text-3xl font-bold text-blue-900",children:P}),s.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"Tüm dönemler"})]}),s.jsxs("div",{className:"bg-green-50 p-6 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-medium text-green-600 mb-2",children:"Toplam Gelir"}),s.jsxs("p",{className:"text-3xl font-bold text-green-900",children:[z.toLocaleString("tr-TR")," ₺"]}),s.jsx("p",{className:"text-sm text-green-600 mt-1",children:"Brüt tutar"})]}),s.jsxs("div",{className:"bg-purple-50 p-6 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-medium text-purple-600 mb-2",children:"Ortalama Hisse"}),s.jsx("p",{className:"text-3xl font-bold text-purple-900",children:M.length>0?(P/M.length).toFixed(1):"0"}),s.jsx("p",{className:"text-sm text-purple-600 mt-1",children:"Bağışçı başına"})]}),s.jsxs("div",{className:"bg-orange-50 p-6 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-medium text-orange-600 mb-2",children:"Tahsilat Oranı"}),s.jsxs("p",{className:"text-3xl font-bold text-orange-900",children:[z>0?Math.round(O/z*100):0,"%"]}),s.jsx("p",{className:"text-sm text-orange-600 mt-1",children:"Ödenen/Toplam"})]})]}),s.jsxs("div",{className:"bg-white border rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium mb-4",children:"Dağıtım Alanlarına Göre Dağılım"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(I).map(([e,a])=>s.jsxs("div",{className:"border rounded p-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("h4",{className:"font-medium",children:e}),s.jsxs("span",{className:"text-sm text-gray-500",children:[a.count," hisse"]})]}),s.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[a.amount.toLocaleString("tr-TR")," ₺"]}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Toplam tutarın %",z>0?Math.round(a.amount/z*100):0,"'si"]})]},e))})]}),s.jsxs("div",{className:"bg-white border rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium mb-4",children:"Ödeme Durumu Dağılımı"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:["ödendi","beklemede","kısmi","iptal","iade"].map(e=>{const a=M.filter(s=>s.paymentStatus===e).length,r=M.filter(s=>s.paymentStatus===e).reduce((e,s)=>e+s.totalAmount,0);return s.jsxs("div",{className:"border rounded p-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:e}),s.jsx("div",{className:"text-xl font-bold",children:a}),s.jsxs("div",{className:"text-sm text-gray-500",children:[r.toLocaleString("tr-TR")," ₺"]})]},e)})})]}),s.jsxs("div",{className:"bg-white border rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium mb-4",children:"Tekrarlayan Bağış Analizi"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"border rounded p-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Tekrarlayan Hisse"}),s.jsx("div",{className:"text-2xl font-bold text-green-600",children:E}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Toplam hisselerin %",M.length>0?Math.round(E/M.length*100):0,"'si"]})]}),s.jsxs("div",{className:"border rounded p-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Yıllık Tekrarlayan"}),s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:M.filter(e=>"yıllık"===e.recurringFrequency).length})]}),s.jsxs("div",{className:"border rounded p-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Aylık Tekrarlayan"}),s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:M.filter(e=>"aylık"===e.recurringFrequency).length})]})]})]}),s.jsxs("div",{className:"bg-white border rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium mb-4",children:"İşlem Durumları"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"border rounded p-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Makbuz Kesildi"}),s.jsx("div",{className:"text-2xl font-bold text-green-600",children:q}),s.jsxs("div",{className:"text-sm text-gray-500",children:["%",M.length>0?Math.round(q/M.length*100):0," tamamlandı"]})]}),s.jsxs("div",{className:"border rounded p-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Teşekkür Gönderildi"}),s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:F}),s.jsxs("div",{className:"text-sm text-gray-500",children:["%",M.length>0?Math.round(F/M.length*100):0," tamamlandı"]})]}),s.jsxs("div",{className:"border rounded p-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Kurumsal Bağışçı"}),s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:M.filter(e=>"kurumsal"===e.donorType).length}),s.jsxs("div",{className:"text-sm text-gray-500",children:["%",M.length>0?Math.round(M.filter(e=>"kurumsal"===e.donorType).length/M.length*100):0," oran"]})]})]})]})]})]}),s.jsx(r,{isOpen:N,onClose:()=>v(!1),title:C?"Kurban Hissesi Düzenle":"Yeni Kurban Hissesi",children:s.jsxs("form",{onSubmit:e=>{e.preventDefault();const s=parseInt(K.shareCount),a=parseFloat(K.pricePerShare),r=s*a;if(C)d(n.map(e=>e.id===C.id?{...e,...K,shareCount:s,pricePerShare:a,totalAmount:r,lastModified:(new Date).toISOString().split("T")[0],modifiedBy:"Admin"}:e));else{const e={id:Date.now().toString(),...K,shareCount:s,pricePerShare:a,totalAmount:r,periodYear:(new Date).getFullYear(),paymentStatus:"beklemede",distributionStatus:"beklemede",receiptIssued:!1,thankYouSent:!1,createdDate:(new Date).toISOString().split("T")[0],createdBy:"Admin",lastModified:(new Date).toISOString().split("T")[0],modifiedBy:"Admin"};d([...n,e])}v(!1),A(null),J()},className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Hisse Numarası *"}),s.jsx("input",{type:"text",value:K.shareNumber,onChange:e=>Y({...K,shareNumber:e.target.value}),className:"w-full border rounded px-3 py-2",placeholder:"KB2024-001",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Dönem *"}),s.jsxs("select",{value:K.periodName,onChange:e=>Y({...K,periodName:e.target.value}),className:"w-full border rounded px-3 py-2",required:!0,children:[s.jsx("option",{value:"",children:"Seçiniz"}),Z.map(e=>s.jsx("option",{value:e,children:e},e))]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Bağışçı Tipi"}),s.jsxs("select",{value:K.donorType,onChange:e=>Y({...K,donorType:e.target.value}),className:"w-full border rounded px-3 py-2",children:[s.jsx("option",{value:"bireysel",children:"Bireysel"}),s.jsx("option",{value:"kurumsal",children:"Kurumsal"})]})]}),"kurumsal"===K.donorType&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Vergi Numarası"}),s.jsx("input",{type:"text",value:K.taxNumber,onChange:e=>Y({...K,taxNumber:e.target.value}),className:"w-full border rounded px-3 py-2",placeholder:"1234567890"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Bağışçı Adı *"}),s.jsx("input",{type:"text",value:K.donorName,onChange:e=>Y({...K,donorName:e.target.value}),className:"w-full border rounded px-3 py-2",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Telefon *"}),s.jsx("input",{type:"tel",value:K.donorPhone,onChange:e=>Y({...K,donorPhone:e.target.value}),className:"w-full border rounded px-3 py-2",required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"E-posta"}),s.jsx("input",{type:"email",value:K.donorEmail,onChange:e=>Y({...K,donorEmail:e.target.value}),className:"w-full border rounded px-3 py-2"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Dağıtım Alanı *"}),s.jsxs("select",{value:K.distributionArea,onChange:e=>Y({...K,distributionArea:e.target.value}),className:"w-full border rounded px-3 py-2",required:!0,children:[s.jsx("option",{value:"",children:"Seçiniz"}),["Türkiye","Suriye","Yemen","Somali","Bangladeş","Filistin","Afganistan","Pakistan"].map(e=>s.jsx("option",{value:e,children:e},e))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Adres"}),s.jsx("textarea",{value:K.donorAddress,onChange:e=>Y({...K,donorAddress:e.target.value}),className:"w-full border rounded px-3 py-2",rows:2,placeholder:"Bağışçı adresi..."})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Hisse Sayısı *"}),s.jsx("input",{type:"number",min:"1",value:K.shareCount,onChange:e=>Y({...K,shareCount:e.target.value}),className:"w-full border rounded px-3 py-2",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Hisse Fiyatı *"}),s.jsx("input",{type:"number",step:"0.01",value:K.pricePerShare,onChange:e=>Y({...K,pricePerShare:e.target.value}),className:"w-full border rounded px-3 py-2",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Para Birimi"}),s.jsxs("select",{value:K.currency,onChange:e=>Y({...K,currency:e.target.value}),className:"w-full border rounded px-3 py-2",children:[s.jsx("option",{value:"TRY",children:"TRY"}),s.jsx("option",{value:"USD",children:"USD"}),s.jsx("option",{value:"EUR",children:"EUR"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Adına (Opsiyonel)"}),s.jsx("input",{type:"text",value:K.onBehalfOf,onChange:e=>Y({...K,onBehalfOf:e.target.value}),className:"w-full border rounded px-3 py-2",placeholder:"Rahmetli babası adına"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:K.isRecurring,onChange:e=>Y({...K,isRecurring:e.target.checked}),className:"rounded"}),s.jsx("span",{className:"text-sm font-medium",children:"Tekrarlayan Bağış"})]})}),K.isRecurring&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tekrar Sıklığı"}),s.jsxs("select",{value:K.recurringFrequency,onChange:e=>Y({...K,recurringFrequency:e.target.value}),className:"w-full border rounded px-3 py-2",children:[s.jsx("option",{value:"aylık",children:"Aylık"}),s.jsx("option",{value:"yıllık",children:"Yıllık"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Etiketler"}),s.jsx("div",{className:"grid grid-cols-4 gap-2",children:["vip","tekrarlayan","yeni","kurumsal","büyük","akika","adak","şükür"].map(e=>s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:K.tags.includes(e),onChange:s=>((e,s)=>{Y(s?{...K,tags:[...K.tags,e]}:{...K,tags:K.tags.filter(s=>s!==e)})})(e,s.target.checked),className:"rounded"}),s.jsx("span",{className:"text-sm",children:e})]},e))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Notlar"}),s.jsx("textarea",{value:K.notes,onChange:e=>Y({...K,notes:e.target.value}),className:"w-full border rounded px-3 py-2",rows:2,placeholder:"Ek bilgiler..."})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>v(!1),className:"px-4 py-2 border rounded hover:bg-gray-50",children:"İptal"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:C?"Güncelle":"Oluştur"})]})]})}),s.jsx(r,{isOpen:f,onClose:()=>k(!1),title:"Ödeme İşlemi",children:w&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-gray-50 p-4 rounded",children:[s.jsx("h3",{className:"font-medium mb-2",children:w.shareNumber}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Bağışçı:"}),s.jsx("span",{className:"ml-2",children:w.donorName})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Tutar:"}),s.jsxs("span",{className:"ml-2 font-medium",children:[w.totalAmount.toLocaleString("tr-TR")," ₺"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Durum:"}),s.jsx("span",{className:"ml-2",children:w.paymentStatus})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Hisse:"}),s.jsxs("span",{className:"ml-2",children:[w.shareCount," adet"]})]})]})]}),s.jsxs("form",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Ödeme Yöntemi"}),s.jsxs("select",{className:"w-full border rounded px-3 py-2",children:[s.jsx("option",{value:"nakit",children:"Nakit"}),s.jsx("option",{value:"kredi-karti",children:"Kredi Kartı"}),s.jsx("option",{value:"havale",children:"Havale/EFT"}),s.jsx("option",{value:"pos",children:"POS"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Ödeme Tarihi"}),s.jsx("input",{type:"date",defaultValue:(new Date).toISOString().split("T")[0],className:"w-full border rounded px-3 py-2"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Referans/Açıklama"}),s.jsx("input",{type:"text",className:"w-full border rounded px-3 py-2",placeholder:"İşlem referansı veya açıklama"})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>k(!1),className:"px-4 py-2 border rounded hover:bg-gray-50",children:"İptal"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Ödemeyi Kaydet"})]})]})]})}),s.jsx(r,{isOpen:S,onClose:()=>T(!1),title:"Makbuz İşlemleri",children:w&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-gray-50 p-4 rounded",children:[s.jsx("h3",{className:"font-medium mb-2",children:w.shareNumber}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Bağışçı:"}),s.jsx("span",{className:"ml-2",children:w.donorName})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Tutar:"}),s.jsxs("span",{className:"ml-2 font-medium",children:[w.totalAmount.toLocaleString("tr-TR")," ₺"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Makbuz Durumu:"}),s.jsx("span",{className:"ml-2 "+(w.receiptIssued?"text-green-600":"text-red-600"),children:w.receiptIssued?"Kesildi":"Kesilmedi"})]}),w.receiptNumber&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Makbuz No:"}),s.jsx("span",{className:"ml-2",children:w.receiptNumber})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{T(!1)},className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Makbuz Yazdır"}),s.jsx("button",{onClick:()=>{T(!1)},className:"flex-1 bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",disabled:!w.donorEmail,children:"E-Makbuz Gönder"})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:()=>T(!1),className:"px-4 py-2 border rounded hover:bg-gray-50",children:"Kapat"})})]})})]})}export{n as default};
