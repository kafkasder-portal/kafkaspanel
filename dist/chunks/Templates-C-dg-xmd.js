import{r as e,j as a,n as s,e as l,S as t,F as n,g as r,w as i,x as o,s as c}from"../assets/index-C7XW2vnU.js";import{D as d}from"./DataTable-BR_3tqT5.js";import{M as m}from"./Modal-QxY_FyG0.js";import{s as u,S as x}from"./sanitization-DKE2yZnW.js";import{U as g}from"./upload-B_tN5Ap2.js";import{E as h}from"./eye-Bpapn1fj.js";import{P as p}from"./pen-square-C-SOcf8u.js";function b(){const[b,j]=e.useState(""),[y,v]=e.useState("all"),[N,f]=e.useState("all"),[k,w]=e.useState(null),[C,S]=e.useState(!1),[z,T]=e.useState(!1),[A,D]=e.useState(!1),[K,M]=e.useState(""),[L,B]=e.useState(""),[E,H]=e.useState(""),[O,Y]=e.useState("general"),[Z,F]=e.useState("notification"),[G,I]=e.useState(!1),{createSanitizedChangeHandler:_}={createSanitizedChangeHandler:e.useCallback((e,a="text")=>s=>{const l=s.target.value;let t;switch(a){case"email":t=u(l,x.EMAIL);break;case"phone":t=u(l,x.PHONE);break;case"url":t=u(l,x.URL);break;case"html":t=u(l,x.HTML_WITH_LINKS);break;default:t=u(l,x.TEXT_ONLY)}e(t)},[]),sanitizeValue:e.useCallback((e,a="text")=>{switch(a){case"email":return u(e,x.EMAIL);case"phone":return u(e,x.PHONE);case"url":return u(e,x.URL);case"html":return u(e,x.HTML_WITH_LINKS);default:return u(e,x.TEXT_ONLY)}},[])},U=[{value:"general",label:"Genel"},{value:"welcome",label:"Hoş Geldin"},{value:"reminder",label:"Hatırlatma"},{value:"notification",label:"Bildirim"},{value:"promotion",label:"Promosyon"},{value:"emergency",label:"Acil Durum"}],P=[{id:"1",name:"Hoş Geldiniz Mesajı",subject:"Derneğimize Hoş Geldiniz",content:"Sayın {firstName} {lastName},\n\nKafkas Kültür ve Dayanışma Derneği ailesine hoş geldiniz. Sizinle birlikte daha güçlü bir topluluk oluşturuyoruz.\n\nSaygılarımızla,\nDernek Yönetimi",type:"email",category:"welcome",variables:["firstName","lastName"],isActive:!0,createdAt:"2024-01-15T10:00:00Z",updatedAt:"2024-01-15T10:00:00Z",usageCount:25},{id:"2",name:"Toplantı Daveti",subject:"Aylık Genel Toplantı Daveti",content:"Sayın {firstName},\n\n{meetingDate} tarihinde saat {meetingTime} da yapılacak aylık genel toplantımıza katılımınızı bekliyoruz.\n\nToplantı Konuları:\n- Aylık faaliyet raporu\n- Bütçe değerlendirmesi\n- Yeni projeler\n\nKonum: {location}\n\nSaygılarımızla,\nDernek Yönetimi",type:"email",category:"meeting",variables:["firstName","meetingDate","meetingTime","location"],isActive:!0,createdAt:"2024-01-20T10:00:00Z",updatedAt:"2024-01-20T10:00:00Z",usageCount:15},{id:"3",name:"Yardım Başvuru Onayı",subject:"Yardım Başvurunuz Onaylandı",content:"Sayın {firstName} {lastName},\n\n{applicationDate} tarihinde yapmış olduğunuz {aidType} yardım başvurunuz onaylanmıştır.\n\nYardım Tutarı: {amount} TL\nDağıtım Tarihi: {distributionDate}\n\nGerekli evrakları tamamladıktan sonra yardımınızı alabilirsiniz.\n\nSaygılarımızla,\nDernek Yönetimi",type:"sms",category:"aid",variables:["firstName","lastName","applicationDate","aidType","amount","distributionDate"],isActive:!0,createdAt:"2024-01-25T10:00:00Z",updatedAt:"2024-01-25T10:00:00Z",usageCount:42},{id:"4",name:"Doğum Günü Kutlaması",subject:"Doğum Gününüz Kutlu Olsun!",content:"Sevgili {firstName},\n\nDoğum gününüzü kutlar, sağlık, mutluluk ve başarı dolu bir yaş dileriz.\n\nDernek ailesi olarak her zaman yanınızdayız.\n\nSevgi ve saygılarımızla,\nKafkas Kültür ve Dayanışma Derneği",type:"email",category:"birthday",variables:["firstName"],isActive:!0,createdAt:"2024-02-01T10:00:00Z",updatedAt:"2024-02-01T10:00:00Z",usageCount:8},{id:"5",name:"Acil Durum Bildirimi",subject:"ACİL: Önemli Duyuru",content:"Sayın üyelerimiz,\n\nACİL DURUM: {emergencyMessage}\n\nLütfen dernek merkezini arayınız: {phoneNumber}\n\nDernek Yönetimi",type:"sms",category:"emergency",variables:["emergencyMessage","phoneNumber"],isActive:!0,createdAt:"2024-02-05T10:00:00Z",updatedAt:"2024-02-05T10:00:00Z",usageCount:2},{id:"6",name:"Burs Başvuru Sonucu",subject:"Burs Başvuru Değerlendirme Sonucu",content:"Sayın {firstName} {lastName},\n\n{academicYear} eğitim-öğretim yılı için yapmış olduğunuz burs başvurunuz değerlendirilmiştir.\n\nSonuç: {result}\n{resultMessage}\n\nDetaylı bilgi için dernek merkezimizi ziyaret edebilirsiniz.\n\nBaşarılar dileriz,\nEğitim Koordinatörlüğü",type:"email",category:"scholarship",variables:["firstName","lastName","academicYear","result","resultMessage"],isActive:!0,createdAt:"2024-02-10T10:00:00Z",updatedAt:"2024-02-10T10:00:00Z",usageCount:18}],R=e.useMemo(()=>P.filter(e=>{const a=e.name.toLowerCase().includes(b.toLowerCase())||e.subject.toLowerCase().includes(b.toLowerCase())||e.content.toLowerCase().includes(b.toLowerCase()),s="all"===y||e.category===y,l="all"===N||e.type===N;return a&&s&&l}),[b,y,N,P]),q=e=>{w(e),M(e.name),B(e.subject),H(e.content),Y(e.category||"general"),F(e.type),I(e.isFavorite||!1),T(!0)},W=e=>{navigator.clipboard.writeText(e.content),alert("Şablon içeriği panoya kopyalandı!")},X=e=>{var s;const l=(null==(s=U.find(a=>a.value===e))?void 0:s.label)||e;return a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${{general:"bg-gray-100 text-gray-800",welcome:"bg-blue-100 text-blue-800",reminder:"bg-yellow-100 text-yellow-800",notification:"bg-purple-100 text-purple-800",promotion:"bg-green-100 text-green-800",emergency:"bg-red-100 text-red-800"}[e]}`,children:l})},$=e=>a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${{sms:"bg-green-100 text-green-800",email:"bg-blue-100 text-blue-800",notification:"bg-purple-100 text-purple-800"}[e]}`,children:"sms"===e?"SMS":"email"===e?"E-posta":"Bildirim"}),J=[{key:"name",header:"Şablon Adı",render:(e,s)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(r,{className:"h-4 w-4 text-blue-500"}),a.jsx("span",{className:"font-medium",children:s.name}),s.isFavorite&&a.jsx(i,{className:"h-4 w-4 text-yellow-500 fill-current"})]})},{key:"subject",header:"Konu",render:(e,s)=>a.jsx("span",{className:"text-sm",children:s.subject})},{key:"category",header:"Kategori",render:(e,a)=>X(a.category||"general")},{key:"type",header:"Tür",render:(e,a)=>$(a.type)},{key:"usageCount",header:"Kullanım",render:(e,s)=>a.jsx("span",{className:"font-medium",children:s.usageCount||0})},{key:"createdAt",header:"Oluşturulma",render:(e,s)=>a.jsx("span",{className:"text-sm",children:s.createdAt})},{key:"actions",header:"İşlemler",render:(e,s)=>a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:()=>(e=>{w(e),S(!0)})(s),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",title:"Görüntüle",children:a.jsx(h,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>W(s),className:"p-1 text-purple-600 hover:bg-purple-50 rounded",title:"Kopyala",children:a.jsx(o,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>q(s),className:"p-1 text-green-600 hover:bg-green-50 rounded",title:"Düzenle",children:a.jsx(p,{className:"h-4 w-4"})}),a.jsx("button",{className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Sil",children:a.jsx(c,{className:"h-4 w-4"})})]})}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Mesaj Şablonları"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Hazır mesaj şablonlarını yönetin"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{className:"flex items-center gap-2 bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:[a.jsx(g,{className:"h-4 w-4"}),"İçe Aktar"]}),a.jsxs("button",{className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[a.jsx(s,{className:"h-4 w-4"}),"Dışa Aktar"]}),a.jsxs("button",{onClick:()=>{M(""),B(""),H(""),Y("general"),F("notification"),I(!1),D(!0)},className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(l,{className:"h-4 w-4"}),"Yeni Şablon"]})]})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg border space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(t,{className:"h-4 w-4 text-gray-400"}),a.jsx("input",{value:b,onChange:e=>j(e.target.value),className:"flex-1 border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Şablon adı, konu veya içerik ara..."})]}),a.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(n,{className:"h-4 w-4 text-gray-400"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filtreler:"})]}),a.jsxs("select",{value:y,onChange:e=>v(e.target.value),className:"border rounded px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:"Tüm Kategoriler"}),U.map(e=>a.jsx("option",{value:e.value,children:e.label},e.value))]}),a.jsxs("select",{value:N,onChange:e=>f(e.target.value),className:"border rounded px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:"Tüm Türler"}),a.jsx("option",{value:"sms",children:"SMS"}),a.jsx("option",{value:"email",children:"E-posta"}),a.jsx("option",{value:"notification",children:"Bildirim"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx("div",{className:"bg-white p-4 rounded-lg border",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(r,{className:"h-5 w-5 text-blue-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Toplam Şablon"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:P.length})]})]})}),a.jsx("div",{className:"bg-white p-4 rounded-lg border",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(i,{className:"h-5 w-5 text-yellow-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Favori Şablonlar"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:P.filter(e=>e.isFavorite).length})]})]})}),a.jsx("div",{className:"bg-white p-4 rounded-lg border",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(o,{className:"h-5 w-5 text-green-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"En Çok Kullanılan"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Math.max(...P.map(e=>e.usageCount||0))})]})]})}),a.jsx("div",{className:"bg-white p-4 rounded-lg border",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(r,{className:"h-5 w-5 text-purple-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Kategoriler"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:U.length})]})]})})]}),a.jsx("div",{className:"bg-white rounded-lg border",children:a.jsx(d,{columns:J,data:R})}),a.jsx(m,{isOpen:C,onClose:()=>S(!1),title:"Şablon Detayları",children:k&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Şablon Adı"}),a.jsx("p",{className:"text-sm text-gray-900",children:k.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kategori"}),X(k.category||"general")]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tür"}),$(k.type)]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kullanım Sayısı"}),a.jsx("p",{className:"text-sm text-gray-900",children:k.usageCount||0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Oluşturulma Tarihi"}),a.jsx("p",{className:"text-sm text-gray-900",children:k.createdAt})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Favori"}),a.jsx("p",{className:"text-sm text-gray-900",children:k.isFavorite?"Evet":"Hayır"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Konu"}),a.jsx("div",{className:"bg-gray-50 p-3 rounded border",children:a.jsx("p",{className:"text-sm text-gray-900",children:k.subject})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"İçerik"}),a.jsx("div",{className:"bg-gray-50 p-3 rounded border",children:a.jsx("p",{className:"text-sm text-gray-900 whitespace-pre-wrap",children:k.content})})]}),a.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[a.jsxs("button",{onClick:()=>W(k),className:"flex items-center gap-2 px-4 py-2 text-purple-600 border border-purple-300 rounded-lg hover:bg-purple-50 transition-colors",children:[a.jsx(o,{className:"h-4 w-4"}),"Kopyala"]}),a.jsx("button",{onClick:()=>{S(!1),q(k)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Düzenle"})]})]})}),a.jsx(m,{isOpen:z,onClose:()=>T(!1),title:"Şablon Düzenle",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Şablon Adı"}),a.jsx("input",{type:"text",value:K,onChange:_(e=>M(e),"text"),className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Şablon adı"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kategori"}),a.jsx("select",{value:O,onChange:e=>Y(e.target.value),className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:U.map(e=>a.jsx("option",{value:e.value,children:e.label},e.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tür"}),a.jsxs("select",{value:Z,onChange:e=>F(e.target.value),className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"notification",children:"Bildirim"}),a.jsx("option",{value:"sms",children:"SMS"}),a.jsx("option",{value:"email",children:"E-posta"})]})]}),a.jsx("div",{children:a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:G,onChange:e=>I(e.target.checked),className:"rounded"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Favori olarak işaretle"})]})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Konu"}),a.jsx("input",{type:"text",value:L,onChange:_(e=>B(e),"text"),className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Mesaj konusu"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"İçerik"}),a.jsx("textarea",{value:E,onChange:_(e=>H(e),"html"),rows:6,className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Şablon içeriği..."}),a.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Karakter sayısı: ",E.length]})]}),a.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[a.jsx("button",{onClick:()=>T(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"İptal"}),a.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Kaydet"})]})]})}),a.jsx(m,{isOpen:A,onClose:()=>D(!1),title:"Yeni Şablon Oluştur",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Şablon Adı"}),a.jsx("input",{type:"text",value:K,onChange:_(e=>M(e),"text"),className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Şablon adı"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kategori"}),a.jsx("select",{value:O,onChange:e=>Y(e.target.value),className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:U.map(e=>a.jsx("option",{value:e.value,children:e.label},e.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tür"}),a.jsxs("select",{value:Z,onChange:e=>F(e.target.value),className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"notification",children:"Bildirim"}),a.jsx("option",{value:"sms",children:"SMS"}),a.jsx("option",{value:"email",children:"E-posta"})]})]}),a.jsx("div",{children:a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:G,onChange:e=>I(e.target.checked),className:"rounded"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Favori olarak işaretle"})]})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Konu"}),a.jsx("input",{type:"text",value:L,onChange:_(e=>B(e),"text"),className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Mesaj konusu"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"İçerik"}),a.jsx("textarea",{value:E,onChange:_(e=>H(e),"html"),rows:6,className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Şablon içeriği..."}),a.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Karakter sayısı: ",E.length]})]}),a.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[a.jsx("button",{onClick:()=>D(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"İptal"}),a.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Oluştur"})]})]})})]})}export{b as default};
