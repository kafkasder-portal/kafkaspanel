import{r as e,j as s,s as r,m as t,S as a,J as i}from"../assets/index-C7XW2vnU.js";import{D as l}from"./DataTable-BR_3tqT5.js";import{e as d}from"./exportToCsv-DLkyd1nM.js";const n=[{id:"1",message:"Kullanıcı adı veya şifre hatalı",url:"http://172.29.188.109/login",lastOccurrence:"09.08.2025 02:01:09",repeatCount:6,ipAddress:"172.29.188.109",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64)",severity:"Medium"},{id:"2",message:'Hızlı geri bildirim için tanımlı kategori bulunamadı. Ayrıca "İş Kategorisi " içindeki "İş Kaydı Birimleri " sekmesindeki birimlerde "Hızlı Geri Bildirim Yapılabilir" işaretlenmiş olmalıdır. Lütfen sistem yöneticinizle iletişime geçiniz.',url:"http://172.29.188.109/crea/feedback",lastOccurrence:"06.08.2025 19:42:59",repeatCount:1,ipAddress:"172.29.188.109",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64)",severity:"High"},{id:"3",message:"Kullanıcı adı veya şifre hatalı",url:"http://172.29.178.79/login",lastOccurrence:"24.07.2025 13:04:34",repeatCount:2,ipAddress:"172.29.178.79",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 14_0)",severity:"Medium"},{id:"4",message:"Kullanıcı adı veya şifre hatalı",url:"http://172.22.217.56/login",lastOccurrence:"12.07.2025 01:56:45",repeatCount:7,ipAddress:"172.22.217.56",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64)",severity:"High"},{id:"5",message:"Şifreler uyuşmuyor",url:"http://172.22.217.56/repassword",lastOccurrence:"17.06.2025 14:33:36",repeatCount:1,ipAddress:"172.22.217.56",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64)",severity:"Low"},{id:"6",message:"Lütfen daha önce kullanılmayan bir şifre belirleyiniz",url:"http://172.22.217.56/repassword",lastOccurrence:"17.06.2025 14:33:01",repeatCount:1,ipAddress:"172.22.217.56",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64)",severity:"Low"},{id:"7",message:"Durum bilgisi sıfır olamaz",url:"http://172.22.217.56/crea/relief/service/detail/906",lastOccurrence:"02.06.2025 15:28:12",repeatCount:3,ipAddress:"172.22.217.56",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64)",severity:"Medium"},{id:"8",message:"nurettin nicki ile giriş yapmaya çalışan kullanıcının hatalı giriş denemesinden dolayı ip engellemesi",url:"http://192.168.48.44/login",lastOccurrence:"12.05.2025 04:43:51",repeatCount:1,ipAddress:"192.168.48.44",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64)",severity:"Critical"}];function c(){const[c,o]=e.useState(""),[m,x]=e.useState("all"),[u,g]=e.useState(""),h=e.useMemo(()=>{let e=n;return"all"!==m&&(e=e.filter(e=>e.severity===m)),u&&(e=e.filter(e=>e.ipAddress.includes(u))),c&&(e=e.filter(e=>JSON.stringify(e).toLowerCase().includes(c.toLowerCase()))),e},[c,m,u]),p=[{key:"message",header:"Uyarı Mesajı",render:e=>s.jsx("div",{className:"max-w-md",children:s.jsx("p",{className:"text-sm truncate",title:String(e||""),children:String(e||"")})})},{key:"url",header:"URL",render:e=>s.jsx("div",{className:"max-w-xs",children:s.jsx("p",{className:"text-sm text-blue-600 truncate",title:String(e||""),children:String(e||"")})})},{key:"lastOccurrence",header:"Son Oluşma"},{key:"repeatCount",header:"Tekrar",render:e=>{const r=Number(e)||0;return s.jsx("span",{className:"font-medium "+(r>5?"text-red-600":r>2?"text-yellow-600":"text-gray-600"),children:r})}},{key:"ipAddress",header:"IP Adresi"},{key:"severity",header:"Önem",render:e=>{const r={Low:"bg-gray-100 text-gray-700",Medium:"bg-yellow-100 text-yellow-700",High:"bg-orange-100 text-orange-700",Critical:"bg-red-100 text-red-700"},t={Low:"Düşük",Medium:"Orta",High:"Yüksek",Critical:"Kritik"},a=String(e||"Low");return s.jsx("span",{className:`rounded-full px-2 py-1 text-xs ${r[a]||r.Low}`,children:t[a]||t.Low})}},{key:"actions",header:"İşlemler",render:()=>s.jsx("div",{className:"flex gap-2",children:s.jsx("button",{className:"rounded p-1 text-red-600 hover:bg-red-50",title:"Sil",children:s.jsx(r,{className:"h-4 w-4"})})})}],y=["Low","Medium","High","Critical"],j=h.length,N=h.filter(e=>"Critical"===e.severity).length,b=h.reduce((e,s)=>e+s.repeatCount,0);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto rounded border p-2",children:[s.jsxs("button",{className:"flex items-center gap-2 rounded bg-red-600 px-3 py-1 text-sm text-white",children:[s.jsx(r,{className:"h-4 w-4"}),"Tümünü Sil"]}),s.jsxs("button",{className:"flex items-center gap-2 rounded bg-blue-600 px-3 py-1 text-sm text-white",children:[s.jsx(t,{className:"h-4 w-4"}),"Yenile"]}),s.jsxs("select",{value:m,onChange:e=>x(e.target.value),className:"rounded border bg-background px-2 py-1 text-sm",children:[s.jsx("option",{value:"all",children:"Tüm Önem Seviyeleri"}),y.map(e=>s.jsx("option",{value:e,children:"Low"===e?"Düşük":"Medium"===e?"Orta":"High"===e?"Yüksek":"Kritik"},e))]}),s.jsx("input",{value:u,onChange:e=>g(e.target.value),className:"w-40 rounded border px-2 py-1 text-sm",placeholder:"IP Adresi"}),s.jsx("input",{value:c,onChange:e=>o(e.target.value),className:"min-w-64 flex-1 rounded border px-2 py-1 text-sm",placeholder:"Uyarı mesajı ara..."}),s.jsxs("button",{className:"flex items-center gap-2 rounded bg-green-600 px-3 py-1 text-sm text-white",children:[s.jsx(a,{className:"h-4 w-4"}),"Ara"]}),s.jsx("button",{onClick:()=>d("uyari-mesajlari.csv",h),className:"rounded bg-gray-600 px-3 py-1 text-sm text-white",children:"İndir"}),s.jsxs("div",{className:"ml-auto text-sm text-muted-foreground",children:[j," Kayıt"]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[s.jsxs("div",{className:"rounded border bg-card p-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(i,{className:"h-5 w-5 text-yellow-600"}),s.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Toplam Uyarı"})]}),s.jsx("p",{className:"text-2xl font-bold",children:j})]}),s.jsxs("div",{className:"rounded border bg-card p-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(i,{className:"h-5 w-5 text-red-600"}),s.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Kritik Uyarılar"})]}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:N})]}),s.jsxs("div",{className:"rounded border bg-card p-4",children:[s.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Toplam Tekrar"}),s.jsx("p",{className:"text-2xl font-bold text-orange-600",children:b})]}),s.jsxs("div",{className:"rounded border bg-card p-4",children:[s.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Benzersiz IP"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:new Set(h.map(e=>e.ipAddress)).size})]})]}),s.jsxs("div",{className:"rounded border bg-card p-4",children:[s.jsx("h3",{className:"mb-3 text-lg font-semibold",children:"Uyarı Türleri Dağılımı"}),s.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4",children:y.map(e=>{const r=h.filter(s=>s.severity===e).length,t=j>0?(r/j*100).toFixed(1):0,a="Low"===e?"Düşük":"Medium"===e?"Orta":"High"===e?"Yüksek":"Kritik",i="Low"===e?"text-gray-600":"Medium"===e?"text-yellow-600":"High"===e?"text-orange-600":"text-red-600";return s.jsxs("div",{className:"rounded border p-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:a}),s.jsx("span",{className:`text-lg font-bold ${i}`,children:r})]}),s.jsxs("div",{className:"mt-1 text-xs text-muted-foreground",children:["%",t]})]},e)})})]}),s.jsx(l,{columns:p,data:h})]})}export{c as default};
