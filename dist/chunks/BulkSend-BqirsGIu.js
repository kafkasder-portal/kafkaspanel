import{r as e,j as s,g as a,o as l,X as r}from"../assets/index-dW79Uy5k.js";import{M as i}from"./Modal-BBek2lFh.js";import{A as n}from"./alert-circle-CBPaGutZ.js";import{U as t}from"./upload-DliEnzhQ.js";function d(){const[d,c]=e.useState("notification"),[o,m]=e.useState(""),[x,u]=e.useState([]),[h,g]=e.useState([]),[j,b]=e.useState(""),[p,N]=e.useState(""),[v,f]=e.useState("normal"),[y,w]=e.useState("now"),[k,C]=e.useState(""),[S,M]=e.useState(""),[z,T]=e.useState(!1),[A,B]=e.useState(""),[G,D]=e.useState(""),Y=[{id:1,name:"Hoş Geldiniz Mesajı",subject:"Derneğimize Hoş Geldiniz",content:"Sayın {firstName}, derneğimize hoş geldiniz..."},{id:2,name:"Toplantı Daveti",subject:"Aylık Genel Toplantı",content:"Toplantı tarihi: {meetingDate}..."},{id:3,name:"Yardım Onayı",subject:"Yardım Başvurunuz Onaylandı",content:"Başvurunuz onaylanmıştır..."}],K=[{id:1,name:"Tüm Üyeler",memberCount:156},{id:2,name:"Yönetim Kurulu",memberCount:8},{id:3,name:"Yardım Başvuru Sahipleri",memberCount:45},{id:4,name:"Öğrenciler",memberCount:32},{id:5,name:"Kafkasya Bölgesi",memberCount:89}],E=()=>x.reduce((e,s)=>{const a=K.find(e=>e.id===s);return e+((null==a?void 0:a.memberCount)||0)},0)+h.length,O=()=>{alert("Mesaj başarıyla gönderildi!")};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Toplu Mesaj Gönderimi"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Birden fazla alıcıya aynı anda mesaj gönderin"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>T(!0),className:"flex items-center gap-2 bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:[s.jsx(a,{className:"h-4 w-4"}),"Önizleme"]}),s.jsxs("button",{onClick:O,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(l,{className:"h-4 w-4"}),"Gönder"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Mesaj Türü"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("button",{onClick:()=>c("notification"),className:"p-4 rounded-lg border-2 transition-colors "+("notification"===d?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"),children:[s.jsx(n,{className:"h-6 w-6 mx-auto mb-2"}),s.jsx("div",{className:"text-sm font-medium",children:"Bildirim"})]}),s.jsxs("button",{onClick:()=>c("sms"),className:"p-4 rounded-lg border-2 transition-colors "+("sms"===d?"border-green-500 bg-green-50 text-green-700":"border-gray-200 hover:border-gray-300"),children:[s.jsx(l,{className:"h-6 w-6 mx-auto mb-2"}),s.jsx("div",{className:"text-sm font-medium",children:"SMS"})]}),s.jsxs("button",{onClick:()=>c("email"),className:"p-4 rounded-lg border-2 transition-colors "+("email"===d?"border-purple-500 bg-purple-50 text-purple-700":"border-gray-200 hover:border-gray-300"),children:[s.jsx(a,{className:"h-6 w-6 mx-auto mb-2"}),s.jsx("div",{className:"text-sm font-medium",children:"E-posta"})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Mesaj Şablonu"}),s.jsxs("select",{value:o,onChange:e=>(e=>{m(e);const s=Y.find(s=>s.id===Number(e));s&&(b(s.subject),N(s.content))})(e.target.value),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Şablon seçin (isteğe bağlı)"}),Y.map(e=>s.jsx("option",{value:e.id,children:e.name},e.id))]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Mesaj İçeriği"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Konu"}),s.jsx("input",{type:"text",value:j,onChange:e=>b(e.target.value),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Mesaj konusu"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"İçerik"}),s.jsx("textarea",{value:p,onChange:e=>N(e.target.value),rows:6,className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Mesaj içeriğini yazın..."}),s.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Karakter sayısı: ",p.length]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Öncelik"}),s.jsxs("select",{value:v,onChange:e=>f(e.target.value),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"low",children:"Düşük"}),s.jsx("option",{value:"normal",children:"Normal"}),s.jsx("option",{value:"high",children:"Yüksek"}),s.jsx("option",{value:"urgent",children:"Acil"})]})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Gönderim Zamanı"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"now",checked:"now"===y,onChange:e=>w(e.target.value),className:"mr-2"}),"Şimdi gönder"]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"scheduled",checked:"scheduled"===y,onChange:e=>w(e.target.value),className:"mr-2"}),"Zamanla"]})]}),"scheduled"===y&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tarih"}),s.jsx("input",{type:"date",value:k,onChange:e=>C(e.target.value),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Saat"}),s.jsx("input",{type:"time",value:S,onChange:e=>M(e.target.value),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Gönderim Özeti"}),s.jsxs("div",{className:"space-y-1 text-sm text-blue-800",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Toplam Alıcı:"}),s.jsx("span",{className:"font-medium",children:E()})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Mesaj Türü:"}),s.jsx("span",{className:"font-medium",children:"sms"===d?"SMS":"email"===d?"E-posta":"Bildirim"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Öncelik:"}),s.jsx("span",{className:"font-medium",children:"low"===v?"Düşük":"normal"===v?"Normal":"high"===v?"Yüksek":"Acil"})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Mesaj Grupları"}),s.jsx("div",{className:"space-y-2",children:K.map(e=>s.jsxs("label",{className:"flex items-center p-2 hover:bg-gray-50 rounded",children:[s.jsx("input",{type:"checkbox",checked:x.includes(e.id),onChange:()=>{return s=e.id,void u(e=>e.includes(s)?e.filter(e=>e!==s):[...e,s]);var s},className:"mr-3"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-sm",children:e.name}),s.jsxs("div",{className:"text-xs text-gray-500",children:[e.memberCount," üye"]})]})]},e.id))})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Bireysel Alıcılar"}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsx("input",{type:"text",value:A,onChange:e=>B(e.target.value),placeholder:"Alıcı adı",className:"w-full border rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("input",{type:"text",value:G,onChange:e=>D(e.target.value),placeholder:"sms"===d?"Telefon numarası":"email"===d?"E-posta adresi":"İletişim bilgisi",className:"w-full border rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("button",{onClick:()=>{if(A&&G){const e={id:Date.now().toString(),name:A,type:"individual"};"sms"===d?e.phone=G:"email"===d&&(e.email=G),g(s=>[...s,e]),B(""),D("")}},className:"w-full bg-green-600 text-white py-2 rounded text-sm hover:bg-green-700 transition-colors",children:"Ekle"})]}),s.jsx("div",{className:"space-y-2",children:h.map(e=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-sm",children:e.name}),s.jsx("div",{className:"text-xs text-gray-500",children:e.phone||e.email})]}),s.jsx("button",{onClick:()=>{return s=e.id,void g(e=>e.filter(e=>e.id!==s));var s},className:"text-red-600 hover:bg-red-50 p-1 rounded",children:s.jsx(r,{className:"h-4 w-4"})})]},e.id))}),s.jsx("div",{className:"mt-4 pt-4 border-t",children:s.jsxs("button",{className:"w-full flex items-center justify-center gap-2 border-2 border-dashed border-gray-300 py-3 rounded-lg text-gray-600 hover:border-gray-400 transition-colors",children:[s.jsx(t,{className:"h-4 w-4"}),"Dosyadan İçe Aktar"]})})]})]})]}),s.jsx(i,{isOpen:z,onClose:()=>T(!1),title:"Mesaj Önizlemesi",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Gönderim Bilgileri"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Tür:"}),s.jsx("span",{className:"ml-2 font-medium",children:"sms"===d?"SMS":"email"===d?"E-posta":"Bildirim"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Öncelik:"}),s.jsx("span",{className:"ml-2 font-medium",children:"low"===v?"Düşük":"normal"===v?"Normal":"high"===v?"Yüksek":"Acil"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Toplam Alıcı:"}),s.jsx("span",{className:"ml-2 font-medium",children:E()})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Zamanlama:"}),s.jsx("span",{className:"ml-2 font-medium",children:"now"===y?"Şimdi":`${k} ${S}`})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Mesaj İçeriği"}),s.jsxs("div",{className:"border rounded-lg p-4",children:[j&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Konu:"}),s.jsx("div",{className:"font-medium",children:j})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"İçerik:"}),s.jsx("div",{className:"whitespace-pre-wrap",children:p})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx("button",{onClick:()=>T(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Kapat"}),s.jsx("button",{onClick:()=>{T(!1),O()},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Gönder"})]})]})})]})}export{d as default};
