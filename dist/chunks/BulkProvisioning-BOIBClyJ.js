import{r as e,j as i}from"../assets/index-CzvAnh9f.js";import{D as s}from"./DataTable-CBtBMNX8.js";import{R as r,B as n,C as o,X as t,Y as l,T as m,a,P as d,b as u,c}from"./PieChart-Dx2kjMxN.js";import{M as v}from"./Modal-CXkm-C8J.js";const N=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8"];function h({requests:s}){const v=e.useMemo(()=>{const e=s.length,i=s.filter(e=>["taslak","gönderildi","işlemde"].includes(e.status)).length,r=s.filter(e=>"onaylandı"===e.approvalStatus).length,n=s.filter(e=>"tamamlandı"===e.status).length,o=s.reduce((e,i)=>e+i.totalAmount,0),t=s.reduce((e,i)=>e+i.paidAmount,0);return{totalRequests:e,pendingRequests:i,approvedRequests:r,completedRequests:n,totalRequestedAmount:o,totalPaidAmount:t,totalRemainingAmount:s.reduce((e,i)=>e+i.remainingAmount,0),totalBeneficiaries:s.reduce((e,i)=>e+i.beneficiaryCount,0),averageRequestAmount:e>0?o/e:0,paymentCompletionRate:o>0?t/o*100:0}},[s]),h=e.useMemo(()=>{const e=s.reduce((e,i)=>(e[i.department]=(e[i.department]||0)+i.totalAmount,e),{});return Object.entries(e).map(([e,i])=>({name:e,value:i}))},[s]),b=e.useMemo(()=>{const e=s.reduce((e,i)=>(e[i.priority]=(e[i.priority]||0)+1,e),{});return Object.entries(e).map(([e,i])=>({name:e,value:i}))},[s]),x=e.useMemo(()=>{const e=s.reduce((e,i)=>(e[i.status]=(e[i.status]||0)+1,e),{});return Object.entries(e).map(([e,i])=>({name:e,value:i}))},[s]);return i.jsxDEV("div",{className:"space-y-6",children:[i.jsxDEV("div",{className:"grid grid-cols-4 gap-4",children:[i.jsxDEV("div",{className:"bg-blue-50 p-4 rounded-lg",children:[i.jsxDEV("h3",{className:"text-sm font-medium text-blue-600",children:"Toplam Talep"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionAnalytics.tsx",lineNumber:81,columnNumber:11},this),i.jsxDEV("p",{className:"text-2xl font-bold text-blue-900",children:v.totalRequests},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionAnalytics.tsx",lineNumber:82,columnNumber:11},this),i.jsxDEV("p",{className:"text-xs text-blue-600",children:["Beklemede: ",v.pendingRequests]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionAnalytics.tsx",lineNumber:83,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionAnalytics.tsx",lineNumber:80,columnNumber:9},this),i.jsxDEV("div",{className:"bg-green-50 p-4 rounded-lg",children:[i.jsxDEV("h3",{className:"text-sm font-medium text-green-600",children:"Toplam Tutar"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionAnalytics.tsx",lineNumber:87,columnNumber:11},this),i.jsxDEV("p",{className:"text-2xl font-bold text-green-900",children:[v.totalRequestedAmount.toLocaleString("tr-TR")," ₺"]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionAnalytics.tsx",lineNumber:88,columnNumber:11},this),i.jsxDEV("p",{className:"text-xs text-green-600",children:["Ort: ",v.averageRequestAmount.toLocaleString("tr-TR")," ₺"]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionAnalytics.tsx",lineNumber:91,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionAnalytics.tsx",lineNumber:86,columnNumber:9},this),i.jsxDEV("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[i.jsxDEV("h3",{className:"text-sm font-medium text-yellow-600",children:"Ödeme Durumu"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionAnalytics.tsx",lineNumber:97,columnNumber:11},this),i.jsxDEV("p",{className:"text-2xl font-bold text-yellow-900",children:["%",v.paymentCompletionRate.toFixed(1)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionAnalytics.tsx",lineNumber:98,columnNumber:11},this),i.jsxDEV("p",{className:"text-xs text-yellow-600",children:["Ödenen: ",v.totalPaidAmount.toLocaleString("tr-TR")," ₺"]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionAnalytics.tsx",lineNumber:101,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionAnalytics.tsx",lineNumber:96,columnNumber:9},this),i.jsxDEV("div",{className:"bg-purple-50 p-4 rounded-lg",children:[i.jsxDEV("h3",{className:"text-sm font-medium text-purple-600",children:"Faydalanıcı"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionAnalytics.tsx",lineNumber:107,columnNumber:11},this),i.jsxDEV("p",{className:"text-2xl font-bold text-purple-900",children:v.totalBeneficiaries},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionAnalytics.tsx",lineNumber:108,columnNumber:11},this),i.jsxDEV("p",{className:"text-xs text-purple-600",children:["Onaylanan: ",v.approvedRequests]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionAnalytics.tsx",lineNumber:109,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionAnalytics.tsx",lineNumber:106,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionAnalytics.tsx",lineNumber:79,columnNumber:7},this),i.jsxDEV("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxDEV("div",{className:"bg-white p-4 rounded-lg border",children:[i.jsxDEV("h3",{className:"text-lg font-medium mb-4",children:"Departmana Göre Analiz"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionAnalytics.tsx",lineNumber:117,columnNumber:11},this),i.jsxDEV(r,{width:"100%",height:300,children:i.jsxDEV(n,{data:h,children:[i.jsxDEV(o,{strokeDasharray:"3 3"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionAnalytics.tsx",lineNumber:120,columnNumber:17},this),i.jsxDEV(t,{dataKey:"name",angle:-45,textAnchor:"end",height:80,fontSize:12},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionAnalytics.tsx",lineNumber:121,columnNumber:17},this),i.jsxDEV(l,{tickFormatter:e=>`${(e/1e3).toFixed(0)}K`,fontSize:12},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionAnalytics.tsx",lineNumber:128,columnNumber:17},this),i.jsxDEV(m,{formatter:e=>[`${Number(e).toLocaleString("tr-TR")} ₺`,"Tutar"]},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionAnalytics.tsx",lineNumber:132,columnNumber:17},this),i.jsxDEV(a,{dataKey:"value",fill:"#3B82F6"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionAnalytics.tsx",lineNumber:135,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionAnalytics.tsx",lineNumber:119,columnNumber:15},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionAnalytics.tsx",lineNumber:118,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionAnalytics.tsx",lineNumber:116,columnNumber:9},this),i.jsxDEV("div",{className:"bg-white p-4 rounded-lg border",children:[i.jsxDEV("h3",{className:"text-lg font-medium mb-4",children:"Öncelik Dağılımı"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionAnalytics.tsx",lineNumber:142,columnNumber:11},this),i.jsxDEV(r,{width:"100%",height:300,children:i.jsxDEV(d,{children:[i.jsxDEV(u,{data:b,cx:"50%",cy:"50%",labelLine:!1,label:({name:e,percent:i})=>`${e} (${(i?100*i:0).toFixed(0)}%)`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:b.map((e,s)=>i.jsxDEV(c,{fill:N[s%N.length]},`cell-${s}`,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionAnalytics.tsx",lineNumber:156,columnNumber:17},this))},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionAnalytics.tsx",lineNumber:145,columnNumber:17},this),i.jsxDEV(m,{},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionAnalytics.tsx",lineNumber:159,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionAnalytics.tsx",lineNumber:144,columnNumber:13},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionAnalytics.tsx",lineNumber:143,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionAnalytics.tsx",lineNumber:141,columnNumber:9},this),i.jsxDEV("div",{className:"bg-white p-4 rounded-lg border col-span-2",children:[i.jsxDEV("h3",{className:"text-lg font-medium mb-4",children:"Durum Analizi"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionAnalytics.tsx",lineNumber:166,columnNumber:11},this),i.jsxDEV(r,{width:"100%",height:300,children:i.jsxDEV(n,{data:x,children:[i.jsxDEV(o,{strokeDasharray:"3 3"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionAnalytics.tsx",lineNumber:169,columnNumber:17},this),i.jsxDEV(t,{dataKey:"name",fontSize:12},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionAnalytics.tsx",lineNumber:170,columnNumber:17},this),i.jsxDEV(l,{fontSize:12},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionAnalytics.tsx",lineNumber:171,columnNumber:17},this),i.jsxDEV(m,{},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionAnalytics.tsx",lineNumber:172,columnNumber:17},this),i.jsxDEV(a,{dataKey:"value",fill:"#10B981"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionAnalytics.tsx",lineNumber:173,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionAnalytics.tsx",lineNumber:168,columnNumber:13},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionAnalytics.tsx",lineNumber:167,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionAnalytics.tsx",lineNumber:165,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionAnalytics.tsx",lineNumber:114,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionAnalytics.tsx",lineNumber:77,columnNumber:5},this)}function b({query:e,setQuery:s,statusFilter:r,setStatusFilter:n,priorityFilter:o,setPriorityFilter:t,departmentFilter:l,setDepartmentFilter:m,approvalFilter:a,setApprovalFilter:d,paymentFilter:u,setPaymentFilter:c,dateFilter:v,setDateFilter:N}){return i.jsxDEV("div",{className:"bg-white p-4 rounded-lg border mb-6",children:[i.jsxDEV("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[i.jsxDEV("div",{children:[i.jsxDEV("label",{className:"block text-sm font-medium mb-1",children:"Arama"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionFilters.tsx",lineNumber:38,columnNumber:11},this),i.jsxDEV("input",{type:"text",value:e,onChange:e=>s(e.target.value),placeholder:"Talep no, kişi, amaç...",className:"w-full border rounded px-3 py-2 text-sm"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionFilters.tsx",lineNumber:39,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionFilters.tsx",lineNumber:37,columnNumber:9},this),i.jsxDEV("div",{children:[i.jsxDEV("label",{className:"block text-sm font-medium mb-1",children:"Durum"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionFilters.tsx",lineNumber:49,columnNumber:11},this),i.jsxDEV("select",{value:r,onChange:e=>n(e.target.value),className:"w-full border rounded px-3 py-2 text-sm",children:[i.jsxDEV("option",{value:"",children:"Tümü"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionFilters.tsx",lineNumber:55,columnNumber:13},this),i.jsxDEV("option",{value:"taslak",children:"Taslak"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionFilters.tsx",lineNumber:56,columnNumber:13},this),i.jsxDEV("option",{value:"gönderildi",children:"Gönderildi"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionFilters.tsx",lineNumber:57,columnNumber:13},this),i.jsxDEV("option",{value:"işlemde",children:"İşlemde"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionFilters.tsx",lineNumber:58,columnNumber:13},this),i.jsxDEV("option",{value:"tamamlandı",children:"Tamamlandı"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionFilters.tsx",lineNumber:59,columnNumber:13},this),i.jsxDEV("option",{value:"iptal",children:"İptal"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionFilters.tsx",lineNumber:60,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionFilters.tsx",lineNumber:50,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionFilters.tsx",lineNumber:48,columnNumber:9},this),i.jsxDEV("div",{children:[i.jsxDEV("label",{className:"block text-sm font-medium mb-1",children:"Öncelik"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionFilters.tsx",lineNumber:65,columnNumber:11},this),i.jsxDEV("select",{value:o,onChange:e=>t(e.target.value),className:"w-full border rounded px-3 py-2 text-sm",children:[i.jsxDEV("option",{value:"",children:"Tümü"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionFilters.tsx",lineNumber:71,columnNumber:13},this),i.jsxDEV("option",{value:"düşük",children:"Düşük"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionFilters.tsx",lineNumber:72,columnNumber:13},this),i.jsxDEV("option",{value:"normal",children:"Normal"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionFilters.tsx",lineNumber:73,columnNumber:13},this),i.jsxDEV("option",{value:"yüksek",children:"Yüksek"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionFilters.tsx",lineNumber:74,columnNumber:13},this),i.jsxDEV("option",{value:"acil",children:"Acil"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionFilters.tsx",lineNumber:75,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionFilters.tsx",lineNumber:66,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionFilters.tsx",lineNumber:64,columnNumber:9},this),i.jsxDEV("div",{children:[i.jsxDEV("label",{className:"block text-sm font-medium mb-1",children:"Departman"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionFilters.tsx",lineNumber:80,columnNumber:11},this),i.jsxDEV("input",{type:"text",value:l,onChange:e=>m(e.target.value),placeholder:"Departman adı...",className:"w-full border rounded px-3 py-2 text-sm"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionFilters.tsx",lineNumber:81,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionFilters.tsx",lineNumber:79,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionFilters.tsx",lineNumber:36,columnNumber:7},this),i.jsxDEV("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxDEV("div",{children:[i.jsxDEV("label",{className:"block text-sm font-medium mb-1",children:"Onay Durumu"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionFilters.tsx",lineNumber:93,columnNumber:11},this),i.jsxDEV("select",{value:a,onChange:e=>d(e.target.value),className:"w-full border rounded px-3 py-2 text-sm",children:[i.jsxDEV("option",{value:"",children:"Tümü"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionFilters.tsx",lineNumber:99,columnNumber:13},this),i.jsxDEV("option",{value:"beklemede",children:"Beklemede"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionFilters.tsx",lineNumber:100,columnNumber:13},this),i.jsxDEV("option",{value:"onaylandı",children:"Onaylandı"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionFilters.tsx",lineNumber:101,columnNumber:13},this),i.jsxDEV("option",{value:"reddedildi",children:"Reddedildi"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionFilters.tsx",lineNumber:102,columnNumber:13},this),i.jsxDEV("option",{value:"revizyon",children:"Revizyon"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionFilters.tsx",lineNumber:103,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionFilters.tsx",lineNumber:94,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionFilters.tsx",lineNumber:92,columnNumber:9},this),i.jsxDEV("div",{children:[i.jsxDEV("label",{className:"block text-sm font-medium mb-1",children:"Ödeme Durumu"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionFilters.tsx",lineNumber:108,columnNumber:11},this),i.jsxDEV("select",{value:u,onChange:e=>c(e.target.value),className:"w-full border rounded px-3 py-2 text-sm",children:[i.jsxDEV("option",{value:"",children:"Tümü"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionFilters.tsx",lineNumber:114,columnNumber:13},this),i.jsxDEV("option",{value:"beklemede",children:"Beklemede"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionFilters.tsx",lineNumber:115,columnNumber:13},this),i.jsxDEV("option",{value:"kısmi",children:"Kısmi"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionFilters.tsx",lineNumber:116,columnNumber:13},this),i.jsxDEV("option",{value:"tamamlandı",children:"Tamamlandı"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionFilters.tsx",lineNumber:117,columnNumber:13},this),i.jsxDEV("option",{value:"iptal",children:"İptal"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionFilters.tsx",lineNumber:118,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionFilters.tsx",lineNumber:109,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionFilters.tsx",lineNumber:107,columnNumber:9},this),i.jsxDEV("div",{children:[i.jsxDEV("label",{className:"block text-sm font-medium mb-1",children:"Tarih Filtresi"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionFilters.tsx",lineNumber:123,columnNumber:11},this),i.jsxDEV("input",{type:"date",value:v,onChange:e=>N(e.target.value),className:"w-full border rounded px-3 py-2 text-sm"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionFilters.tsx",lineNumber:124,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionFilters.tsx",lineNumber:122,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionFilters.tsx",lineNumber:91,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionFilters.tsx",lineNumber:35,columnNumber:5},this)}function x(e){return[{key:"requestId",header:"Talep No",render:(i,s)=>{const r=e.find(e=>e.id===s.requestId);return r?r.requestNumber:"Bilinmiyor"}},{key:"itemType",header:"Tip",render:(e,s)=>i.jsxDEV("span",{className:"px-2 py-1 rounded text-xs "+("nakit"===s.itemType?"bg-green-100 text-green-800":"gıda"===s.itemType?"bg-blue-100 text-blue-800":"giyim"===s.itemType?"bg-purple-100 text-purple-800":"barınma"===s.itemType?"bg-orange-100 text-orange-800":"sağlık"===s.itemType?"bg-red-100 text-red-800":"eğitim"===s.itemType?"bg-indigo-100 text-indigo-800":"bg-gray-100 text-gray-800"),children:s.itemType},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionTableColumns.tsx",lineNumber:153,columnNumber:5},this)},{key:"itemName",header:"Kalem Adı"},{key:"description",header:"Açıklama"},{key:"quantity",header:"Miktar/Birim",render:(e,i)=>`${i.quantity} ${i.unit}`},{key:"unitPrice",header:"Birim/Toplam",render:(e,s)=>i.jsxDEV("div",{className:"text-sm",children:[i.jsxDEV("div",{children:[s.unitPrice.toLocaleString("tr-TR")," ₺"]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionTableColumns.tsx",lineNumber:178,columnNumber:11},this),i.jsxDEV("div",{className:"text-gray-500 font-medium",children:[s.totalPrice.toLocaleString("tr-TR")," ₺"]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionTableColumns.tsx",lineNumber:179,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionTableColumns.tsx",lineNumber:177,columnNumber:5},this)},{key:"supplier",header:"Tedarikçi"},{key:"deliveryDate",header:"Teslimat",render:(e,i)=>i.deliveryDate?new Date(i.deliveryDate).toLocaleDateString("tr-TR"):"-"},{key:"status",header:"Durum",render:(e,s)=>i.jsxDEV("span",{className:"px-2 py-1 rounded text-xs "+("teslim-edildi"===s.status?"bg-green-100 text-green-800":"sipariş-verildi"===s.status?"bg-blue-100 text-blue-800":"onaylandı"===s.status?"bg-yellow-100 text-yellow-800":"beklemede"===s.status?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"),children:s.status},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionTableColumns.tsx",lineNumber:193,columnNumber:5},this)}]}function p(e){return[{key:"requestId",header:"Talep No",render:(i,s)=>{const r=e.find(e=>e.id===s.requestId);return r?r.requestNumber:"Bilinmiyor"}},{key:"paymentDate",header:"Ödeme Tarihi",render:(e,i)=>new Date(i.paymentDate).toLocaleDateString("tr-TR")},{key:"amount",header:"Tutar",render:(e,i)=>`${i.amount.toLocaleString("tr-TR")} ${i.currency}`},{key:"paymentMethod",header:"Ödeme Yöntemi",render:(e,s)=>i.jsxDEV("span",{className:"px-2 py-1 rounded text-xs "+("nakit"===s.paymentMethod?"bg-green-100 text-green-800":"banka"===s.paymentMethod?"bg-blue-100 text-blue-800":"kredi-kartı"===s.paymentMethod?"bg-purple-100 text-purple-800":"bg-orange-100 text-orange-800"),children:s.paymentMethod},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionTableColumns.tsx",lineNumber:231,columnNumber:5},this)},{key:"referenceNumber",header:"Referans No"},{key:"paidBy",header:"Ödeyen"},{key:"receivedBy",header:"Alan"},{key:"receiptNumber",header:"Makbuz No"},{key:"status",header:"Durum",render:(e,s)=>i.jsxDEV("span",{className:"px-2 py-1 rounded text-xs "+("tamamlandı"===s.status?"bg-green-100 text-green-800":"beklemede"===s.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:s.status},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionTableColumns.tsx",lineNumber:249,columnNumber:5},this)}]}function f({selectedRequest:e,items:r,payments:n,requests:o,isItemsModalOpen:t,setIsItemsModalOpen:l,isPaymentsModalOpen:m,setIsPaymentsModalOpen:a,isApprovalModalOpen:d,setIsApprovalModalOpen:u,isAddModalOpen:c,setIsAddModalOpen:N,onApprovalSubmit:h}){const b=x(o),f=p(o);return i.jsxDEV(i.Fragment,{children:[i.jsxDEV(v,{isOpen:t,onClose:()=>l(!1),title:`Kalemler - ${null==e?void 0:e.requestNumber}`,children:i.jsxDEV("div",{className:"space-y-4",children:[i.jsxDEV("div",{className:"bg-gray-50 p-4 rounded",children:[i.jsxDEV("h4",{className:"font-medium mb-2",children:"Talep Bilgileri"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:61,columnNumber:13},this),i.jsxDEV("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxDEV("div",{children:["Amaç: ",null==e?void 0:e.purpose]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:63,columnNumber:15},this),i.jsxDEV("div",{children:["Toplam Tutar: ",null==e?void 0:e.totalAmount.toLocaleString("tr-TR")," ₺"]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:64,columnNumber:15},this),i.jsxDEV("div",{children:["Faydalanıcı: ",null==e?void 0:e.beneficiaryCount," kişi"]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:65,columnNumber:15},this),i.jsxDEV("div",{children:["Hedef Tarih: ",null==e?void 0:e.targetDate]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:66,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:62,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:60,columnNumber:11},this),i.jsxDEV("div",{className:"max-h-96 overflow-y-auto",children:i.jsxDEV(s,{columns:b,data:r.filter(i=>i.requestId===(null==e?void 0:e.id))},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:71,columnNumber:13},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:70,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:59,columnNumber:9},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:54,columnNumber:7},this),i.jsxDEV(v,{isOpen:m,onClose:()=>a(!1),title:`Ödemeler - ${null==e?void 0:e.requestNumber}`,children:i.jsxDEV("div",{className:"space-y-4",children:[i.jsxDEV("div",{className:"bg-gray-50 p-4 rounded",children:[i.jsxDEV("h4",{className:"font-medium mb-2",children:"Ödeme Özeti"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:87,columnNumber:13},this),i.jsxDEV("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[i.jsxDEV("div",{children:[i.jsxDEV("span",{className:"text-gray-600",children:"Toplam Tutar:"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:90,columnNumber:17},this),i.jsxDEV("div",{className:"font-medium",children:[null==e?void 0:e.totalAmount.toLocaleString("tr-TR")," ₺"]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:91,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:89,columnNumber:15},this),i.jsxDEV("div",{children:[i.jsxDEV("span",{className:"text-gray-600",children:"Ödenen:"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:94,columnNumber:17},this),i.jsxDEV("div",{className:"font-medium text-green-600",children:[null==e?void 0:e.paidAmount.toLocaleString("tr-TR")," ₺"]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:95,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:93,columnNumber:15},this),i.jsxDEV("div",{children:[i.jsxDEV("span",{className:"text-gray-600",children:"Kalan:"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:98,columnNumber:17},this),i.jsxDEV("div",{className:"font-medium text-orange-600",children:[null==e?void 0:e.remainingAmount.toLocaleString("tr-TR")," ₺"]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:99,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:97,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:88,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:86,columnNumber:11},this),i.jsxDEV("div",{className:"max-h-96 overflow-y-auto",children:i.jsxDEV(s,{columns:f,data:n.filter(i=>i.requestId===(null==e?void 0:e.id))},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:105,columnNumber:13},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:104,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:85,columnNumber:9},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:80,columnNumber:7},this),i.jsxDEV(v,{isOpen:d,onClose:()=>u(!1),title:`Talep Onayı - ${null==e?void 0:e.requestNumber}`,children:i.jsxDEV("form",{onSubmit:e=>{e.preventDefault();const i=new FormData(e.currentTarget),s={status:i.get("status"),notes:i.get("notes")};null==h||h(s),u(!1)},className:"space-y-4",children:[i.jsxDEV("div",{className:"bg-gray-50 p-4 rounded",children:[i.jsxDEV("h4",{className:"font-medium mb-2",children:"Talep Detayları"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:121,columnNumber:13},this),i.jsxDEV("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxDEV("div",{children:["Talep Eden: ",null==e?void 0:e.requestedBy]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:123,columnNumber:15},this),i.jsxDEV("div",{children:["Departman: ",null==e?void 0:e.department]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:124,columnNumber:15},this),i.jsxDEV("div",{children:["Amaç: ",null==e?void 0:e.purpose]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:125,columnNumber:15},this),i.jsxDEV("div",{children:["Tutar: ",null==e?void 0:e.totalAmount.toLocaleString("tr-TR")," ₺"]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:126,columnNumber:15},this),i.jsxDEV("div",{children:["Faydalanıcı: ",null==e?void 0:e.beneficiaryCount," kişi"]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:127,columnNumber:15},this),i.jsxDEV("div",{children:["Hedef Tarih: ",null==e?void 0:e.targetDate]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:128,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:122,columnNumber:13},this),i.jsxDEV("div",{className:"mt-2",children:[i.jsxDEV("span",{className:"text-gray-600",children:"Açıklama:"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:131,columnNumber:15},this),i.jsxDEV("p",{className:"text-sm mt-1",children:null==e?void 0:e.description},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:132,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:130,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:120,columnNumber:11},this),i.jsxDEV("div",{className:"space-y-3",children:[i.jsxDEV("div",{children:[i.jsxDEV("label",{className:"block text-sm font-medium mb-1",children:"Onay Durumu"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:138,columnNumber:15},this),i.jsxDEV("select",{name:"status",className:"w-full border rounded px-3 py-2",required:!0,children:[i.jsxDEV("option",{value:"onaylandı",children:"Onayla"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:144,columnNumber:17},this),i.jsxDEV("option",{value:"reddedildi",children:"Reddet"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:145,columnNumber:17},this),i.jsxDEV("option",{value:"revizyon",children:"Revizyon İste"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:146,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:139,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:137,columnNumber:13},this),i.jsxDEV("div",{children:[i.jsxDEV("label",{className:"block text-sm font-medium mb-1",children:"Onay Notları"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:151,columnNumber:15},this),i.jsxDEV("textarea",{name:"notes",className:"w-full border rounded px-3 py-2",rows:3,placeholder:"Onay/ret gerekçesi...",required:!0},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:152,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:150,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:136,columnNumber:11},this),i.jsxDEV("div",{className:"flex justify-end gap-2 pt-4",children:[i.jsxDEV("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 text-gray-600 border rounded hover:bg-gray-50",children:"İptal"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:163,columnNumber:13},this),i.jsxDEV("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Kaydet"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:170,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:162,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:119,columnNumber:9},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:114,columnNumber:7},this),i.jsxDEV(v,{isOpen:c,onClose:()=>N(!1),title:"Yeni Provizyon Talebi",children:i.jsxDEV("form",{onSubmit:async e=>{e.preventDefault();const i=new FormData(e.currentTarget);i.get("title"),i.get("description"),i.get("priority"),i.get("type"),i.get("amount"),(new Date).toISOString();try{alert("Talep başarıyla eklendi!"),N(!1)}catch(s){alert("Talep eklenirken hata oluştu!")}},children:[i.jsxDEV("div",{className:"space-y-4",children:[i.jsxDEV("div",{children:[i.jsxDEV("label",{className:"block text-sm font-medium mb-1",children:"Talep Başlığı"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:216,columnNumber:15},this),i.jsxDEV("input",{type:"text",name:"title",className:"w-full border rounded px-3 py-2",placeholder:"Talep başlığını girin...",required:!0},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:217,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:215,columnNumber:13},this),i.jsxDEV("div",{children:[i.jsxDEV("label",{className:"block text-sm font-medium mb-1",children:"Departman"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:227,columnNumber:15},this),i.jsxDEV("select",{name:"department",className:"w-full border rounded px-3 py-2",required:!0,children:[i.jsxDEV("option",{value:"",children:"Departman seçin..."},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:233,columnNumber:17},this),i.jsxDEV("option",{value:"IT",children:"IT"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:234,columnNumber:17},this),i.jsxDEV("option",{value:"İnsan Kaynakları",children:"İnsan Kaynakları"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:235,columnNumber:17},this),i.jsxDEV("option",{value:"Muhasebe",children:"Muhasebe"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:236,columnNumber:17},this),i.jsxDEV("option",{value:"Satış",children:"Satış"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:237,columnNumber:17},this),i.jsxDEV("option",{value:"Pazarlama",children:"Pazarlama"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:238,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:228,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:226,columnNumber:13},this),i.jsxDEV("div",{children:[i.jsxDEV("label",{className:"block text-sm font-medium mb-1",children:"Öncelik"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:243,columnNumber:15},this),i.jsxDEV("select",{name:"priority",className:"w-full border rounded px-3 py-2",required:!0,children:[i.jsxDEV("option",{value:"",children:"Öncelik seçin..."},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:249,columnNumber:17},this),i.jsxDEV("option",{value:"Düşük",children:"Düşük"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:250,columnNumber:17},this),i.jsxDEV("option",{value:"Orta",children:"Orta"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:251,columnNumber:17},this),i.jsxDEV("option",{value:"Yüksek",children:"Yüksek"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:252,columnNumber:17},this),i.jsxDEV("option",{value:"Acil",children:"Acil"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:253,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:244,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:242,columnNumber:13},this),i.jsxDEV("div",{children:[i.jsxDEV("label",{className:"block text-sm font-medium mb-1",children:"Açıklama"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:258,columnNumber:15},this),i.jsxDEV("textarea",{name:"description",className:"w-full border rounded px-3 py-2",rows:3,placeholder:"Talep açıklaması...",required:!0},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:259,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:257,columnNumber:13},this),i.jsxDEV("div",{children:[i.jsxDEV("label",{className:"block text-sm font-medium mb-1",children:"Bütçe (TL)"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:269,columnNumber:15},this),i.jsxDEV("input",{type:"number",name:"budget",className:"w-full border rounded px-3 py-2",placeholder:"0.00",step:"0.01",min:"0",required:!0},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:270,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:268,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:214,columnNumber:11},this),i.jsxDEV("div",{className:"flex justify-end gap-2 pt-4",children:[i.jsxDEV("button",{type:"button",onClick:()=>N(!1),className:"px-4 py-2 text-gray-600 border rounded hover:bg-gray-50",children:"İptal"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:283,columnNumber:13},this),i.jsxDEV("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Talep Oluştur"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:290,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:282,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:186,columnNumber:9},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:181,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionModals.tsx",lineNumber:52,columnNumber:5},this)}function y(){const[r]=e.useState([]),[n]=e.useState([]),[o]=e.useState([]),[t,l]=e.useState(""),[m,a]=e.useState(""),[d,u]=e.useState(""),[c,v]=e.useState(""),[N,y]=e.useState(""),[g,D]=e.useState(""),[P,j]=e.useState(""),[E,V]=e.useState("requests"),[U,k]=e.useState(!1),[M,T]=e.useState(!1),[A,F]=e.useState(!1),[w,S]=e.useState(!1),[C,q]=e.useState(null),B=e.useMemo(()=>r.filter(e=>{const i=JSON.stringify(e).toLowerCase().includes(t.toLowerCase()),s=!m||e.status===m,r=!d||e.priority===d,n=!c||e.department.toLowerCase().includes(c.toLowerCase()),o=!N||e.approvalStatus===N,l=!g||e.paymentStatus===g,a=!P||e.requestDate.includes(P);return i&&s&&r&&n&&o&&l&&a}),[r,t,m,d,c,N,g,P]),R=e.useMemo(()=>n.filter(e=>JSON.stringify(e).toLowerCase().includes(t.toLowerCase())),[n,t]),O=e.useMemo(()=>o.filter(e=>JSON.stringify(e).toLowerCase().includes(t.toLowerCase())),[o,t]),L=function({onEdit:e,onViewItems:s,onViewPayments:r,onApproval:n}){return[{key:"requestNumber",header:"Talep No"},{key:"requestDate",header:"Tarih",render:(e,i)=>new Date(i.requestDate).toLocaleDateString("tr-TR")},{key:"requestedBy",header:"Talep Eden"},{key:"department",header:"Departman"},{key:"priority",header:"Öncelik",render:(e,s)=>i.jsxDEV("span",{className:"px-2 py-1 rounded text-xs "+("acil"===s.priority?"bg-red-100 text-red-800":"yüksek"===s.priority?"bg-orange-100 text-orange-800":"normal"===s.priority?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:s.priority},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionTableColumns.tsx",lineNumber:26,columnNumber:5},this)},{key:"totalAmount",header:"Tutar/Faydalanıcı",render:(e,s)=>i.jsxDEV("div",{className:"text-sm",children:[i.jsxDEV("div",{className:"font-medium",children:[s.totalAmount.toLocaleString("tr-TR")," ₺"]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionTableColumns.tsx",lineNumber:41,columnNumber:11},this),i.jsxDEV("div",{className:"text-gray-500",children:[s.beneficiaryCount," kişi"]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionTableColumns.tsx",lineNumber:42,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionTableColumns.tsx",lineNumber:40,columnNumber:5},this)},{key:"purpose",header:"Amaç"},{key:"targetDate",header:"Hedef Tarih",render:(e,i)=>new Date(i.targetDate).toLocaleDateString("tr-TR")},{key:"approvalStatus",header:"Onay Durumu",render:(e,s)=>i.jsxDEV("span",{className:"px-2 py-1 rounded text-xs "+("onaylandı"===s.approvalStatus?"bg-green-100 text-green-800":"beklemede"===s.approvalStatus?"bg-yellow-100 text-yellow-800":"reddedildi"===s.approvalStatus?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"),children:s.approvalStatus},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionTableColumns.tsx",lineNumber:56,columnNumber:5},this)},{key:"paymentStatus",header:"Ödeme Durumu",render:(e,s)=>i.jsxDEV("div",{className:"text-sm",children:[i.jsxDEV("span",{className:"px-2 py-1 rounded text-xs "+("tamamlandı"===s.paymentStatus?"bg-green-100 text-green-800":"kısmi"===s.paymentStatus?"bg-yellow-100 text-yellow-800":"beklemede"===s.paymentStatus?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"),children:s.paymentStatus},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionTableColumns.tsx",lineNumber:71,columnNumber:11},this),i.jsxDEV("div",{className:"text-xs text-gray-500 mt-1",children:[s.paidAmount.toLocaleString("tr-TR")," / ",s.totalAmount.toLocaleString("tr-TR")," ₺"]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionTableColumns.tsx",lineNumber:79,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionTableColumns.tsx",lineNumber:70,columnNumber:5},this)},{key:"status",header:"Durum",render:(e,s)=>i.jsxDEV("span",{className:"px-2 py-1 rounded text-xs "+("tamamlandı"===s.status?"bg-green-100 text-green-800":"işlemde"===s.status?"bg-blue-100 text-blue-800":"gönderildi"===s.status?"bg-yellow-100 text-yellow-800":"taslak"===s.status?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"),children:s.status},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionTableColumns.tsx",lineNumber:89,columnNumber:5},this)},{key:"id",header:"İşlemler",render:(o,t)=>i.jsxDEV("div",{className:"flex gap-1 text-xs",children:[e&&i.jsxDEV("button",{onClick:()=>e(t),className:"text-blue-600 hover:text-blue-800 px-2 py-1 rounded",children:"Düzenle"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionTableColumns.tsx",lineNumber:106,columnNumber:7},this),i.jsxDEV("button",{onClick:()=>s(t),className:"text-green-600 hover:text-green-800 px-2 py-1 rounded",children:"Kalemler"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionTableColumns.tsx",lineNumber:113,columnNumber:11},this),i.jsxDEV("button",{onClick:()=>r(t),className:"text-purple-600 hover:text-purple-800 px-2 py-1 rounded",children:"Ödemeler"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionTableColumns.tsx",lineNumber:119,columnNumber:11},this),"beklemede"===t.approvalStatus&&i.jsxDEV("button",{onClick:()=>n(t),className:"text-orange-600 hover:text-orange-800 px-2 py-1 rounded",children:"Onayla"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/ProvisionTableColumns.tsx",lineNumber:126,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/ProvisionTableColumns.tsx",lineNumber:104,columnNumber:5},this)}]}({onViewItems:e=>{q(e),k(!0)},onViewPayments:e=>{q(e),T(!0)},onApproval:e=>{q(e),F(!0)}}),I=x(r),z=p(r);return i.jsxDEV("div",{className:"space-y-6",children:[i.jsxDEV("div",{className:"bg-white p-6 rounded-lg shadow",children:[i.jsxDEV("div",{className:"flex justify-between items-center mb-4",children:[i.jsxDEV("div",{className:"flex items-center gap-4",children:[i.jsxDEV("h2",{className:"text-xl font-semibold",children:"Toplu Provizyon Alma"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/donations/BulkProvisioning.tsx",lineNumber:99,columnNumber:13},this),i.jsxDEV("div",{className:"flex border rounded",children:[i.jsxDEV("button",{onClick:()=>V("requests"),className:"px-4 py-2 text-sm "+("requests"===E?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:"Talepler"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/donations/BulkProvisioning.tsx",lineNumber:101,columnNumber:15},this),i.jsxDEV("button",{onClick:()=>V("items"),className:"px-4 py-2 text-sm "+("items"===E?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:"Kalemler"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/donations/BulkProvisioning.tsx",lineNumber:111,columnNumber:15},this),i.jsxDEV("button",{onClick:()=>V("payments"),className:"px-4 py-2 text-sm "+("payments"===E?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:"Ödemeler"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/donations/BulkProvisioning.tsx",lineNumber:121,columnNumber:15},this),i.jsxDEV("button",{onClick:()=>V("analytics"),className:"px-4 py-2 text-sm "+("analytics"===E?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:"Analitik"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/donations/BulkProvisioning.tsx",lineNumber:131,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/donations/BulkProvisioning.tsx",lineNumber:100,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/donations/BulkProvisioning.tsx",lineNumber:98,columnNumber:11},this),"requests"===E&&i.jsxDEV("button",{onClick:()=>S(!0),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Yeni Talep"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/donations/BulkProvisioning.tsx",lineNumber:144,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/donations/BulkProvisioning.tsx",lineNumber:97,columnNumber:9},this),"requests"===E&&i.jsxDEV(i.Fragment,{children:[i.jsxDEV(b,{query:t,setQuery:l,statusFilter:m,setStatusFilter:a,priorityFilter:d,setPriorityFilter:u,departmentFilter:c,setDepartmentFilter:v,approvalFilter:N,setApprovalFilter:y,paymentFilter:g,setPaymentFilter:D,dateFilter:P,setDateFilter:j},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/donations/BulkProvisioning.tsx",lineNumber:155,columnNumber:13},this),i.jsxDEV(s,{columns:L,data:B},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/donations/BulkProvisioning.tsx",lineNumber:173,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/donations/BulkProvisioning.tsx",lineNumber:154,columnNumber:9},this),"items"===E&&i.jsxDEV(i.Fragment,{children:[i.jsxDEV("div",{className:"mb-4",children:i.jsxDEV("input",{value:t,onChange:e=>l(e.target.value),className:"border rounded px-3 py-2 w-full max-w-md",placeholder:"Kalem adı, tedarikçi ile ara..."},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/donations/BulkProvisioning.tsx",lineNumber:180,columnNumber:15},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/donations/BulkProvisioning.tsx",lineNumber:179,columnNumber:13},this),i.jsxDEV(s,{columns:I,data:R},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/donations/BulkProvisioning.tsx",lineNumber:187,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/donations/BulkProvisioning.tsx",lineNumber:178,columnNumber:9},this),"payments"===E&&i.jsxDEV(i.Fragment,{children:[i.jsxDEV("div",{className:"mb-4",children:i.jsxDEV("input",{value:t,onChange:e=>l(e.target.value),className:"border rounded px-3 py-2 w-full max-w-md",placeholder:"Referans no, ödeyen kişi ile ara..."},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/donations/BulkProvisioning.tsx",lineNumber:194,columnNumber:15},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/donations/BulkProvisioning.tsx",lineNumber:193,columnNumber:13},this),i.jsxDEV(s,{columns:z,data:O},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/donations/BulkProvisioning.tsx",lineNumber:201,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/donations/BulkProvisioning.tsx",lineNumber:192,columnNumber:9},this),"analytics"===E&&i.jsxDEV(h,{requests:B},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/donations/BulkProvisioning.tsx",lineNumber:206,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/donations/BulkProvisioning.tsx",lineNumber:96,columnNumber:7},this),i.jsxDEV(f,{selectedRequest:C,items:n,payments:o,requests:r,isItemsModalOpen:U,setIsItemsModalOpen:k,isPaymentsModalOpen:M,setIsPaymentsModalOpen:T,isApprovalModalOpen:A,setIsApprovalModalOpen:F,isAddModalOpen:w,setIsAddModalOpen:S,onApprovalSubmit:e=>{F(!1),q(null)}},void 0,!1,{fileName:"/Users/idrishamid/nev/src/pages/donations/BulkProvisioning.tsx",lineNumber:210,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/pages/donations/BulkProvisioning.tsx",lineNumber:95,columnNumber:5},this)}export{y as default};
