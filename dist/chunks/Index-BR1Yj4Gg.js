const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["chunks/RechartsBundle-BGKNdRqU.js","assets/index-dW79Uy5k.js","assets/index-CftXeAZB.css","chunks/PieChart-DU675XOe.js","chunks/useSwipeGestures--esx3DQ6.js","chunks/trending-down-BgaEdcG2.js","chunks/tabs-Bcb6iwDT.js","chunks/jspdf.plugin.autotable-DPZz52D5.js","chunks/eye-C2ZiGWXh.js","chunks/LineChart--eKJKc-U.js","chunks/qr-code-6ryxGMhx.js","chunks/pen-square-DLfSiTnY.js","chunks/leaflet-D_ENIaWh.js","assets/leaflet-Dgihpmma.css","chunks/target-DsPB6sh5.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=(t,s,a)=>((t,s,a)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a)(t,"symbol"!=typeof s?s+"":s,a);import{t as s,R as a,W as i,r as n,j as r,h as l,i as c,T as o,y as d,V as m,Y as h,k as u,_ as x,Z as p,C as f,K as g,c as y,$ as j,a0 as b,X as v,a1 as N,E as w,a2 as k,a3 as S,m as A,a4 as C,a5 as O,a6 as z,a7 as T,a8 as P,a9 as E,aa as D,ab as M,g as _,ac as R,ad as B,ae as L,af as F,ag as K,n as G,ah as I,ai as H,o as Y,e as W,s as $,aj as q,S as V,B as U,b as Q,ak as Z,d as J}from"../assets/index-dW79Uy5k.js";import{u as X}from"./useSwipeGestures--esx3DQ6.js";import{T as ee}from"./trending-down-BgaEdcG2.js";import{u as te,P as se,a as ae,c as ie,I as ne,T as re,b as le,d as ce,e as oe}from"./tabs-Bcb6iwDT.js";import{E as de,a as me,u as he,w as ue,F as xe}from"./jspdf.plugin.autotable-DPZz52D5.js";import{E as pe}from"./eye-C2ZiGWXh.js";import{f as fe,L as ge,m as ye,i as je,d as be,A as ve,e as Ne,g as we,h as ke,j as Se,k as Ae,l as Ce,u as Oe,n as ze,G as Te,o as Pe,p as Ee,D as De,S as Me,q as _e,r as Re,s as Be,E as Le,t as Fe,c as Ke,v as Ge,X as Ie,Y as He,w as Ye,a as We,R as $e,C as qe,T as Ve,x as Ue,P as Qe,b as Ze,B as Je}from"./PieChart-DU675XOe.js";import{a as Xe,L as et}from"./LineChart--eKJKc-U.js";import{Q as tt}from"./qr-code-6ryxGMhx.js";import{P as st}from"./pen-square-DLfSiTnY.js";import{u as at,c as it,l as nt,b as rt,e as lt,M as ct,T as ot,a as dt,P as mt,L as ht}from"./leaflet-D_ENIaWh.js";import{T as ut}from"./target-DsPB6sh5.js";const xt=s("Grid",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15",key:"o2sbyz"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}],["line",{x1:"15",x2:"15",y1:"3",y2:"21",key:"1hpv9i"}]]),pt=s("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]),ft=s("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),gt=it(function({center:e,children:t,...s},a){const i=new nt.Circle(e,s);return rt(i,lt(a,{overlayContainer:i}))},function(e,t,s){t.center!==s.center&&e.setLatLng(t.center),null!=t.radius&&t.radius!==s.radius&&e.setRadius(t.radius)}),yt=it(function({positions:e,...t},s){const a=new nt.Polyline(e,t);return rt(a,lt(s,{overlayContainer:a}))},function(e,t,s){t.positions!==s.positions&&e.setLatLngs(t.positions)});var jt,bt=["layout","type","stroke","connectNulls","isRange","ref"],vt=["key"];function Nt(e){return(Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wt(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;s[a]=e[a]}return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function kt(){return kt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},kt.apply(this,arguments)}function St(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}function At(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?St(Object(s),!0).forEach(function(t){Pt(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):St(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function Ct(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Et(a.key),a)}}function Ot(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Ot=function(){return!!e})()}function zt(e){return(zt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tt(e,t){return(Tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Pt(e,t,s){return(t=Et(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Et(e){var t=function(e){if("object"!=Nt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var s=t.call(e,"string");if("object"!=Nt(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Nt(t)?t:t+""}var Dt=function(){function e(){var t,s,a,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return Pt((s=this,a=e,i=[].concat(r),a=zt(a),t=function(e,t){if(t&&("object"===Nt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(s,Ot()?Reflect.construct(a,i||[],zt(s).constructor):a.apply(s,i))),"state",{isAnimationFinished:!0}),Pt(t,"id",Oe("recharts-area-")),Pt(t,"handleAnimationEnd",function(){var e=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),ze(e)&&e()}),Pt(t,"handleAnimationStart",function(){var e=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),ze(e)&&e()}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tt(e,t)}(e,n.PureComponent),t=e,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,curBaseLine:e.baseLine,prevPoints:t.curPoints,prevBaseLine:t.curBaseLine}:e.points!==t.curPoints||e.baseLine!==t.curBaseLine?{curPoints:e.points,curBaseLine:e.baseLine}:null}}],(s=[{key:"renderDots",value:function(t,s,i){var n=this.props.isAnimationActive,r=this.state.isAnimationFinished;if(n&&!r)return null;var l=this.props,c=l.dot,o=l.points,d=l.dataKey,m=fe(this.props,!1),h=fe(c,!0),u=o.map(function(t,s){var a=At(At(At({key:"dot-".concat(s),r:3},m),h),{},{index:s,cx:t.x,cy:t.y,dataKey:d,value:t.value,payload:t.payload,points:o});return e.renderDotItem(c,a)}),x={clipPath:t?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return a.createElement(ge,kt({className:"recharts-area-dots"},x),u)}},{key:"renderHorizontalRect",value:function(e){var t=this.props,s=t.baseLine,i=t.points,n=t.strokeWidth,r=i[0].x,l=i[i.length-1].x,c=e*Math.abs(r-l),o=ye(i.map(function(e){return e.y||0}));return je(s)&&"number"==typeof s?o=Math.max(s,o):s&&Array.isArray(s)&&s.length&&(o=Math.max(ye(s.map(function(e){return e.y||0})),o)),je(o)?a.createElement("rect",{x:r<l?r:r-c,y:0,width:c,height:Math.floor(o+(n?parseInt("".concat(n),10):1))}):null}},{key:"renderVerticalRect",value:function(e){var t=this.props,s=t.baseLine,i=t.points,n=t.strokeWidth,r=i[0].y,l=i[i.length-1].y,c=e*Math.abs(r-l),o=ye(i.map(function(e){return e.x||0}));return je(s)&&"number"==typeof s?o=Math.max(s,o):s&&Array.isArray(s)&&s.length&&(o=Math.max(ye(s.map(function(e){return e.x||0})),o)),je(o)?a.createElement("rect",{x:0,y:r<l?r:r-c,width:o+(n?parseInt("".concat(n),10):1),height:Math.floor(c)}):null}},{key:"renderClipRect",value:function(e){return"vertical"===this.props.layout?this.renderVerticalRect(e):this.renderHorizontalRect(e)}},{key:"renderAreaStatically",value:function(e,t,s,i){var n=this.props,r=n.layout,l=n.type,c=n.stroke,o=n.connectNulls,d=n.isRange;n.ref;var m=wt(n,bt);return a.createElement(ge,{clipPath:s?"url(#clipPath-".concat(i,")"):null},a.createElement(be,kt({},fe(m,!0),{points:e,connectNulls:o,type:l,baseLine:t,layout:r,stroke:"none",className:"recharts-area-area"})),"none"!==c&&a.createElement(be,kt({},fe(this.props,!1),{className:"recharts-area-curve",layout:r,type:l,connectNulls:o,fill:"none",points:e})),"none"!==c&&d&&a.createElement(be,kt({},fe(this.props,!1),{className:"recharts-area-curve",layout:r,type:l,connectNulls:o,fill:"none",points:t})))}},{key:"renderAreaWithAnimation",value:function(e,t){var s=this,i=this.props,n=i.points,r=i.baseLine,l=i.isAnimationActive,c=i.animationBegin,o=i.animationDuration,d=i.animationEasing,m=i.animationId,h=this.state,u=h.prevPoints,x=h.prevBaseLine;return a.createElement(ve,{begin:c,duration:o,isActive:l,easing:d,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(i){var l=i.t;if(u){var c,o=u.length/n.length,d=n.map(function(e,t){var s=Math.floor(t*o);if(u[s]){var a=u[s],i=Ne(a.x,e.x),n=Ne(a.y,e.y);return At(At({},e),{},{x:i(l),y:n(l)})}return e});return c=je(r)&&"number"==typeof r?Ne(x,r)(l):we(r)||ke(r)?Ne(x,0)(l):r.map(function(e,t){var s=Math.floor(t*o);if(x[s]){var a=x[s],i=Ne(a.x,e.x),n=Ne(a.y,e.y);return At(At({},e),{},{x:i(l),y:n(l)})}return e}),s.renderAreaStatically(d,c,e,t)}return a.createElement(ge,null,a.createElement("defs",null,a.createElement("clipPath",{id:"animationClipPath-".concat(t)},s.renderClipRect(l))),a.createElement(ge,{clipPath:"url(#animationClipPath-".concat(t,")")},s.renderAreaStatically(n,r,e,t)))})}},{key:"renderArea",value:function(e,t){var s=this.props,a=s.points,i=s.baseLine,n=s.isAnimationActive,r=this.state,l=r.prevPoints,c=r.prevBaseLine,o=r.totalLength;return n&&a&&a.length&&(!l&&o>0||!Se(l,a)||!Se(c,i))?this.renderAreaWithAnimation(e,t):this.renderAreaStatically(a,i,e,t)}},{key:"render",value:function(){var e,t=this.props,s=t.hide,n=t.dot,r=t.points,l=t.className,c=t.top,o=t.left,d=t.xAxis,m=t.yAxis,h=t.width,u=t.height,x=t.isAnimationActive,p=t.id;if(s||!r||!r.length)return null;var f=this.state.isAnimationFinished,g=1===r.length,y=i("recharts-area",l),j=d&&d.allowDataOverflow,b=m&&m.allowDataOverflow,v=j||b,N=we(p)?this.id:p,w=null!==(e=fe(n,!1))&&void 0!==e?e:{r:3,strokeWidth:2},k=w.r,S=void 0===k?3:k,A=w.strokeWidth,C=void 0===A?2:A,O=(Ae(n)?n:{}).clipDot,z=void 0===O||O,T=2*S+C;return a.createElement(ge,{className:y},j||b?a.createElement("defs",null,a.createElement("clipPath",{id:"clipPath-".concat(N)},a.createElement("rect",{x:j?o:o-h/2,y:b?c:c-u/2,width:j?h:2*h,height:b?u:2*u})),!z&&a.createElement("clipPath",{id:"clipPath-dots-".concat(N)},a.createElement("rect",{x:o-T/2,y:c-T/2,width:h+T,height:u+T}))):null,g?null:this.renderArea(v,N),(n||g)&&this.renderDots(v,z,N),(!x||f)&&Ce.renderCallByParent(this.props,r))}}])&&Ct(t.prototype,s),r&&Ct(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,s,r}();function Mt(e){return(Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _t(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_t=function(){return!!e})()}function Rt(e){return(Rt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bt(e,t){return(Bt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Lt(e,t,s){return(t=Ft(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Ft(e){var t=function(e){if("object"!=Mt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var s=t.call(e,"string");if("object"!=Mt(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Mt(t)?t:t+""}jt=Dt,Pt(Dt,"displayName","Area"),Pt(Dt,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Te.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"}),Pt(Dt,"getBaseValue",function(e,t,s,a){var i=e.layout,n=e.baseValue,r=t.props.baseValue,l=null!=r?r:n;if(je(l)&&"number"==typeof l)return l;var c="horizontal"===i?a:s,o=c.scale.domain();if("number"===c.type){var d=Math.max(o[0],o[1]),m=Math.min(o[0],o[1]);return"dataMin"===l?m:"dataMax"===l||d<0?d:Math.max(Math.min(o[0],o[1]),0)}return"dataMin"===l?o[0]:"dataMax"===l?o[1]:o[0]}),Pt(Dt,"getComposedData",function(e){var t,s=e.props,a=e.item,i=e.xAxis,n=e.yAxis,r=e.xAxisTicks,l=e.yAxisTicks,c=e.bandSize,o=e.dataKey,d=e.stackedData,m=e.dataStartIndex,h=e.displayedData,u=e.offset,x=s.layout,p=d&&d.length,f=jt.getBaseValue(s,a,i,n),g="horizontal"===x,y=!1,j=h.map(function(e,t){var s;p?s=d[m+t]:(s=Pe(e,o),Array.isArray(s)?y=!0:s=[f,s]);var a=null==s[1]||p&&null==Pe(e,o);return g?{x:Ee({axis:i,ticks:r,bandSize:c,entry:e,index:t}),y:a?null:n.scale(s[1]),value:s,payload:e}:{x:a?null:i.scale(s[1]),y:Ee({axis:n,ticks:l,bandSize:c,entry:e,index:t}),value:s,payload:e}});return t=p||y?j.map(function(e){var t=Array.isArray(e.value)?e.value[0]:null;return g?{x:e.x,y:null!=t&&null!=e.y?n.scale(t):null}:{x:null!=t?i.scale(t):null,y:e.y}}):g?n.scale(f):i.scale(f),At({points:j,baseLine:t,layout:x,isRange:y},u)}),Pt(Dt,"renderDotItem",function(e,t){var s;if(a.isValidElement(e))s=a.cloneElement(e,t);else if(ze(e))s=e(t);else{var n=i("recharts-area-dot","boolean"!=typeof e?e.className:""),r=t.key,l=wt(t,vt);s=a.createElement(De,kt({},l,{key:r,className:n}))}return s});var Kt=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=this,a=arguments,s=Rt(s=e),function(e,t){if(t&&("object"===Mt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(t,_t()?Reflect.construct(s,a||[],Rt(t).constructor):s.apply(t,a));var t,s,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bt(e,t)}(e,n.Component),t=e,(s=[{key:"render",value:function(){return null}}])&&function(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Ft(a.key),a)}}(t.prototype,s),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,s}();Lt(Kt,"displayName","ZAxis"),Lt(Kt,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var Gt=["option","isActive"];function It(){return It=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},It.apply(this,arguments)}function Ht(e){var t=e.option,s=e.isActive,a=function(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;s[a]=e[a]}return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}(e,Gt);return"string"==typeof t?n.createElement(Me,It({option:n.createElement(_e,It({type:t},a)),isActive:s,shapeType:"symbols"},a)):n.createElement(Me,It({option:t,isActive:s,shapeType:"symbols"},a))}function Yt(e){return(Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wt(){return Wt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Wt.apply(this,arguments)}function $t(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}function qt(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(s),!0).forEach(function(t){Jt(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):$t(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function Vt(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Xt(a.key),a)}}function Ut(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Ut=function(){return!!e})()}function Qt(e){return(Qt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zt(e,t){return(Zt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Jt(e,t,s){return(t=Xt(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Xt(e){var t=function(e){if("object"!=Yt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var s=t.call(e,"string");if("object"!=Yt(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Yt(t)?t:t+""}var es=function(){function e(){var t,s,a,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return Jt((s=this,a=e,i=[].concat(r),a=Qt(a),t=function(e,t){if(t&&("object"===Yt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(s,Ut()?Reflect.construct(a,i||[],Qt(s).constructor):a.apply(s,i))),"state",{isAnimationFinished:!1}),Jt(t,"handleAnimationEnd",function(){t.setState({isAnimationFinished:!0})}),Jt(t,"handleAnimationStart",function(){t.setState({isAnimationFinished:!1})}),Jt(t,"id",Oe("recharts-scatter-")),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zt(e,t)}(e,n.PureComponent),t=e,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}}],(s=[{key:"renderSymbolsStatically",value:function(e){var t=this,s=this.props,i=s.shape,n=s.activeShape,r=s.activeIndex,l=fe(this.props,!1);return e.map(function(e,s){var c=r===s,o=c?n:i,d=qt(qt({},l),e);return a.createElement(ge,Wt({className:"recharts-scatter-symbol",key:"symbol-".concat(null==e?void 0:e.cx,"-").concat(null==e?void 0:e.cy,"-").concat(null==e?void 0:e.size,"-").concat(s)},Re(t.props,e,s),{role:"img"}),a.createElement(Ht,Wt({option:o,isActive:c,key:"symbol-".concat(s)},d)))})}},{key:"renderSymbolsWithAnimation",value:function(){var e=this,t=this.props,s=t.points,i=t.isAnimationActive,n=t.animationBegin,r=t.animationDuration,l=t.animationEasing,c=t.animationId,o=this.state.prevPoints;return a.createElement(ve,{begin:n,duration:r,isActive:i,easing:l,from:{t:0},to:{t:1},key:"pie-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(t){var i=t.t,n=s.map(function(e,t){var s=o&&o[t];if(s){var a=Ne(s.cx,e.cx),n=Ne(s.cy,e.cy),r=Ne(s.size,e.size);return qt(qt({},e),{},{cx:a(i),cy:n(i),size:r(i)})}var l=Ne(0,e.size);return qt(qt({},e),{},{size:l(i)})});return a.createElement(ge,null,e.renderSymbolsStatically(n))})}},{key:"renderSymbols",value:function(){var e=this.props,t=e.points,s=e.isAnimationActive,a=this.state.prevPoints;return!(s&&t&&t.length)||a&&Se(a,t)?this.renderSymbolsStatically(t):this.renderSymbolsWithAnimation()}},{key:"renderErrorBar",value:function(){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var e=this.props,t=e.points,s=e.xAxis,i=e.yAxis,n=e.children,r=Be(n,Le);return r?r.map(function(e,n){var r=e.props,l=r.direction,c=r.dataKey;return a.cloneElement(e,{key:"".concat(l,"-").concat(c,"-").concat(t[n]),data:t,xAxis:s,yAxis:i,layout:"x"===l?"vertical":"horizontal",dataPointFormatter:function(e,t){return{x:e.cx,y:e.cy,value:"x"===l?+e.node.x:+e.node.y,errorVal:Pe(e,t)}}})}):null}},{key:"renderLine",value:function(){var e,t,s=this.props,i=s.points,n=s.line,r=s.lineType,l=s.lineJointType,c=fe(this.props,!1),o=fe(n,!1);if("joint"===r)e=i.map(function(e){return{x:e.cx,y:e.cy}});else if("fitting"===r){var d=Fe(i),m=d.xmin,h=d.xmax,u=d.a,x=d.b,p=function(e){return u*e+x};e=[{x:m,y:p(m)},{x:h,y:p(h)}]}var f=qt(qt(qt({},c),{},{fill:"none",stroke:c&&c.fill},o),{},{points:e});return t=a.isValidElement(n)?a.cloneElement(n,f):ze(n)?n(f):a.createElement(be,Wt({},f,{type:l})),a.createElement(ge,{className:"recharts-scatter-line",key:"recharts-scatter-line"},t)}},{key:"render",value:function(){var e=this.props,t=e.hide,s=e.points,n=e.line,r=e.className,l=e.xAxis,c=e.yAxis,o=e.left,d=e.top,m=e.width,h=e.height,u=e.id,x=e.isAnimationActive;if(t||!s||!s.length)return null;var p=this.state.isAnimationFinished,f=i("recharts-scatter",r),g=l&&l.allowDataOverflow,y=c&&c.allowDataOverflow,j=g||y,b=we(u)?this.id:u;return a.createElement(ge,{className:f,clipPath:j?"url(#clipPath-".concat(b,")"):null},g||y?a.createElement("defs",null,a.createElement("clipPath",{id:"clipPath-".concat(b)},a.createElement("rect",{x:g?o:o-m/2,y:y?d:d-h/2,width:g?m:2*m,height:y?h:2*h}))):null,n&&this.renderLine(),this.renderErrorBar(),a.createElement(ge,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!x||p)&&Ce.renderCallByParent(this.props,s))}}])&&Vt(t.prototype,s),r&&Vt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,s,r}();Jt(es,"displayName","Scatter"),Jt(es,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Te.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"}),Jt(es,"getComposedData",function(e){var t=e.xAxis,s=e.yAxis,a=e.zAxis,i=e.item,n=e.displayedData,r=e.xAxisTicks,l=e.yAxisTicks,c=e.offset,o=i.props.tooltipType,d=Be(i.props.children,Ke),m=we(t.dataKey)?i.props.dataKey:t.dataKey,h=we(s.dataKey)?i.props.dataKey:s.dataKey,u=a&&a.dataKey,x=a?a.range:Kt.defaultProps.range,p=x&&x[0],f=t.scale.bandwidth?t.scale.bandwidth():0,g=s.scale.bandwidth?s.scale.bandwidth():0,y=n.map(function(e,n){var c=Pe(e,m),x=Pe(e,h),y=!we(u)&&Pe(e,u)||"-",j=[{name:we(t.dataKey)?i.props.name:t.name||t.dataKey,unit:t.unit||"",value:c,payload:e,dataKey:m,type:o},{name:we(s.dataKey)?i.props.name:s.name||s.dataKey,unit:s.unit||"",value:x,payload:e,dataKey:h,type:o}];"-"!==y&&j.push({name:a.name||a.dataKey,unit:a.unit||"",value:y,payload:e,dataKey:u,type:o});var b=Ee({axis:t,ticks:r,bandSize:f,entry:e,index:n,dataKey:m}),v=Ee({axis:s,ticks:l,bandSize:g,entry:e,index:n,dataKey:h}),N="-"!==y?a.scale(y):p,w=Math.sqrt(Math.max(N,0)/Math.PI);return qt(qt({},e),{},{cx:b,cy:v,x:b-w,y:v-w,xAxis:t,yAxis:s,zAxis:a,width:2*w,height:2*w,size:N,node:{x:c,y:x,z:y},tooltipPayload:j,tooltipPosition:{x:b,y:v},payload:e},d&&d[n]&&d[n].props)});return qt({points:y},c)});var ts=Ge({chartName:"AreaChart",GraphicalChild:Dt,axisComponents:[{axisType:"xAxis",AxisComp:Ie},{axisType:"yAxis",AxisComp:He}],formatAxisMap:Ye}),ss=Ge({chartName:"ComposedChart",GraphicalChild:[Xe,Dt,We,es],axisComponents:[{axisType:"xAxis",AxisComp:Ie},{axisType:"yAxis",AxisComp:He},{axisType:"zAxis",AxisComp:Kt}],formatAxisMap:Ye});function as({data:e}){const t=Math.max(...e),s=Math.min(...e),a=t-s||1,i=e.map((t,i)=>`${i/(e.length-1)*100},${100-(t-s)/a*100}`).join(" ");return r.jsx("div",{className:"h-12 w-full",children:r.jsx("svg",{className:"h-full w-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:r.jsx("polyline",{fill:"none",stroke:"currentColor",strokeWidth:"2",points:i,className:"text-financial-primary"})})})}function is(e,t="₺"){return`${t}${e.toLocaleString("tr-TR")}`}function ns({title:e,value:t,change:s,changeType:i,period:n,icon:l,trend:c,unit:d="₺",className:m="",onSwipeLeft:h,onSwipeRight:u,swipeable:x=!1}){const{bind:p,getSwipeStyle:f}=X({onSwipeLeft:h,onSwipeRight:u,threshold:100}),g="increase"===i?"text-status-success":"text-status-error",y="increase"===i?r.jsx(o,{className:"h-4 w-4"}):r.jsx(ee,{className:"h-4 w-4"});return r.jsxs("div",{...x?p():{},style:x?f():{},className:`\n        bg-white \n        border-gray-200 \n        border rounded-xl shadow-sm p-4 sm:p-6 \n        hover:shadow-md transition-all duration-200 \n        min-h-[120px] sm:min-h-[160px] \n        group cursor-pointer\n        hover:scale-[1.02] active:scale-[0.98]\n        touch-manipulation\n        min-w-[44px] min-h-[44px]\n        swipeable-card\n        ${m}\n        ${x?"select-none":""}\n      `,children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-financial-primary/10 rounded-lg text-financial-primary",children:l&&a.createElement(l,{className:"h-5 w-5"})}),r.jsx("h3",{className:"financial-subheading",children:e})]}),s&&r.jsxs("div",{className:`flex items-center space-x-1 text-sm ${g}`,children:[y,r.jsxs("span",{children:[Math.abs(s),"%"]})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("p",{className:"text-3xl font-bold text-financial-gray-900 financial-number",children:"₺"===d?is(t,d):`${t.toLocaleString("tr-TR")}${d}`}),r.jsx("p",{className:"text-sm text-financial-gray-500 mt-1",children:n})]}),c&&c.length>0&&r.jsx("div",{className:"mt-4",children:r.jsx(as,{data:c})})]})}function rs({totalDonations:e,monthlyChange:t,trend:s}){return r.jsx(ns,{title:"Toplam Bağış",value:e,change:t,changeType:t>=0?"increase":"decrease",period:"Bu ay",icon:l,trend:s,unit:"₺",className:"bg-gradient-to-br from-green-50 to-emerald-50 border-green-200 sm:min-h-[140px]"})}function ls({growthRate:e,period:t}){return r.jsx(ns,{title:"Aylık Büyüme",value:e,change:Math.abs(e),changeType:e>=0?"increase":"decrease",period:t,icon:o,unit:"%",className:"sm:min-h-[140px]"})}function cs({count:e,monthlyChange:t}){return r.jsx(ns,{title:"Aktif Yararlanıcı",value:e,change:t,changeType:t>=0?"increase":"decrease",period:"Bu ay",icon:c,unit:"",className:"sm:min-h-[140px]"})}function os({distributionRate:e,target:t}){return r.jsx(ns,{title:"Fon Dağılım Oranı",value:e,change:(e-t)/t*100,changeType:e>=t?"increase":"decrease",period:`Hedef: %${t}`,icon:d,unit:"%",className:"sm:min-h-[140px]"})}const ds=[{month:"Oca",donations:45e3,beneficiaries:120},{month:"Şub",donations:52e3,beneficiaries:135},{month:"Mar",donations:48e3,beneficiaries:128},{month:"Nis",donations:61e3,beneficiaries:145},{month:"May",donations:55e3,beneficiaries:138},{month:"Haz",donations:67e3,beneficiaries:156}],ms=[{name:"Nakdi Yardım",value:45,color:"#3b82f6"},{name:"Ayni Yardım",value:25,color:"#10b981"},{name:"Eğitim Desteği",value:20,color:"#f59e0b"},{name:"Sağlık Yardımı",value:10,color:"#ef4444"}],hs=[{day:"Pzt",applications:12,donations:8500},{day:"Sal",applications:8,donations:6200},{day:"Çar",applications:15,donations:9800},{day:"Per",applications:20,donations:12400},{day:"Cum",applications:18,donations:11200},{day:"Cmt",applications:6,donations:4500},{day:"Paz",applications:4,donations:3200}],us=[{region:"İstanbul",beneficiaries:450,amount:125e3},{region:"Ankara",beneficiaries:320,amount:89e3},{region:"İzmir",beneficiaries:280,amount:76e3},{region:"Bursa",beneficiaries:180,amount:51e3},{region:"Antalya",beneficiaries:150,amount:42e3},{region:"Diğer",beneficiaries:220,amount:61e3}],xs=n.lazy(()=>x(()=>import("./RechartsBundle-BGKNdRqU.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]))),ps=()=>{const[e,t]=n.useState({totalBeneficiaries:0,totalDonations:0,totalAid:0,activeApplications:0,monthlyGrowth:0,loading:!0}),[s,a]=n.useState("month");n.useEffect(()=>{i();const e=m.channel("beneficiaries-changes").on("postgres_changes",{event:"*",schema:"public",table:"beneficiaries"},()=>i()).subscribe(),t=m.channel("applications-changes").on("postgres_changes",{event:"*",schema:"public",table:"applications"},()=>i()).subscribe();return()=>{e.unsubscribe(),t.unsubscribe()}},[]);const i=async()=>{try{const[e,s]=await Promise.all([m.from("beneficiaries").select("*",{count:"exact"}),m.from("applications").select("*",{count:"exact"})]);t({totalBeneficiaries:e.count||0,totalDonations:45e4,totalAid:38e4,activeApplications:s.count||0,monthlyGrowth:12.5,loading:!1})}catch(e){t(e=>({...e,loading:!1}))}};return e.loading?r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx(h,{}),r.jsx(h,{}),r.jsx(h,{}),r.jsx(h,{})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-semibold",children:"İstatistik ve Analizler"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(u,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("select",{value:s,onChange:e=>a(e.target.value),className:"border rounded-md px-3 py-1 text-sm bg-background",children:[r.jsx("option",{value:"week",children:"Bu Hafta"}),r.jsx("option",{value:"month",children:"Bu Ay"}),r.jsx("option",{value:"year",children:"Bu Yıl"})]})]})]}),r.jsx(n.Suspense,{fallback:r.jsx("div",{children:"Loading chart..."}),children:r.jsx(xs,{donationTrend:ds,aidDistribution:ms,weeklyStats:hs,regionalData:us})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx("div",{className:"rounded-lg border bg-card p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Ortalama Bağış"}),r.jsx("p",{className:"text-2xl font-bold",children:"₺2,450"})]}),r.jsx("div",{className:"text-green-600 text-sm",children:"+8.2%"})]})}),r.jsx("div",{className:"rounded-lg border bg-card p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Başvuru/Onay Oranı"}),r.jsx("p",{className:"text-2xl font-bold",children:"87%"})]}),r.jsx("div",{className:"text-green-600 text-sm",children:"+2.1%"})]})}),r.jsx("div",{className:"rounded-lg border bg-card p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Aktif Bağışçı"}),r.jsx("p",{className:"text-2xl font-bold",children:"1,247"})]}),r.jsx("div",{className:"text-green-600 text-sm",children:"+15.3%"})]})}),r.jsx("div",{className:"rounded-lg border bg-card p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Hedef Tamamlama"}),r.jsx("p",{className:"text-2xl font-bold",children:"76%"})]}),r.jsx("div",{className:"text-blue-600 text-sm",children:"Bu ay"})]})})]})]})},fs=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,gs=i,ys=(e,t)=>s=>{var a;if(null==(null==t?void 0:t.variants))return gs(e,null==s?void 0:s.class,null==s?void 0:s.className);const{variants:i,defaultVariants:n}=t,r=Object.keys(i).map(e=>{const t=null==s?void 0:s[e],a=null==n?void 0:n[e];if(null===t)return null;const r=fs(t)||fs(a);return i[e][r]}),l=s&&Object.entries(s).reduce((e,t)=>{let[s,a]=t;return void 0===a||(e[s]=a),e},{}),c=null==t||null===(a=t.compoundVariants)||void 0===a?void 0:a.reduce((e,t)=>{let{class:s,className:a,...i}=t;return Object.entries(i).every(e=>{let[t,s]=e;return Array.isArray(s)?s.includes({...n,...l}[t]):{...n,...l}[t]===s})?[...e,s,a]:e},[]);return gs(e,r,c,null==s?void 0:s.class,null==s?void 0:s.className)},js=ys("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function bs({className:e,variant:t,...s}){return r.jsx("div",{className:p(js({variant:t}),e),...s})}const vs=[{id:"total-donations",title:"Toplam Bağışlar",description:"Toplam bağış miktarı ve değişim oranı",icon:r.jsx(d,{className:"w-5 h-5"}),category:"financial",enabled:!0,position:0,size:"small",color:"bg-blue-500"},{id:"active-beneficiaries",title:"Aktif İhtiyaç Sahipleri",description:"Aktif yardım alan kişi sayısı",icon:r.jsx(c,{className:"w-5 h-5"}),category:"activity",enabled:!0,position:1,size:"small",color:"bg-green-500"},{id:"monthly-growth",title:"Aylık Büyüme",description:"Aylık büyüme oranı ve trend",icon:r.jsx(d,{className:"w-5 h-5"}),category:"financial",enabled:!0,position:2,size:"small",color:"bg-purple-500"},{id:"fund-distribution",title:"Fon Dağılımı",description:"Fonların dağılım oranı",icon:r.jsx(k,{className:"w-5 h-5"}),category:"financial",enabled:!0,position:3,size:"small",color:"bg-orange-500"},{id:"recent-activities",title:"Son Aktiviteler",description:"Son sistem aktiviteleri",icon:r.jsx(u,{className:"w-5 h-5"}),category:"activity",enabled:!0,position:4,size:"medium",color:"bg-indigo-500"},{id:"pending-tasks",title:"Bekleyen Görevler",description:"Tamamlanmamış görevler",icon:r.jsx(N,{className:"w-5 h-5"}),category:"management",enabled:!0,position:5,size:"medium",color:"bg-red-500"},{id:"messages",title:"Mesajlar",description:"Son mesajlar ve bildirimler",icon:r.jsx(w,{className:"w-5 h-5"}),category:"communication",enabled:!0,position:6,size:"medium",color:"bg-teal-500"},{id:"donation-chart",title:"Bağış Grafiği",description:"Bağış trendleri ve analizi",icon:r.jsx(d,{className:"w-5 h-5"}),category:"financial",enabled:!0,position:7,size:"large",color:"bg-blue-600"},{id:"beneficiary-chart",title:"İhtiyaç Sahibi Analizi",description:"İhtiyaç sahipleri dağılımı",icon:r.jsx(c,{className:"w-5 h-5"}),category:"activity",enabled:!0,position:8,size:"large",color:"bg-green-600"}],Ns={financial:"bg-blue-50 border-blue-200",activity:"bg-green-50 border-green-200",communication:"bg-purple-50 border-purple-200",management:"bg-orange-50 border-orange-200"},ws={financial:r.jsx(d,{className:"w-4 h-4"}),activity:r.jsx(c,{className:"w-4 h-4"}),communication:r.jsx(w,{className:"w-4 h-4"}),management:r.jsx(N,{className:"w-4 h-4"})};function ks({isOpen:e,onClose:t,onSave:s,currentWidgets:a}){const[i,l]=n.useState(a),[c,o]=n.useState("all"),[d,m]=n.useState(null);n.useEffect(()=>{l(a)},[a]);const h=()=>{m(null)},u="all"===c?i:i.filter(e=>e.category===c);return e?r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:r.jsxs(f,{className:"w-full max-w-6xl max-h-[90vh] overflow-hidden bg-white shadow-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(g,{className:"w-6 h-6 text-blue-600"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Dashboard Kişiselleştirme"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Widget'ları düzenleyin ve dashboard'ınızı özelleştirin"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(y,{variant:"outline",size:"sm",onClick:()=>{l(vs)},children:[r.jsx(j,{className:"w-4 h-4 mr-1"}),"Sıfırla"]}),r.jsxs(y,{size:"sm",onClick:()=>{s(i),t()},className:"bg-blue-600 hover:bg-blue-700",children:[r.jsx(b,{className:"w-4 h-4 mr-1"}),"Kaydet"]}),r.jsx(y,{variant:"ghost",size:"sm",onClick:t,children:r.jsx(v,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{className:"flex h-[calc(90vh-120px)]",children:[r.jsxs("div",{className:"w-64 border-r bg-gray-50 p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Kategoriler"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("button",{onClick:()=>o("all"),className:"w-full text-left p-3 rounded-lg transition-colors "+("all"===c?"bg-blue-100 text-blue-700 border border-blue-200":"hover:bg-gray-100"),children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(xt,{className:"w-4 h-4"}),r.jsx("span",{className:"font-medium",children:"Tümü"}),r.jsx(bs,{variant:"secondary",className:"ml-auto",children:i.length})]})}),Object.entries(Ns).map(([e,t])=>r.jsx("button",{onClick:()=>o(e),className:`w-full text-left p-3 rounded-lg transition-colors ${c===e?t:"hover:bg-gray-100"}`,children:r.jsxs("div",{className:"flex items-center space-x-2",children:[ws[e],r.jsx("span",{className:"font-medium capitalize",children:"financial"===e?"Finansal":"activity"===e?"Aktivite":"communication"===e?"İletişim":"Yönetim"}),r.jsx(bs,{variant:"secondary",className:"ml-auto",children:i.filter(t=>t.category===e).length})]})},e))]})]}),r.jsx("div",{className:"flex-1 p-6 overflow-y-auto",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map((e,t)=>r.jsxs("div",{draggable:!0,onDragStart:()=>(e=>{m(e)})(t),onDragOver:e=>((e,t)=>{if(e.preventDefault(),null!==d&&d!==t){const e=[...i],s=e[d];e.splice(d,1),e.splice(t,0,s),l(e),m(t)}})(e,t),onDragEnd:h,className:`p-4 border rounded-lg cursor-move transition-all ${d===t?"opacity-50 scale-95":""} ${e.enabled?"bg-white border-gray-200":"bg-gray-50 border-gray-200 opacity-60"}`,children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${e.color}`,children:r.jsx("div",{className:"text-white",children:e.icon})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:e.title}),r.jsx("p",{className:"text-xs text-gray-600",children:e.description})]})]}),r.jsx("div",{className:"flex items-center space-x-1",children:r.jsx("input",{type:"checkbox",checked:e.enabled,onChange:()=>{return t=e.id,void l(e=>e.map(e=>e.id===t?{...e,enabled:!e.enabled}:e));var t},className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-600",children:"Boyut:"}),r.jsxs("select",{value:e.size,onChange:t=>{return s=e.id,a=t.target.value,void l(e=>e.map(e=>e.id===s?{...e,size:a}:e));var s,a},className:"text-xs border rounded px-2 py-1",disabled:!e.enabled,children:[r.jsx("option",{value:"small",children:"Küçük"}),r.jsx("option",{value:"medium",children:"Orta"}),r.jsx("option",{value:"large",children:"Büyük"})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-600",children:"Kategori:"}),r.jsx(bs,{variant:"outline",className:"text-xs",children:"financial"===e.category?"Finansal":"activity"===e.category?"Aktivite":"communication"===e.category?"İletişim":"Yönetim"})]})]})]},e.id))})})]})]})}):null}const Ss={user:{name:"User Data",description:"Kullanıcı profili ve yetkileri - uzun süreli cache",staleTime:18e5,gcTime:36e5,refetchOnWindowFocus:!1,refetchOnReconnect:!0,refetchOnMount:!1,retry:2},list:{name:"List Data",description:"Tablo listeleri - orta süreli cache",staleTime:3e5,gcTime:9e5,refetchOnWindowFocus:!0,refetchOnReconnect:!0,refetchOnMount:!0,retry:3},detail:{name:"Detail Data",description:"Detay sayfaları - kısa süreli cache",staleTime:12e4,gcTime:6e5,refetchOnWindowFocus:!0,refetchOnReconnect:!0,refetchOnMount:!0,retry:2},report:{name:"Report Data",description:"Raporlar ve analizler - uzun süreli cache",staleTime:9e5,gcTime:18e5,refetchOnWindowFocus:!1,refetchOnReconnect:!0,refetchOnMount:!1,retry:1},realtime:{name:"Real-time Data",description:"Gerçek zamanlı veriler - minimum cache",staleTime:3e4,gcTime:12e4,refetchOnWindowFocus:!0,refetchOnReconnect:!0,refetchOnMount:!0,retry:1},static:{name:"Static Data",description:"Statik veriler - çok uzun süreli cache",staleTime:864e5,gcTime:6048e5,refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1,retry:1},search:{name:"Search Results",description:"Arama sonuçları - kısa süreli cache",staleTime:6e4,gcTime:3e5,refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1,retry:1}};class As{constructor(e){t(this,"queryClient"),t(this,"cacheStats",new Map),this.queryClient=e,this.initializeCacheStats()}initializeCacheStats(){Object.keys(Ss).forEach(e=>{this.cacheStats.set(e,{hits:0,misses:0,size:0})})}getCacheConfig(e){return Ss[e]||null}applyCacheStrategy(e,t){const s=this.getCacheConfig(t);s&&this.queryClient.setQueryDefaults(e,{staleTime:s.staleTime,gcTime:s.gcTime,refetchOnWindowFocus:s.refetchOnWindowFocus,refetchOnReconnect:s.refetchOnReconnect,refetchOnMount:s.refetchOnMount,retry:s.retry,retryDelay:s.retryDelay})}clearCache(e){e?this.queryClient.removeQueries({queryKey:[e]}):this.queryClient.clear()}invalidateQuery(e){this.queryClient.invalidateQueries({queryKey:e})}getCacheSize(){return this.queryClient.getQueryCache().getAll().length}getCacheStats(){return Object.fromEntries(this.cacheStats)}recordCacheHit(e){const t=this.cacheStats.get(e);t&&(t.hits++,this.cacheStats.set(e,t))}recordCacheMiss(e){const t=this.cacheStats.get(e);t&&(t.misses++,this.cacheStats.set(e,t))}getCachePerformanceReport(){const e={};return Object.entries(this.cacheStats).forEach(([t,s])=>{const a=s.hits+s.misses,i=a>0?s.hits/a*100:0;e[t]={hits:s.hits,misses:s.misses,hitRate:`${i.toFixed(2)}%`,size:s.size}}),e}async prefetchQuery(e,t="list"){const s=this.getCacheConfig(t);if(s)try{await this.queryClient.prefetchQuery({queryKey:e,staleTime:s.staleTime,gcTime:s.gcTime})}catch(a){}}async backgroundSync(e){try{await this.queryClient.refetchQueries({queryKey:e})}catch(t){}}optimizeCache(){const e=this.queryClient.getQueryCache().getAll(),t=Date.now();e.forEach(e=>{const s=e.state.dataUpdatedAt;t-s>36e5&&this.queryClient.removeQueries({queryKey:e.queryKey})})}getMemoryUsage(){const e=this.queryClient.getQueryCache().getAll();let t=0;return e.forEach(e=>{e.state.data&&(t+=JSON.stringify(e.state.data).length)}),{queryCount:e.length,totalSize:t,averageSize:e.length>0?t/e.length:0}}}function Cs({isOpen:e,onClose:t}){const s=new As(O),[a,i]=n.useState(null),[l,c]=n.useState(null),[m,h]=n.useState(!1);n.useEffect(()=>{if(e&&(u(),m)){const e=setInterval(u,5e3);return()=>clearInterval(e)}},[e,m]);const u=()=>{i(s.getCachePerformanceReport()),c(s.getMemoryUsage())},x=e=>{if(0===e)return"0 B";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["B","KB","MB","GB"][t]};return e?r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:r.jsxs(f,{className:"w-full max-w-4xl max-h-[90vh] overflow-hidden bg-white shadow-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(S,{className:"w-6 h-6 text-blue-600"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Cache Performans Monitörü"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Cache performansı ve bellek kullanımı"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(y,{variant:"outline",size:"sm",onClick:()=>h(!m),className:m?"bg-blue-50 border-blue-200":"",children:[r.jsx(A,{className:"w-4 h-4 mr-1 "+(m?"animate-spin":"")}),m?"Otomatik":"Manuel"]}),r.jsxs(y,{variant:"outline",size:"sm",onClick:u,children:[r.jsx(C,{className:"w-4 h-4 mr-1"}),"Yenile"]}),r.jsx(y,{variant:"ghost",size:"sm",onClick:t,children:"✕"})]})]}),r.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:[l&&r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Bellek Kullanımı"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(f,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Toplam Query"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.queryCount})]}),r.jsx(S,{className:"w-8 h-8 text-blue-500"})]})}),r.jsx(f,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Toplam Boyut"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x(l.totalSize)})]}),r.jsx(d,{className:"w-8 h-8 text-green-500"})]})}),r.jsx(f,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Ortalama Boyut"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x(l.averageSize)})]}),r.jsx(o,{className:"w-8 h-8 text-purple-500"})]})})]})]}),a&&r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Cache Performansı"}),r.jsx("div",{className:"space-y-4",children:Object.entries(a).map(([e,t])=>r.jsxs(f,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900 capitalize",children:e}),r.jsxs("p",{className:"text-sm text-gray-600",children:[t.hits+t.misses," toplam istek"]})]}),r.jsxs(bs,{variant:parseFloat(t.hitRate)>80?"default":parseFloat(t.hitRate)>60?"secondary":"destructive",children:[t.hitRate," Hit Rate"]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Hits"}),r.jsx("p",{className:"font-semibold text-green-600",children:t.hits})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Misses"}),r.jsx("p",{className:"font-semibold text-red-600",children:t.misses})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Size"}),r.jsx("p",{className:"font-semibold text-blue-600",children:t.size})]})]}),r.jsxs("div",{className:"mt-3",children:[r.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[r.jsx("span",{children:"Hit Rate"}),r.jsx("span",{children:t.hitRate})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"h-2 rounded-full transition-all duration-300 "+(parseFloat(t.hitRate)>80?"bg-green-500":parseFloat(t.hitRate)>60?"bg-yellow-500":"bg-red-500"),style:{width:t.hitRate}})})]})]},e))})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900",children:"Cache Yönetimi"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Cache performansını optimize edin"})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(y,{variant:"outline",onClick:()=>{s.optimizeCache(),u()},className:"bg-green-50 border-green-200 text-green-700 hover:bg-green-100",children:[r.jsx(o,{className:"w-4 h-4 mr-1"}),"Optimize Et"]}),r.jsxs(y,{variant:"outline",onClick:()=>{window.confirm("Tüm cache'i temizlemek istediğinizden emin misiniz?")&&(s.clearCache(),u())},className:"bg-red-50 border-red-200 text-red-700 hover:bg-red-100",children:[r.jsx(ee,{className:"w-4 h-4 mr-1"}),"Cache Temizle"]})]})]})]})]})}):null}var Os=n.forwardRef((e,t)=>r.jsx(z.label,{...e,ref:t,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||(null==(s=e.onMouseDown)||s.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));Os.displayName="Label";var zs=Os;const Ts=ys("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ps=n.forwardRef(({className:e,...t},s)=>r.jsx(zs,{ref:s,className:p(Ts(),e),...t}));Ps.displayName=zs.displayName;var Es="Checkbox",[Ds,Ms]=T(Es),[_s,Rs]=Ds(Es);function Bs(e){const{__scopeCheckbox:t,checked:s,children:a,defaultChecked:i,disabled:l,form:c,name:o,onCheckedChange:d,required:m,value:h="on",internal_do_not_use_render:u}=e,[x,p]=ae({prop:s,defaultProp:i??!1,onChange:d,caller:Es}),[f,g]=n.useState(null),[y,j]=n.useState(null),b=n.useRef(!1),v=!f||!!c||!!f.closest("form"),N={checked:x,disabled:l,setChecked:p,control:f,setControl:g,name:o,form:c,value:h,hasConsumerStoppedPropagationRef:b,required:m,defaultChecked:!$s(i)&&i,isFormControl:v,bubbleInput:y,setBubbleInput:j};return r.jsx(_s,{scope:t,...N,children:Ws(u)?u(N):a})}var Ls="CheckboxTrigger",Fs=n.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:s,...a},i)=>{const{control:l,value:c,disabled:o,checked:d,required:m,setControl:h,setChecked:u,hasConsumerStoppedPropagationRef:x,isFormControl:p,bubbleInput:f}=Rs(Ls,e),g=P(i,h),y=n.useRef(d);return n.useEffect(()=>{const e=null==l?void 0:l.form;if(e){const t=()=>u(y.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[l,u]),r.jsx(z.button,{type:"button",role:"checkbox","aria-checked":$s(d)?"mixed":d,"aria-required":m,"data-state":qs(d),"data-disabled":o?"":void 0,disabled:o,value:c,...a,ref:g,onKeyDown:ie(t,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:ie(s,e=>{u(e=>!!$s(e)||!e),f&&p&&(x.current=e.isPropagationStopped(),x.current||e.stopPropagation())})})});Fs.displayName=Ls;var Ks=n.forwardRef((e,t)=>{const{__scopeCheckbox:s,name:a,checked:i,defaultChecked:n,required:l,disabled:c,value:o,onCheckedChange:d,form:m,...h}=e;return r.jsx(Bs,{__scopeCheckbox:s,checked:i,defaultChecked:n,disabled:c,required:l,onCheckedChange:d,name:a,form:m,value:o,internal_do_not_use_render:({isFormControl:e})=>r.jsxs(r.Fragment,{children:[r.jsx(Fs,{...h,ref:t,__scopeCheckbox:s}),e&&r.jsx(Ys,{__scopeCheckbox:s})]})})});Ks.displayName=Es;var Gs="CheckboxIndicator",Is=n.forwardRef((e,t)=>{const{__scopeCheckbox:s,forceMount:a,...i}=e,n=Rs(Gs,s);return r.jsx(se,{present:a||$s(n.checked)||!0===n.checked,children:r.jsx(z.span,{"data-state":qs(n.checked),"data-disabled":n.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});Is.displayName=Gs;var Hs="CheckboxBubbleInput",Ys=n.forwardRef(({__scopeCheckbox:e,...t},s)=>{const{control:a,hasConsumerStoppedPropagationRef:i,checked:l,defaultChecked:c,required:o,disabled:d,name:m,value:h,form:u,bubbleInput:x,setBubbleInput:p}=Rs(Hs,e),f=P(s,p),g=function(e){const t=n.useRef({value:e,previous:e});return n.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(l),y=function(e){const[t,s]=n.useState(void 0);return te(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver(t=>{if(!Array.isArray(t))return;if(!t.length)return;const a=t[0];let i,n;if("borderBoxSize"in a){const e=a.borderBoxSize,t=Array.isArray(e)?e[0]:e;i=t.inlineSize,n=t.blockSize}else i=e.offsetWidth,n=e.offsetHeight;s({width:i,height:n})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}s(void 0)},[e]),t}(a);n.useEffect(()=>{const e=x;if(!e)return;const t=window.HTMLInputElement.prototype,s=Object.getOwnPropertyDescriptor(t,"checked").set,a=!i.current;if(g!==l&&s){const t=new Event("click",{bubbles:a});e.indeterminate=$s(l),s.call(e,!$s(l)&&l),e.dispatchEvent(t)}},[x,g,l,i]);const j=n.useRef(!$s(l)&&l);return r.jsx(z.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??j.current,required:o,disabled:d,name:m,value:h,form:u,...t,tabIndex:-1,ref:f,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function Ws(e){return"function"==typeof e}function $s(e){return"indeterminate"===e}function qs(e){return $s(e)?"indeterminate":e?"checked":"unchecked"}Ys.displayName=Hs;const Vs=n.forwardRef(({className:e,...t},s)=>r.jsx(Ks,{ref:s,className:p("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:r.jsx(Is,{className:p("flex items-center justify-center text-current"),children:r.jsx(E,{className:"h-4 w-4"})})}));Vs.displayName=Ks.displayName;var Us,Qs={exports:{}};Us=Qs,function(){function e(e,t,s){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){n(a.response,t,s)},a.onerror=function(){},a.send()}function t(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(s){}return 200<=t.status&&299>=t.status}function s(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(s){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof D&&D.global===D?D:void 0,i=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),n=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!i?function(i,n,r){var l=a.URL||a.webkitURL,c=document.createElement("a");n=n||i.name||"download",c.download=n,c.rel="noopener","string"==typeof i?(c.href=i,c.origin===location.origin?s(c):t(c.href)?e(i,n,r):s(c,c.target="_blank")):(c.href=l.createObjectURL(i),setTimeout(function(){l.revokeObjectURL(c.href)},4e4),setTimeout(function(){s(c)},0))}:"msSaveOrOpenBlob"in navigator?function(a,i,n){if(i=i||a.name||"download","string"!=typeof a)navigator.msSaveOrOpenBlob((l=a,void 0===(c=n)?c={autoBom:!1}:"object"!=typeof c&&(c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(l.type)?new Blob(["\ufeff",l],{type:l.type}):l),i);else if(t(a))e(a,i,n);else{var r=document.createElement("a");r.href=a,r.target="_blank",setTimeout(function(){s(r)})}var l,c}:function(t,s,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof t)return e(t,s,n);var l="application/octet-stream"===t.type,c=/constructor/i.test(a.HTMLElement)||a.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||l&&c||i)&&"undefined"!=typeof FileReader){var d=new FileReader;d.onloadend=function(){var e=d.result;e=o?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},d.readAsDataURL(t)}else{var m=a.URL||a.webkitURL,h=m.createObjectURL(t);r?r.location=h:location.href=h,r=null,setTimeout(function(){m.revokeObjectURL(h)},4e4)}});a.saveAs=n.saveAs=n,Us.exports=n}();var Zs=Qs.exports;const Js=new class{constructor(){t(this,"defaultConfig",{orientation:"portrait",pageSize:"A4",fontSize:12,includeHeader:!0,includeFooter:!0,includeSummary:!0,includeFilters:!0})}async generatePDF(e,t={}){const s={...this.defaultConfig,...t},a=new de({orientation:s.orientation,unit:"mm",format:s.pageSize});let i=20;if(s.includeHeader&&(a.setFontSize(18),a.setFont("helvetica","bold"),a.text(e.title,20,i),i+=10,e.subtitle&&(a.setFontSize(14),a.setFont("helvetica","normal"),a.text(e.subtitle,20,i),i+=10)),s.includeFilters&&e.filters&&(i+=5,a.setFontSize(10),a.setFont("helvetica","bold"),a.text("Filtreler:",20,i),i+=5,a.setFont("helvetica","normal"),Object.entries(e.filters).forEach(([e,t])=>{t&&(a.text(`${e}: ${t}`,25,i),i+=5)}),i+=5),me(a,{head:[e.headers],body:e.data,startY:i,styles:{fontSize:s.fontSize,cellPadding:3},headStyles:{fillColor:[66,139,202],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[245,245,245]}}),s.includeSummary&&e.summary){const t=a.lastAutoTable.finalY+10;a.setFontSize(12),a.setFont("helvetica","bold"),a.text("Özet:",20,t),a.setFont("helvetica","normal");let s=t+5;Object.entries(e.summary).forEach(([e,t])=>{void 0!==t&&(a.text(`${e}: ${t}`,25,s),s+=5)})}if(s.includeFooter){const e=a.getNumberOfPages();for(let t=1;t<=e;t++)a.setPage(t),a.setFontSize(8),a.setFont("helvetica","normal"),a.text(`Sayfa ${t} / ${e} - Oluşturulma: ${(new Date).toLocaleString("tr-TR")}`,20,a.internal.pageSize.height-10)}return a.output("blob")}async generateExcel(e){const t=he.book_new(),s=he.aoa_to_sheet([[e.title],e.subtitle?[e.subtitle]:[],[],e.headers,...e.data]);s.A1={v:e.title,t:"s"},s.A1.s={font:{bold:!0,size:16},alignment:{horizontal:"center"}},e.subtitle&&(s.A2={v:e.subtitle,t:"s"},s.A2.s={font:{italic:!0,size:12},alignment:{horizontal:"center"}});const a=3+(e.subtitle?1:0);e.headers.forEach((e,t)=>{const i=he.encode_cell({r:a,c:t});s[i]={v:e,t:"s"},s[i].s={font:{bold:!0},fill:{fgColor:{rgb:"4285CA"}},alignment:{horizontal:"center"}}});const i=e.headers.map(e=>Math.max(1.2*e.length,10));if(s["!cols"]=i.map(e=>({width:e})),he.book_append_sheet(t,s,"Rapor"),e.summary){const s=Object.entries(e.summary).map(([e,t])=>[e,t]),a=he.aoa_to_sheet([["Özet"],[],["Metrik","Değer"],...s]);a.A1.s={font:{bold:!0,size:14}},a.A3.s={font:{bold:!0}},a.B3.s={font:{bold:!0}},he.book_append_sheet(t,a,"Özet")}if(e.filters){const s=Object.entries(e.filters).map(([e,t])=>[e,t]),a=he.aoa_to_sheet([["Filtreler"],[],["Filtre","Değer"],...s]);a.A1.s={font:{bold:!0,size:14}},a.A3.s={font:{bold:!0}},a.B3.s={font:{bold:!0}},he.book_append_sheet(t,a,"Filtreler")}const n=ue(t,{bookType:"xlsx",type:"array"});return new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})}async downloadPDF(e,t,s){const a=await this.generatePDF(e,s);Zs.saveAs(a,`${t}.pdf`)}async downloadExcel(e,t){const s=await this.generateExcel(e);Zs.saveAs(s,`${t}.xlsx`)}generateSampleData(){return{title:"Yardım Raporu",subtitle:"Ocak 2024 - Aralık 2024",headers:["ID","Ad Soyad","Kategori","Tutar","Tarih","Durum"],data:[["001","Ahmet Yılmaz","Nakit","1000 TL","2024-01-15","Tamamlandı"],["002","Fatma Demir","Ayni","500 TL","2024-01-20","Beklemede"],["003","Mehmet Kaya","Nakit","750 TL","2024-01-25","Tamamlandı"],["004","Ayşe Özkan","Ayni","300 TL","2024-02-01","İptal"],["005","Ali Çelik","Nakit","1200 TL","2024-02-05","Tamamlandı"]],summary:{total:3750,count:5,average:750},filters:{dateRange:"01.01.2024 - 31.12.2024",category:"Tümü",status:"Tümü"}}}},Xs=({data:e})=>{var t;const{t:s}=M(),[a,i]=n.useState(e||Js.generateSampleData()),[l,c]=n.useState({orientation:"portrait",pageSize:"A4",fontSize:12,includeHeader:!0,includeFooter:!0,includeSummary:!0,includeFilters:!0}),[o,d]=n.useState(!1),[m,h]=n.useState(!1),u=(e,t)=>{c(s=>({...s,[e]:t}))};return r.jsxs("div",{className:"space-y-6",children:[r.jsx(f,{className:"p-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(_,{className:"w-5 h-5 text-blue-600"}),r.jsx("h3",{className:"text-lg font-semibold",children:s("reports.title")})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Ps,{htmlFor:"title",children:s("reports.reportTitle")}),r.jsx(ne,{id:"title",value:a.title,onChange:e=>i(t=>({...t,title:e.target.value})),placeholder:s("reports.enterTitle")})]}),r.jsxs("div",{children:[r.jsx(Ps,{htmlFor:"subtitle",children:s("reports.subtitle")}),r.jsx(ne,{id:"subtitle",value:a.subtitle||"",onChange:e=>i(t=>({...t,subtitle:e.target.value})),placeholder:s("reports.enterSubtitle")})]})]})]})}),r.jsx(f,{className:"p-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(g,{className:"w-5 h-5 text-gray-600"}),r.jsx("h3",{className:"text-lg font-semibold",children:s("reports.settings")})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx(Ps,{children:s("reports.orientation")}),r.jsxs(R,{value:l.orientation,onValueChange:e=>u("orientation",e),children:[r.jsx(B,{children:r.jsx(L,{})}),r.jsxs(F,{children:[r.jsx(K,{value:"portrait",children:s("reports.portrait")}),r.jsx(K,{value:"landscape",children:s("reports.landscape")})]})]})]}),r.jsxs("div",{children:[r.jsx(Ps,{children:s("reports.pageSize")}),r.jsxs(R,{value:l.pageSize,onValueChange:e=>u("pageSize",e),children:[r.jsx(B,{children:r.jsx(L,{})}),r.jsxs(F,{children:[r.jsx(K,{value:"A4",children:"A4"}),r.jsx(K,{value:"A3",children:"A3"}),r.jsx(K,{value:"letter",children:s("reports.letter")})]})]})]}),r.jsxs("div",{children:[r.jsx(Ps,{children:s("reports.fontSize")}),r.jsxs(R,{value:null==(t=l.fontSize)?void 0:t.toString(),onValueChange:e=>u("fontSize",parseInt(e)),children:[r.jsx(B,{children:r.jsx(L,{})}),r.jsxs(F,{children:[r.jsx(K,{value:"10",children:"10"}),r.jsx(K,{value:"12",children:"12"}),r.jsx(K,{value:"14",children:"14"}),r.jsx(K,{value:"16",children:"16"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Vs,{id:"includeHeader",checked:l.includeHeader,onCheckedChange:e=>u("includeHeader",e)}),r.jsx(Ps,{htmlFor:"includeHeader",children:s("reports.includeHeader")})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Vs,{id:"includeFooter",checked:l.includeFooter,onCheckedChange:e=>u("includeFooter",e)}),r.jsx(Ps,{htmlFor:"includeFooter",children:s("reports.includeFooter")})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Vs,{id:"includeSummary",checked:l.includeSummary,onCheckedChange:e=>u("includeSummary",e)}),r.jsx(Ps,{htmlFor:"includeSummary",children:s("reports.includeSummary")})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Vs,{id:"includeFilters",checked:l.includeFilters,onCheckedChange:e=>u("includeFilters",e)}),r.jsx(Ps,{htmlFor:"includeFilters",children:s("reports.includeFilters")})]})]})]})}),m&&r.jsx(f,{className:"p-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(pe,{className:"w-5 h-5 text-gray-600"}),r.jsx("h3",{className:"text-lg font-semibold",children:s("reports.preview")})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-semibold text-lg",children:a.title}),a.subtitle&&r.jsx("p",{className:"text-gray-600",children:a.subtitle}),r.jsxs("div",{className:"mt-4",children:[r.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[r.jsx("thead",{children:r.jsx("tr",{className:"bg-blue-600 text-white",children:a.headers.map((e,t)=>r.jsx("th",{className:"border border-gray-300 px-3 py-2 text-left",children:e},t))})}),r.jsx("tbody",{children:a.data.slice(0,3).map((e,t)=>r.jsx("tr",{className:t%2==0?"bg-white":"bg-gray-50",children:e.map((e,t)=>r.jsx("td",{className:"border border-gray-300 px-3 py-2",children:e},t))},t))})]}),a.data.length>3&&r.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["... ve ",a.data.length-3," satır daha"]})]})]})]})}),r.jsx(f,{className:"p-6",children:r.jsxs("div",{className:"flex flex-wrap gap-4",children:[r.jsxs(y,{onClick:()=>{h(!m)},variant:"outline",className:"flex items-center space-x-2",children:[r.jsx(pe,{className:"w-4 h-4"}),r.jsx("span",{children:s(m?"reports.hidePreview":"reports.showPreview")})]}),r.jsxs(y,{onClick:async()=>{d(!0);try{await Js.downloadPDF(a,`rapor_${Date.now()}`,l)}catch(e){}finally{d(!1)}},disabled:o,className:"flex items-center space-x-2 bg-red-600 hover:bg-red-700",children:[r.jsx(_,{className:"w-4 h-4"}),r.jsx("span",{children:s("reports.generatePDF")})]}),r.jsxs(y,{onClick:async()=>{d(!0);try{await Js.downloadExcel(a,`rapor_${Date.now()}`)}catch(e){}finally{d(!1)}},disabled:o,className:"flex items-center space-x-2 bg-green-600 hover:bg-green-700",children:[r.jsx(xe,{className:"w-4 h-4"}),r.jsx("span",{children:s("reports.generateExcel")})]}),o&&r.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),r.jsx("span",{children:s("reports.generating")})]})]})})]})},ea=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#F97316","#EC4899"],ta=({data:e,title:t,dataKey:s,stroke:a="#3B82F6",height:i=300,showGrid:n=!0,showLegend:l=!0})=>r.jsxs(f,{className:"p-4",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:t}),r.jsx($e,{width:"100%",height:i,children:r.jsxs(et,{data:e,children:[n&&r.jsx(qe,{strokeDasharray:"3 3"}),r.jsx(Ie,{dataKey:"name"}),r.jsx(He,{}),r.jsx(Ve,{}),l&&r.jsx(Ue,{}),r.jsx(Xe,{type:"monotone",dataKey:s,stroke:a,strokeWidth:2,dot:{fill:a,strokeWidth:2,r:4},activeDot:{r:6}})]})})]}),sa=({data:e,title:t,dataKey:s,fill:a="#3B82F6",stroke:i="#1D4ED8",height:n=300,showGrid:l=!0,showLegend:c=!0})=>r.jsxs(f,{className:"p-4",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:t}),r.jsx($e,{width:"100%",height:n,children:r.jsxs(ts,{data:e,children:[l&&r.jsx(qe,{strokeDasharray:"3 3"}),r.jsx(Ie,{dataKey:"name"}),r.jsx(He,{}),r.jsx(Ve,{}),c&&r.jsx(Ue,{}),r.jsx(Dt,{type:"monotone",dataKey:s,stroke:i,fill:a,fillOpacity:.6})]})})]}),aa=({data:e,title:t,dataKey:s,fill:a="#3B82F6",height:i=300,showGrid:n=!0,showLegend:l=!0})=>r.jsxs(f,{className:"p-4",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:t}),r.jsx($e,{width:"100%",height:i,children:r.jsxs(Je,{data:e,children:[n&&r.jsx(qe,{strokeDasharray:"3 3"}),r.jsx(Ie,{dataKey:"name"}),r.jsx(He,{}),r.jsx(Ve,{}),l&&r.jsx(Ue,{}),r.jsx(We,{dataKey:s,fill:a,radius:[4,4,0,0]})]})})]}),ia=({data:e,title:t,height:s=300,showLegend:a=!0})=>r.jsxs(f,{className:"p-4",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:t}),r.jsx($e,{width:"100%",height:s,children:r.jsxs(Qe,{children:[r.jsx(Ze,{data:e,cx:"50%",cy:"50%",labelLine:!1,label:({name:e,percent:t})=>`${e} ${(100*t).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:e.map((e,t)=>r.jsx(Ke,{fill:ea[t%ea.length]},`cell-${t}`))}),r.jsx(Ve,{}),a&&r.jsx(Ue,{})]})})]}),na=({data:e,title:t,lineDataKey:s,barDataKey:a,height:i=300,showGrid:n=!0,showLegend:l=!0})=>r.jsxs(f,{className:"p-4",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:t}),r.jsx($e,{width:"100%",height:i,children:r.jsxs(ss,{data:e,children:[n&&r.jsx(qe,{strokeDasharray:"3 3"}),r.jsx(Ie,{dataKey:"name"}),r.jsx(He,{}),r.jsx(Ve,{}),l&&r.jsx(Ue,{}),r.jsx(We,{dataKey:a,fill:"#8884d8",radius:[4,4,0,0]}),r.jsx(Xe,{type:"monotone",dataKey:s,stroke:"#ff7300",strokeWidth:2})]})})]}),ra=()=>{const[e,t]=n.useState(["line","bar","pie"]),[s,a]=n.useState("30d"),[i,l]=n.useState(!1),c={line:{type:"line",title:"Bağış Trendi",dataKey:"value",timeRange:s,showGrid:!0,showLegend:!0},area:{type:"area",title:"Yardım Alanlar Trendi",dataKey:"beneficiaries",timeRange:s,showGrid:!0,showLegend:!0},bar:{type:"bar",title:"Aylık Bağışlar",dataKey:"donations",timeRange:s,showGrid:!0,showLegend:!0},pie:{type:"pie",title:"Bağış Dağılımı",dataKey:"value",timeRange:s,showGrid:!1,showLegend:!0},composed:{type:"composed",title:"Bağış vs Yardım Alanlar",dataKey:"value",timeRange:s,showGrid:!0,showLegend:!0}},m=e=>{const t=c[e],s="pie"===e?[{name:"Nakit Bağış",value:400},{name:"Ayni Bağış",value:300},{name:"Banka Bağışı",value:300},{name:"Diğer",value:200}]:[{name:"Ocak",value:4e3,donations:2400,beneficiaries:1800},{name:"Şubat",value:3e3,donations:1398,beneficiaries:2210},{name:"Mart",value:2e3,donations:9800,beneficiaries:2290},{name:"Nisan",value:2780,donations:3908,beneficiaries:2e3},{name:"Mayıs",value:1890,donations:4800,beneficiaries:2181},{name:"Haziran",value:2390,donations:3800,beneficiaries:2500},{name:"Temmuz",value:3490,donations:4300,beneficiaries:2100}];switch(e){case"line":return r.jsx(ta,{data:s,title:t.title,dataKey:t.dataKey,showGrid:t.showGrid,showLegend:t.showLegend});case"area":return r.jsx(sa,{data:s,title:t.title,dataKey:t.dataKey,showGrid:t.showGrid,showLegend:t.showLegend});case"bar":return r.jsx(aa,{data:s,title:t.title,dataKey:t.dataKey,showGrid:t.showGrid,showLegend:t.showLegend});case"pie":return r.jsx(ia,{data:s,title:t.title,showLegend:t.showLegend});case"composed":return r.jsx(na,{data:s,title:t.title,lineDataKey:"value",barDataKey:"donations",showGrid:t.showGrid,showLegend:t.showLegend});default:return null}},h=[{value:"line",label:"Çizgi Grafik",icon:r.jsx(o,{className:"w-4 h-4"})},{value:"area",label:"Alan Grafik",icon:r.jsx(C,{className:"w-4 h-4"})},{value:"bar",label:"Sütun Grafik",icon:r.jsx(d,{className:"w-4 h-4"})},{value:"pie",label:"Pasta Grafik",icon:r.jsx(ft,{className:"w-4 h-4"})},{value:"composed",label:"Karma Grafik",icon:r.jsx(d,{className:"w-4 h-4"})}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs(f,{className:"p-6",children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Grafik Dashboard"}),r.jsxs(R,{value:s,onValueChange:e=>a(e),children:[r.jsx(B,{className:"w-32",children:r.jsx(L,{})}),r.jsxs(F,{children:[r.jsx(K,{value:"7d",children:"Son 7 Gün"}),r.jsx(K,{value:"30d",children:"Son 30 Gün"}),r.jsx(K,{value:"90d",children:"Son 90 Gün"}),r.jsx(K,{value:"1y",children:"Son 1 Yıl"})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(y,{variant:"outline",size:"sm",onClick:async()=>{l(!0),await new Promise(e=>setTimeout(e,1e3)),l(!1)},disabled:i,children:[r.jsx(A,{className:"w-4 h-4 mr-1 "+(i?"animate-spin":"")}),"Yenile"]}),r.jsxs(y,{variant:"outline",size:"sm",onClick:()=>{},children:[r.jsx(G,{className:"w-4 h-4 mr-1"}),"Export"]})]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("h3",{className:"text-sm font-medium mb-2",children:"Grafik Türleri"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:h.map(s=>r.jsxs(y,{variant:e.includes(s.value)?"default":"outline",size:"sm",onClick:()=>{e.includes(s.value)?t(e.filter(e=>e!==s.value)):t([...e,s.value])},className:"flex items-center space-x-1",children:[s.icon,r.jsx("span",{children:s.label})]},s.value))})]})]}),r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:e.map(e=>r.jsx("div",{children:m(e)},e))}),0===e.length&&r.jsxs(f,{className:"p-12 text-center",children:[r.jsx(d,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Grafik Seçilmedi"}),r.jsx("p",{className:"text-gray-500 mb-4",children:"Görüntülemek istediğiniz grafik türlerini seçin"}),r.jsxs(y,{onClick:()=>t(["line","bar"]),className:"flex items-center space-x-1",children:[r.jsx(g,{className:"w-4 h-4"}),r.jsx("span",{children:"Varsayılan Grafikleri Göster"})]})]})]})},la=n.forwardRef(({className:e,...t},s)=>r.jsx("textarea",{className:p("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...t}));la.displayName="Textarea";const ca=new class{constructor(){t(this,"isReady",!1),t(this,"messageTemplates",[]),t(this,"scheduledMessages",[]),t(this,"messageHistory",[]),this.loadTemplates(),this.loadMockData()}loadMockData(){this.messageTemplates=[{id:"template_1",name:"Hoş Geldiniz",content:"Merhaba {{name}}, derneğimize hoş geldiniz!",variables:["name"],category:"notification",isActive:!0},{id:"template_2",name:"Bağış Hatırlatması",content:"Sayın {{name}}, {{amount}} TL bağışınız için teşekkürler.",variables:["name","amount"],category:"reminder",isActive:!0},{id:"template_3",name:"Etkinlik Duyurusu",content:"{{eventName}} etkinliğimiz {{date}} tarihinde gerçekleşecektir.",variables:["eventName","date"],category:"marketing",isActive:!0}],this.messageHistory=[{id:"msg_1",from:"905551234567",to:"905559876543",body:"Merhaba, yardım hakkında bilgi alabilir miyim?",timestamp:new Date(Date.now()-36e5),type:"text",status:"delivered"},{id:"msg_2",from:"905559876543",to:"905551234567",body:"Tabii, size nasıl yardımcı olabilirim?",timestamp:new Date(Date.now()-18e5),type:"text",status:"read"}],this.scheduledMessages=[{id:"scheduled_1",to:"905551234567",templateId:"template_2",variables:{name:"Ahmet Yılmaz",amount:"1000"},scheduledAt:new Date(Date.now()+864e5),status:"pending"}]}getConnectionStatus(){return{isReady:this.isReady,isConnected:this.isReady}}async initialize(){return new Promise(e=>{setTimeout(()=>{this.isReady=!0,e(!0)},2e3)})}async destroy(){this.isReady=!1}async sendMessage(e,t,s){if(!this.isReady)return!1;await new Promise(e=>setTimeout(e,1e3));const a={id:`msg_${Date.now()}`,from:"905559876543",to:e,body:t,timestamp:new Date,type:s?"media":"text",status:"sent",mediaUrl:s};return this.messageHistory.push(a),!0}async sendBulkMessage(e,t,s=1e3){let a=0,i=0;for(const r of e)try{await this.sendMessage(r,t)?a++:i++,await new Promise(e=>setTimeout(e,s))}catch(n){i++}return{success:a,failed:i}}async sendTemplateMessage(e,t,s){const a=this.messageTemplates.find(e=>e.id===t&&e.isActive);if(!a)return!1;let i=a.content;for(const[n,r]of Object.entries(s))i=i.replace(new RegExp(`{{${n}}}`,"g"),r);return await this.sendMessage(e,i)}addTemplate(e){const t=`template_${Date.now()}`,s={...e,id:t};return this.messageTemplates.push(s),this.saveTemplates(),t}updateTemplate(e,t){const s=this.messageTemplates.findIndex(t=>t.id===e);return-1!==s&&(this.messageTemplates[s]={...this.messageTemplates[s],...t},this.saveTemplates(),!0)}deleteTemplate(e){const t=this.messageTemplates.findIndex(t=>t.id===e);return-1!==t&&(this.messageTemplates.splice(t,1),this.saveTemplates(),!0)}getTemplates(){return[...this.messageTemplates]}scheduleMessage(e){const t=`scheduled_${Date.now()}`,s={...e,id:t,status:"pending"};return this.scheduledMessages.push(s),t}cancelScheduledMessage(e){const t=this.scheduledMessages.findIndex(t=>t.id===e);return-1!==t&&(this.scheduledMessages[t].status="cancelled",!0)}getScheduledMessages(){return[...this.scheduledMessages]}getMessageHistory(e=100){return this.messageHistory.slice(-e)}getMessageHistoryByPhone(e,t=50){return this.messageHistory.filter(t=>t.from===e||t.to===e).slice(-t)}getStatistics(){const e=new Date,t=new Date(e.getTime()-864e5),s=new Date(e.getTime()-6048e5),a=this.messageHistory.filter(e=>e.timestamp>t),i=this.messageHistory.filter(e=>e.timestamp>s);return{totalMessages:this.messageHistory.length,messages24h:a.length,messages7d:i.length,sentMessages:this.messageHistory.filter(e=>"sent"===e.status).length,deliveredMessages:this.messageHistory.filter(e=>"delivered"===e.status).length,failedMessages:this.messageHistory.filter(e=>"failed"===e.status).length,pendingScheduled:this.scheduledMessages.filter(e=>"pending"===e.status).length}}saveTemplates(){try{localStorage.setItem("whatsapp_templates",JSON.stringify(this.messageTemplates))}catch(e){}}loadTemplates(){try{const e=localStorage.getItem("whatsapp_templates");e&&(this.messageTemplates=JSON.parse(e))}catch(e){}}},oa=()=>{const[e,t]=n.useState("connection"),[s,a]=n.useState({isReady:!1,isConnected:!1}),[i,l]=n.useState(""),[c,o]=n.useState(""),[d,m]=n.useState(!1),[h,u]=n.useState([]),[x,p]=n.useState([]),[g,j]=n.useState([]),[b,v]=n.useState({totalMessages:0,messages24h:0,messages7d:0,sentMessages:0,deliveredMessages:0,failedMessages:0,pendingScheduled:0});n.useEffect(()=>{N();const e=setInterval(N,5e3);return()=>clearInterval(e)},[]);const N=()=>{a(ca.getConnectionStatus()),u(ca.getTemplates()),p(ca.getScheduledMessages()),j(ca.getMessageHistory()),v(ca.getStatistics())},w=e=>e.replace("@c.us","").replace("@s.whatsapp.net",""),k=e=>new Date(e).toLocaleString("tr-TR");return r.jsxs("div",{className:"space-y-6",children:[r.jsx(f,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-3 h-3 rounded-full "+(s.isConnected?"bg-green-500":"bg-red-500")}),r.jsx("h2",{className:"text-xl font-semibold",children:"WhatsApp Bağlantısı"}),r.jsx(bs,{variant:s.isReady?"default":"secondary",children:s.isReady?"Bağlı":"Bağlantı Yok"})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(y,{variant:"outline",size:"sm",onClick:async()=>{try{await ca.initialize(),N()}catch(e){}},disabled:s.isConnected,children:[r.jsx(I,{className:"w-4 h-4 mr-1"}),"Bağlan"]}),r.jsxs(y,{variant:"outline",size:"sm",onClick:async()=>{try{await ca.destroy(),N()}catch(e){}},disabled:!s.isConnected,children:[r.jsx(H,{className:"w-4 h-4 mr-1"}),"Bağlantıyı Kes"]}),r.jsxs(y,{variant:"outline",size:"sm",onClick:N,children:[r.jsx(A,{className:"w-4 h-4 mr-1"}),"Yenile"]})]})]})}),r.jsxs(re,{value:e,onValueChange:t,children:[r.jsxs(le,{className:"grid w-full grid-cols-6",children:[r.jsx(ce,{value:"connection",children:"Bağlantı"}),r.jsx(ce,{value:"send",children:"Mesaj Gönder"}),r.jsx(ce,{value:"templates",children:"Şablonlar"}),r.jsx(ce,{value:"scheduled",children:"Zamanlanmış"}),r.jsx(ce,{value:"history",children:"Geçmiş"}),r.jsx(ce,{value:"stats",children:"İstatistikler"})]}),r.jsx(oe,{value:"connection",className:"space-y-4",children:r.jsxs(f,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"QR Kod Tarama"}),r.jsxs("div",{className:"text-center py-8",children:[r.jsx(tt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"QR kod bekleniyor..."})]})]})}),r.jsx(oe,{value:"send",className:"space-y-4",children:r.jsxs(f,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Mesaj Gönder"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Alıcı Numarası"}),r.jsx(ne,{placeholder:"905xxxxxxxxx",value:i,onChange:e=>l(e.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Mesaj"}),r.jsx(la,{placeholder:"Mesajınızı yazın...",value:c,onChange:e=>o(e.target.value),rows:4})]}),r.jsxs(y,{onClick:async()=>{if(i&&c){m(!0);try{await ca.sendMessage(i,c)&&(o(""),N())}catch(e){}finally{m(!1)}}},disabled:d||!i||!c,className:"w-full",children:[r.jsx(Y,{className:"w-4 h-4 mr-2"}),d?"Gönderiliyor...":"Gönder"]})]})]})}),r.jsx(oe,{value:"templates",className:"space-y-4",children:r.jsxs(f,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Mesaj Şablonları"}),r.jsxs(y,{size:"sm",children:[r.jsx(W,{className:"w-4 h-4 mr-1"}),"Yeni Şablon"]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.map(e=>r.jsxs(f,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-medium",children:e.name}),r.jsx(bs,{variant:e.isActive?"default":"secondary",children:e.isActive?"Aktif":"Pasif"})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:e.content}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(bs,{variant:"outline",children:e.category}),r.jsxs("div",{className:"flex space-x-1",children:[r.jsx(y,{size:"sm",variant:"ghost",children:r.jsx(st,{className:"w-4 h-4"})}),r.jsx(y,{size:"sm",variant:"ghost",children:r.jsx($,{className:"w-4 h-4"})})]})]})]},e.id))})]})}),r.jsx(oe,{value:"scheduled",className:"space-y-4",children:r.jsxs(f,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Zamanlanmış Mesajlar"}),r.jsx("div",{className:"space-y-4",children:x.map(e=>r.jsx(f,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:w(e.to)}),r.jsx("p",{className:"text-sm text-gray-600",children:k(e.scheduledAt)})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(bs,{variant:"pending"===e.status?"default":"sent"===e.status?"secondary":"destructive",children:e.status}),"pending"===e.status&&r.jsx(y,{size:"sm",variant:"ghost",onClick:()=>{return t=e.id,ca.cancelScheduledMessage(t),void N();var t},children:r.jsx($,{className:"w-4 h-4"})})]})]})},e.id))})]})}),r.jsx(oe,{value:"history",className:"space-y-4",children:r.jsxs(f,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Mesaj Geçmişi"}),r.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:g.map(e=>r.jsx(f,{className:"p-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:w(e.from)}),r.jsx("p",{className:"text-sm text-gray-600",children:e.body}),r.jsx("p",{className:"text-xs text-gray-500",children:k(e.timestamp)})]}),r.jsx(bs,{variant:"sent"===e.status?"default":"delivered"===e.status?"secondary":"destructive",children:e.status})]})},e.id))})]})}),r.jsx(oe,{value:"stats",className:"space-y-4",children:r.jsxs(f,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"İstatistikler"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:b.totalMessages}),r.jsx("div",{className:"text-sm text-gray-600",children:"Toplam Mesaj"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:b.messages24h}),r.jsx("div",{className:"text-sm text-gray-600",children:"Son 24 Saat"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:b.sentMessages}),r.jsx("div",{className:"text-sm text-gray-600",children:"Gönderilen"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-red-600",children:b.failedMessages}),r.jsx("div",{className:"text-sm text-gray-600",children:"Başarısız"})]})]})]})})]})]})};function da({center:e}){const t=at().map;return n.useEffect(()=>{t.setView(e)},[e,t]),null}delete ht.Icon.Default.prototype._getIconUrl,ht.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const ma=({center:e,zoom:t,locations:s=[],routes:a=[],areas:i=[],onLocationClick:l,onMarkerDrag:c,showRoutes:o=!0,showAreas:d=!0,height:m="500px"})=>{const h=n.useRef(null);return r.jsx("div",{style:{height:m,width:"100%",position:"relative"},children:r.jsxs(ct,{ref:h,center:e,zoom:t,style:{height:"100%",width:"100%"},zoomControl:!0,scrollWheelZoom:!0,doubleClickZoom:!0,dragging:!0,touchZoom:!0,children:[r.jsx(da,{center:e}),r.jsx(ot,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),s.map(e=>{return r.jsx(dt,{position:[e.lat,e.lng],icon:(t=e.type,ht.divIcon({className:"custom-marker",html:`\n      <div style="\n        width: 20px;\n        height: 20px;\n        background-color: ${{help_center:"#3B82F6",distribution_center:"#10B981",user_location:"#F59E0B",event_location:"#EF4444"}[t]};\n        border: 2px solid white;\n        border-radius: 50%;\n        box-shadow: 0 2px 4px rgba(0,0,0,0.3);\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        color: white;\n        font-size: 10px;\n        font-weight: bold;\n      ">\n        ${"help_center"===t?"H":"distribution_center"===t?"D":"user_location"===t?"U":"E"}\n      </div>\n    `,iconSize:[20,20],iconAnchor:[10,10]})),draggable:"user_location"===e.type,eventHandlers:{click:()=>(e=>{l&&l(e)})(e),dragend:t=>((e,t)=>{if(c){const s=[t.target.getLatLng().lat,t.target.getLatLng().lng];c(e,s)}})(e,t)},children:r.jsx(mt,{children:r.jsxs("div",{className:"p-2",children:[r.jsx("h3",{className:"font-semibold text-lg",children:e.name}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),e.address&&r.jsxs("p",{className:"text-sm mb-1",children:[r.jsx("strong",{children:"Adres:"})," ",e.address]}),e.phone&&r.jsxs("p",{className:"text-sm mb-1",children:[r.jsx("strong",{children:"Telefon:"})," ",e.phone]}),e.email&&r.jsxs("p",{className:"text-sm mb-1",children:[r.jsx("strong",{children:"E-posta:"})," ",e.email]}),e.capacity&&r.jsxs("p",{className:"text-sm mb-1",children:[r.jsx("strong",{children:"Kapasite:"})," ",e.currentOccupancy||0,"/",e.capacity]}),r.jsx("div",{className:"mt-2",children:r.jsx("span",{className:"inline-block px-2 py-1 text-xs rounded-full "+("active"===e.status?"bg-green-100 text-green-800":"inactive"===e.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:"active"===e.status?"Aktif":"inactive"===e.status?"Pasif":"Geçici"})})]})})},e.id);var t}),o&&a.map(e=>r.jsx(yt,{positions:e.points,color:e.color,weight:3,opacity:.8,children:r.jsx(mt,{children:r.jsxs("div",{className:"p-2",children:[r.jsx("h3",{className:"font-semibold",children:e.name}),e.distance&&r.jsxs("p",{className:"text-sm",children:["Mesafe: ",e.distance," km"]}),e.duration&&r.jsxs("p",{className:"text-sm",children:["Süre: ",e.duration," dk"]})]})})},e.id)),d&&i.map(e=>r.jsx(gt,{center:e.center,radius:e.radius,pathOptions:{color:e.color,fillColor:e.color,fillOpacity:.2},children:r.jsx(mt,{children:r.jsxs("div",{className:"p-2",children:[r.jsx("h3",{className:"font-semibold",children:e.name}),r.jsx("p",{className:"text-sm",children:e.description}),r.jsxs("p",{className:"text-sm",children:["Yarıçap: ",e.radius," m"]})]})})},e.id))]})})},ha=()=>{const[e,t]=n.useState("map"),[s]=n.useState([41.0082,28.9784]),[a]=n.useState(12),[i]=n.useState(!1),[l]=n.useState(!0),[o]=n.useState(!0),[d,m]=n.useState(null),[h,u]=n.useState(""),[x,p]=n.useState("all"),[g,j]=n.useState([{id:"1",name:"Merkez Yardım Noktası",lat:41.0082,lng:28.9784,type:"help_center",description:"Ana yardım dağıtım merkezi",address:"Sultanahmet, İstanbul",phone:"0212 555 0123",email:"merkez@dernek.org",status:"active",capacity:1e3,currentOccupancy:750},{id:"2",name:"Kadıköy Dağıtım Merkezi",lat:40.9909,lng:29.0303,type:"distribution_center",description:"Doğu yakası dağıtım merkezi",address:"Kadıköy, İstanbul",phone:"0216 555 0456",email:"kadikoy@dernek.org",status:"active",capacity:500,currentOccupancy:300},{id:"3",name:"Ahmet Yılmaz",lat:41.0151,lng:28.9795,type:"user_location",description:"Yardım alan kişi",phone:"0532 555 0789",status:"active"},{id:"4",name:"Yılbaşı Etkinliği",lat:41.0082,lng:28.9784,type:"event_location",description:"Yılbaşı yardım etkinliği",address:"Taksim Meydanı, İstanbul",status:"temporary"}]),[b]=n.useState([{id:"route_1",name:"Merkez - Kadıköy Rota",points:[[41.0082,28.9784],[40.9909,29.0303]],color:"#3B82F6",distance:12.5,duration:25},{id:"route_2",name:"Dağıtım Rota 1",points:[[41.0082,28.9784],[41.0151,28.9795],[41.02,28.985]],color:"#10B981",distance:8.2,duration:15}]),[v]=n.useState([{id:"area_1",name:"Merkez Hizmet Alanı",center:[41.0082,28.9784],radius:5e3,color:"#3B82F6",description:"5km yarıçapında hizmet alanı"},{id:"area_2",name:"Kadıköy Hizmet Alanı",center:[40.9909,29.0303],radius:3e3,color:"#10B981",description:"3km yarıçapında hizmet alanı"}]),[N,w]=n.useState({name:"",lat:0,lng:0,type:"help_center",description:"",address:"",phone:"",email:"",status:"active",capacity:0}),k=g.filter(e=>{var t;const s=e.name.toLowerCase().includes(h.toLowerCase())||(null==(t=e.description)?void 0:t.toLowerCase().includes(h.toLowerCase())),a="all"===x||e.type===x;return s&&a}),S=e=>{m(e),t("details")},A=e=>{switch(e){case"help_center":return r.jsx(U,{className:"w-4 h-4"});case"distribution_center":return r.jsx(pt,{className:"w-4 h-4"});case"user_location":return r.jsx(c,{className:"w-4 h-4"});case"event_location":return r.jsx(ut,{className:"w-4 h-4"});default:return r.jsx(q,{className:"w-4 h-4"})}},C=e=>{switch(e){case"help_center":return"bg-blue-100 text-blue-800";case"distribution_center":return"bg-green-100 text-green-800";case"user_location":return"bg-yellow-100 text-yellow-800";case"event_location":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return r.jsxs("div",{className:"space-y-6",children:[r.jsx(f,{className:"p-6",children:r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(q,{className:"w-6 h-6 text-blue-600"}),r.jsx("h2",{className:"text-xl font-semibold",children:"Harita Yönetimi"}),r.jsxs(bs,{variant:"outline",children:[g.length," Lokasyon"]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("div",{className:"relative",children:[r.jsx(V,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx(ne,{placeholder:"Lokasyon ara...",value:h,onChange:e=>u(e.target.value),className:"pl-10 w-64"})]}),r.jsxs(R,{value:x,onValueChange:p,children:[r.jsx(B,{className:"w-32",children:r.jsx(L,{})}),r.jsxs(F,{children:[r.jsx(K,{value:"all",children:"Tümü"}),r.jsx(K,{value:"help_center",children:"Yardım Merkezi"}),r.jsx(K,{value:"distribution_center",children:"Dağıtım Merkezi"}),r.jsx(K,{value:"user_location",children:"Kullanıcı"}),r.jsx(K,{value:"event_location",children:"Etkinlik"})]})]})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsx(f,{className:"p-4",children:r.jsx("div",{className:"relative",children:r.jsx(ma,{center:s,zoom:a,locations:k,routes:b,areas:v,onLocationClick:S,onMarkerDrag:(e,t)=>{j(s=>s.map(s=>s.id===e.id?{...s,lat:t[0],lng:t[1]}:s))},showHeatmap:i,showRoutes:l,showAreas:o,height:"600px"})})})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(f,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Lokasyonlar"}),r.jsxs(y,{size:"sm",onClick:()=>t("add"),children:[r.jsx(W,{className:"w-4 h-4 mr-1"}),"Ekle"]})]}),r.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:k.map(e=>r.jsx("div",{className:"p-3 border rounded-lg hover:bg-gray-50 cursor-pointer",onClick:()=>S(e),children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[A(e.type),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-sm",children:e.name}),r.jsx("p",{className:"text-xs text-gray-600",children:e.description})]})]}),r.jsx(bs,{className:C(e.type),children:"help_center"===e.type?"Yardım":"distribution_center"===e.type?"Dağıtım":"user_location"===e.type?"Kullanıcı":"Etkinlik"})]})},e.id))})]}),r.jsxs(f,{className:"p-4",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"İstatistikler"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm",children:"Toplam Lokasyon:"}),r.jsx("span",{className:"font-semibold",children:g.length})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm",children:"Aktif Lokasyon:"}),r.jsx("span",{className:"font-semibold text-green-600",children:g.filter(e=>"active"===e.status).length})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm",children:"Toplam Rota:"}),r.jsx("span",{className:"font-semibold",children:b.length})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm",children:"Hizmet Alanı:"}),r.jsx("span",{className:"font-semibold",children:v.length})]})]})]})]})]}),r.jsxs(re,{value:e,onValueChange:t,children:[r.jsxs(le,{className:"grid w-full grid-cols-3",children:[r.jsx(ce,{value:"map",children:"Harita"}),r.jsx(ce,{value:"details",children:"Detaylar"}),r.jsx(ce,{value:"add",children:"Yeni Ekle"})]}),r.jsx(oe,{value:"details",className:"space-y-4",children:d?r.jsxs(f,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-xl font-semibold",children:d.name}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(y,{size:"sm",variant:"outline",children:[r.jsx(st,{className:"w-4 h-4 mr-1"}),"Düzenle"]}),r.jsxs(y,{size:"sm",variant:"outline",onClick:()=>{return e=d.id,j(t=>t.filter(t=>t.id!==e)),void((null==d?void 0:d.id)===e&&m(null));var e},children:[r.jsx($,{className:"w-4 h-4 mr-1"}),"Sil"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Temel Bilgiler"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Tür:"})," ",d.type]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Açıklama:"})," ",d.description]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Durum:"}),r.jsx(bs,{className:"ml-2 "+("active"===d.status?"bg-green-100 text-green-800":"inactive"===d.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:"active"===d.status?"Aktif":"inactive"===d.status?"Pasif":"Geçici"})]}),d.capacity&&r.jsxs("p",{children:[r.jsx("strong",{children:"Kapasite:"})," ",d.currentOccupancy||0,"/",d.capacity]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-2",children:"İletişim Bilgileri"}),r.jsxs("div",{className:"space-y-2",children:[d.address&&r.jsxs("p",{children:[r.jsx("strong",{children:"Adres:"})," ",d.address]}),d.phone&&r.jsxs("p",{children:[r.jsx("strong",{children:"Telefon:"})," ",d.phone]}),d.email&&r.jsxs("p",{children:[r.jsx("strong",{children:"E-posta:"})," ",d.email]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Koordinatlar:"})," ",d.lat.toFixed(6),", ",d.lng.toFixed(6)]})]})]})]})]}):r.jsxs(f,{className:"p-6 text-center",children:[r.jsx(q,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Detayları görüntülemek için bir lokasyon seçin"})]})}),r.jsx(oe,{value:"add",className:"space-y-4",children:r.jsxs(f,{className:"p-6",children:[r.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Yeni Lokasyon Ekle"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Lokasyon Adı"}),r.jsx(ne,{value:N.name,onChange:e=>w(t=>({...t,name:e.target.value})),placeholder:"Lokasyon adı"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tür"}),r.jsxs(R,{value:N.type,onValueChange:e=>w(t=>({...t,type:e})),children:[r.jsx(B,{children:r.jsx(L,{})}),r.jsxs(F,{children:[r.jsx(K,{value:"help_center",children:"Yardım Merkezi"}),r.jsx(K,{value:"distribution_center",children:"Dağıtım Merkezi"}),r.jsx(K,{value:"user_location",children:"Kullanıcı Lokasyonu"}),r.jsx(K,{value:"event_location",children:"Etkinlik Lokasyonu"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Enlem"}),r.jsx(ne,{type:"number",step:"any",value:N.lat,onChange:e=>w(t=>({...t,lat:parseFloat(e.target.value)||0})),placeholder:"41.0082"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Boylam"}),r.jsx(ne,{type:"number",step:"any",value:N.lng,onChange:e=>w(t=>({...t,lng:parseFloat(e.target.value)||0})),placeholder:"28.9784"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Açıklama"}),r.jsx(ne,{value:N.description,onChange:e=>w(t=>({...t,description:e.target.value})),placeholder:"Lokasyon açıklaması"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Adres"}),r.jsx(ne,{value:N.address,onChange:e=>w(t=>({...t,address:e.target.value})),placeholder:"Adres"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Telefon"}),r.jsx(ne,{value:N.phone,onChange:e=>w(t=>({...t,phone:e.target.value})),placeholder:"Telefon"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"E-posta"}),r.jsx(ne,{type:"email",value:N.email,onChange:e=>w(t=>({...t,email:e.target.value})),placeholder:"E-posta"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Kapasite"}),r.jsx(ne,{type:"number",value:N.capacity,onChange:e=>w(t=>({...t,capacity:parseInt(e.target.value)||0})),placeholder:"Kapasite"})]})]}),r.jsx("div",{className:"mt-6 flex justify-end",children:r.jsxs(y,{onClick:()=>{if(!N.name||0===N.lat||0===N.lng)return;const e={id:`location_${Date.now()}`,...N,currentOccupancy:0};j(t=>[...t,e]),w({name:"",lat:0,lng:0,type:"help_center",description:"",address:"",phone:"",email:"",status:"active",capacity:0})},disabled:!N.name,children:[r.jsx(W,{className:"w-4 h-4 mr-1"}),"Lokasyon Ekle"]})})]})})]})]})},ua={widgets:[{id:"total-donations",title:"Toplam Bağışlar",description:"Toplam bağış miktarı ve değişim oranı",icon:null,category:"financial",enabled:!0,position:0,size:"small",color:"bg-blue-500"},{id:"active-beneficiaries",title:"Aktif İhtiyaç Sahipleri",description:"Aktif yardım alan kişi sayısı",icon:null,category:"activity",enabled:!0,position:1,size:"small",color:"bg-green-500"},{id:"monthly-growth",title:"Aylık Büyüme",description:"Aylık büyüme oranı ve trend",icon:null,category:"financial",enabled:!0,position:2,size:"small",color:"bg-purple-500"},{id:"fund-distribution",title:"Fon Dağılımı",description:"Fonların dağılım oranı",icon:null,category:"financial",enabled:!0,position:3,size:"small",color:"bg-orange-500"},{id:"recent-activities",title:"Son Aktiviteler",description:"Son sistem aktiviteleri",icon:null,category:"activity",enabled:!0,position:4,size:"medium",color:"bg-indigo-500"},{id:"pending-tasks",title:"Bekleyen Görevler",description:"Tamamlanmamış görevler",icon:null,category:"management",enabled:!0,position:5,size:"medium",color:"bg-red-500"},{id:"messages",title:"Mesajlar",description:"Son mesajlar ve bildirimler",icon:null,category:"communication",enabled:!0,position:6,size:"medium",color:"bg-teal-500"},{id:"donation-chart",title:"Bağış Grafiği",description:"Bağış trendleri ve analizi",icon:null,category:"financial",enabled:!0,position:7,size:"large",color:"bg-blue-600"},{id:"beneficiary-chart",title:"İhtiyaç Sahibi Analizi",description:"İhtiyaç sahipleri dağılımı",icon:null,category:"activity",enabled:!0,position:8,size:"large",color:"bg-green-600"}],layout:"grid",theme:"auto",showWelcomeMessage:!0,autoRefresh:!1,refreshInterval:5};function xa({title:e,description:t,icon:s,color:a,link:i}){return r.jsx(J,{to:i,className:"group block",children:r.jsxs("div",{className:"rounded-lg border bg-card p-4 transition-all hover:border-primary hover:shadow-md",children:[r.jsx("div",{className:`mb-3 inline-flex h-10 w-10 items-center justify-center rounded-lg ${a} text-white`,children:s}),r.jsx("h3",{className:"font-semibold group-hover:text-primary",children:e}),r.jsx("p",{className:"text-sm text-muted-foreground",children:t})]})})}function pa({title:e,subtitle:t,time:s}){return r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"mt-1 h-2 w-2 rounded-full bg-primary"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium",children:e}),r.jsx("p",{className:"text-xs text-muted-foreground",children:t}),r.jsx("p",{className:"text-xs text-muted-foreground",children:s})]})]})}function fa({title:e,current:t,target:s,unit:a}){const i=Math.round(t/s*100);return r.jsxs("div",{children:[r.jsxs("div",{className:"mb-1 flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:e}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[a,t.toLocaleString("tr-TR")," / ",a,s.toLocaleString("tr-TR")]})]}),r.jsx("div",{className:"h-2 w-full rounded-full bg-muted",children:r.jsx("div",{className:"h-2 rounded-full bg-primary transition-all duration-300",style:{width:`${Math.min(i,100)}%`}})}),r.jsxs("p",{className:"mt-1 text-xs text-muted-foreground",children:["%",i," tamamlandı"]})]})}function ga({title:e,date:t,time:s}){return r.jsxs("div",{className:"flex items-center gap-3 rounded border p-2",children:[r.jsxs("div",{className:"flex h-12 w-12 flex-col items-center justify-center rounded bg-primary/10 text-primary",children:[r.jsx("span",{className:"text-xs font-medium",children:t.split(" ")[0]}),r.jsx("span",{className:"text-xs",children:t.split(" ")[1]})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium",children:e}),r.jsx("p",{className:"text-xs text-muted-foreground",children:s})]})]})}const ya=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const[e,t]=n.useState(!1),[s,a]=n.useState(!1),[i,l]=n.useState(!1),[c,m]=n.useState(!1),[h,x]=n.useState(!1),[p,f]=n.useState(!1),{settings:j,updateWidgets:b}=function(){const{user:e}=Q(),[t,s]=n.useState(ua),[a,i]=n.useState(!0);n.useEffect(()=>{if(e){const a=localStorage.getItem(`dashboard_settings_${e.id}`);if(a)try{const e=JSON.parse(a);s({...ua,...e})}catch(t){s(ua)}i(!1)}},[e]);const r=t=>{e&&(s(t),localStorage.setItem(`dashboard_settings_${e.id}`,JSON.stringify(t)))},l=e=>{r({...t,widgets:e})};return{settings:t,isLoading:a,updateWidgets:l,toggleWidget:e=>{const s=t.widgets.map(t=>t.id===e?{...t,enabled:!t.enabled}:t);l(s)},updateWidgetSize:(e,s)=>{const a=t.widgets.map(t=>t.id===e?{...t,size:s}:t);l(a)},reorderWidgets:(e,s)=>{const a=[...t.widgets],[i]=a.splice(e,1);a.splice(s,0,i);const n=a.map((e,t)=>({...e,position:t}));l(n)},updateLayout:e=>{r({...t,layout:e})},updateTheme:e=>{r({...t,theme:e})},toggleWelcomeMessage:()=>{r({...t,showWelcomeMessage:!t.showWelcomeMessage})},toggleAutoRefresh:()=>{r({...t,autoRefresh:!t.autoRefresh})},updateRefreshInterval:e=>{r({...t,refreshInterval:e})},resetToDefaults:()=>{r(ua)},getEnabledWidgets:()=>t.widgets.filter(e=>e.enabled).sort((e,t)=>e.position-t.position),getWidgetsByCategory:e=>t.widgets.filter(t=>t.category===e)}}();return r.jsxs("div",{className:"min-h-screen bg-financial-gray-50 space-y-4 sm:space-y-6 p-4 sm:p-6",children:[r.jsx("div",{className:"bg-gradient-to-r from-financial-primary to-financial-secondary rounded-xl p-6 sm:p-8 text-white shadow-lg relative",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-financial-2xl sm:text-financial-3xl font-financial font-bold mb-2 sm:mb-3 tracking-financial-tight",children:"Hoş Geldiniz!"}),r.jsx("p",{className:"text-financial-base sm:text-financial-lg font-financial text-white/90 leading-financial-relaxed",children:"Dernek finansal yönetim panelinize hoş geldiniz. Güncel durumu aşağıdan takip edebilirsiniz."})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(y,{variant:"ghost",size:"sm",onClick:()=>a(!0),className:"text-white hover:bg-white/10",children:[r.jsx(S,{className:"w-4 h-4 mr-1"}),"Cache"]}),r.jsxs(y,{variant:"ghost",size:"sm",onClick:()=>t(!0),className:"text-white hover:bg-white/10",children:[r.jsx(g,{className:"w-4 h-4 mr-1"}),"Kişiselleştir"]}),r.jsxs(y,{variant:"ghost",size:"sm",onClick:()=>l(!0),className:"text-white hover:bg-white/10",children:[r.jsx(_,{className:"w-4 h-4 mr-1"}),"Rapor"]}),r.jsxs(y,{variant:"ghost",size:"sm",onClick:()=>m(!0),className:"text-white hover:bg-white/10",children:[r.jsx(d,{className:"w-4 h-4 mr-1"}),"Grafikler"]}),r.jsxs(y,{variant:"ghost",size:"sm",onClick:()=>x(!0),className:"text-white hover:bg-white/10",children:[r.jsx(w,{className:"w-4 h-4 mr-1"}),"WhatsApp"]}),r.jsxs(y,{variant:"ghost",size:"sm",onClick:()=>f(!0),className:"text-white hover:bg-white/10",children:[r.jsx(q,{className:"w-4 h-4 mr-1"}),"Harita"]})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[r.jsx(rs,{totalDonations:45230,monthlyChange:8.2,trend:[42e3,43500,44200,45230]}),r.jsx(cs,{count:1234,monthlyChange:12}),r.jsx(ls,{growthRate:15.4,period:"Son 30 gün"}),r.jsx(os,{distributionRate:87,target:85})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4",children:[r.jsx(xa,{title:"Yeni Başvuru",description:"İhtiyaç sahibi başvurusu oluştur",icon:r.jsx(_,{className:"h-6 w-6"}),color:"bg-blue-500",link:"/aid/applications"}),r.jsx(xa,{title:"Bağış Kabul",description:"Yeni bağış kaydı oluştur",icon:r.jsx(Z,{className:"h-6 w-6"}),color:"bg-green-500",link:"/donations/cash"}),r.jsx(xa,{title:"Mesaj Gönder",description:"Toplu mesaj gönderimi yap",icon:r.jsx(w,{className:"h-6 w-6"}),color:"bg-purple-500",link:"/messages/bulk-send"}),r.jsx(xa,{title:"Rapor Oluştur",description:"Yardım raporu hazırla",icon:r.jsx(ft,{className:"h-6 w-6"}),color:"bg-orange-500",link:"/aid/reports"})]}),r.jsx(ps,{}),r.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[r.jsxs("div",{className:"rounded-lg border bg-card p-4",children:[r.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[r.jsx(C,{className:"h-5 w-5 text-primary"}),r.jsx("h3",{className:"font-semibold",children:"Son Aktiviteler"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(pa,{title:"Yeni başvuru onaylandı",subtitle:"Ayşe Yılmaz - Nakdi Yardım",time:"2 saat önce"}),r.jsx(pa,{title:"Bağış alındı",subtitle:"₺500 - Ahmet Demir",time:"4 saat önce"}),r.jsx(pa,{title:"Toplu mesaj gönderildi",subtitle:"142 kişiye SMS gönderildi",time:"6 saat önce"}),r.jsx(pa,{title:"Yardım dağıtıldı",subtitle:"₺1,200 - 3 aile",time:"1 gün önce"})]}),r.jsx(J,{to:"/aid",className:"mt-4 block text-sm text-primary hover:underline",children:"Tüm aktiviteleri gör →"})]}),r.jsxs("div",{className:"rounded-lg border bg-card p-4",children:[r.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[r.jsx(o,{className:"h-5 w-5 text-primary"}),r.jsx("h3",{className:"font-semibold",children:"Bu Ayki Hedefler"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(fa,{title:"Bağış Hedefi",current:45670,target:6e4,unit:"₺"}),r.jsx(fa,{title:"Yardım Dağıtımı",current:38240,target:45e3,unit:"₺"}),r.jsx(fa,{title:"Yeni Başvuru",current:12,target:20,unit:""}),r.jsx(fa,{title:"Burs Öğrenci",current:85,target:100,unit:""})]})]}),r.jsxs("div",{className:"rounded-lg border bg-card p-4",children:[r.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[r.jsx(u,{className:"h-5 w-5 text-primary"}),r.jsx("h3",{className:"font-semibold",children:"Yaklaşan Etkinlikler"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(ga,{title:"Yönetim Kurulu Toplantısı",date:"15 Ocak 2024",time:"14:00"}),r.jsx(ga,{title:"Bağış Kampanyası Lansmanı",date:"20 Ocak 2024",time:"10:00"}),r.jsx(ga,{title:"İhtiyaç Sahipleri Ziyareti",date:"25 Ocak 2024",time:"09:00"}),r.jsx(ga,{title:"Burs Öğrenci Buluşması",date:"30 Ocak 2024",time:"15:00"})]}),r.jsx(J,{to:"/messages",className:"mt-4 block text-sm text-primary hover:underline",children:"Takvimi gör →"})]})]}),r.jsx(ks,{isOpen:e,onClose:()=>t(!1),onSave:b,currentWidgets:j.widgets}),r.jsx(Cs,{isOpen:s,onClose:()=>a(!1)}),i&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"w-full max-w-6xl max-h-[90vh] overflow-y-auto bg-white rounded-lg shadow-2xl",children:[r.jsx("div",{className:"p-6 border-b",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Rapor Oluşturucu"}),r.jsx(y,{variant:"ghost",size:"sm",onClick:()=>l(!1),children:r.jsx(v,{className:"w-4 h-4"})})]})}),r.jsx("div",{className:"p-6",children:r.jsx(Xs,{})})]})}),c&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"w-full max-w-7xl max-h-[90vh] overflow-y-auto bg-white rounded-lg shadow-2xl",children:[r.jsx("div",{className:"p-6 border-b",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Grafik Dashboard"}),r.jsx(y,{variant:"ghost",size:"sm",onClick:()=>m(!1),children:r.jsx(v,{className:"w-4 h-4"})})]})}),r.jsx("div",{className:"p-6",children:r.jsx(ra,{})})]})}),h&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"w-full max-w-6xl max-h-[90vh] overflow-y-auto bg-white rounded-lg shadow-2xl",children:[r.jsx("div",{className:"p-6 border-b",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-semibold",children:"WhatsApp Yöneticisi"}),r.jsx(y,{variant:"ghost",size:"sm",onClick:()=>x(!1),children:r.jsx(v,{className:"w-4 h-4"})})]})}),r.jsx("div",{className:"p-6",children:r.jsx(oa,{})})]})}),p&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"w-full max-w-7xl max-h-[90vh] overflow-y-auto bg-white rounded-lg shadow-2xl",children:[r.jsx("div",{className:"p-6 border-b",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Harita Yönetimi"}),r.jsx(y,{variant:"ghost",size:"sm",onClick:()=>f(!1),children:r.jsx(v,{className:"w-4 h-4"})})]})}),r.jsx("div",{className:"p-6",children:r.jsx(ha,{})})]})})]})}},Symbol.toStringTag,{value:"Module"}));export{ts as A,ya as I,Dt as a};
