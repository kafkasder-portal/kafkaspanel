import{r as e,j as s,m as l,n as t,e as a,S as r,F as n,k as i,o as d,p as c,q as x,s as o}from"../assets/index-C7XW2vnU.js";import{D as m}from"./DataTable-BR_3tqT5.js";import{M as u}from"./Modal-QxY_FyG0.js";import{M as h}from"./MessageNavigation-BxXC2S0A.js";import{A as g}from"./alert-circle-W3dFygZp.js";import{T as j}from"./target-CNheRk21.js";import{X as p}from"./x-circle-DtoeMl2Z.js";import{E as b}from"./eye-Bpapn1fj.js";import{P as N}from"./pen-square-C-SOcf8u.js";function v(){const[v,f]=e.useState(""),[y,w]=e.useState("all"),[k,M]=e.useState("all"),[S,T]=e.useState("all"),[C,A]=e.useState(null),[B,D]=e.useState(!1),[G,E]=e.useState(!1),L=[],Y=e.useMemo(()=>L.filter(e=>{const s=e.subject.toLowerCase().includes(v.toLowerCase())||e.sender.toLowerCase().includes(v.toLowerCase())||e.recipient.toLowerCase().includes(v.toLowerCase()),l="all"===y||e.status===y,t="all"===k||e.type===k,a="all"===S||e.priority===S;return s&&l&&t&&a}),[v,y,k,S,L]),z=e=>{switch(e){case"sent":return s.jsx(d,{className:"h-4 w-4 text-blue-500"});case"delivered":return s.jsx(c,{className:"h-4 w-4 text-green-500"});case"read":return s.jsx(b,{className:"h-4 w-4 text-green-600"});case"failed":return s.jsx(p,{className:"h-4 w-4 text-red-500"});default:return s.jsx(x,{className:"h-4 w-4 text-gray-500"})}},O=e=>s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${{low:"bg-gray-100 text-gray-800",normal:"bg-blue-100 text-blue-800",high:"bg-orange-100 text-orange-800",urgent:"bg-red-100 text-red-800"}[e]}`,children:"low"===e?"Düşük":"normal"===e?"Normal":"high"===e?"Yüksek":"Acil"}),F=e=>s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${{sms:"bg-green-100 text-green-800",email:"bg-blue-100 text-blue-800",notification:"bg-purple-100 text-purple-800"}[e]}`,children:"sms"===e?"SMS":"email"===e?"E-posta":"Bildirim"}),K=[{key:"id",header:"ID",render:(e,l)=>s.jsxs("span",{className:"font-mono text-sm text-gray-600",children:["#",l.id]})},{key:"subject",header:"Konu",render:(e,l)=>s.jsxs("div",{className:"flex items-center gap-2",children:[z(l.status),s.jsx("span",{className:"font-medium",children:l.subject})]})},{key:"sender",header:"Gönderen",render:(e,l)=>s.jsx("span",{className:"text-sm",children:l.sender})},{key:"recipient",header:"Alıcı",render:(e,l)=>s.jsx("span",{className:"text-sm",children:l.recipient})},{key:"type",header:"Tür",render:(e,s)=>F(s.type)},{key:"priority",header:"Öncelik",render:(e,s)=>O(s.priority)},{key:"date",header:"Tarih",render:(e,l)=>s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{children:l.date}),s.jsx("div",{className:"text-gray-500",children:l.time})]})},{key:"actions",header:"İşlemler",render:(e,l)=>s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:()=>(e=>{A(e),D(!0)})(l),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",title:"Görüntüle",children:s.jsx(b,{className:"h-4 w-4"})}),s.jsx("button",{className:"p-1 text-green-600 hover:bg-green-50 rounded",title:"Düzenle",children:s.jsx(N,{className:"h-4 w-4"})}),s.jsx("button",{className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Sil",children:s.jsx(o,{className:"h-4 w-4"})})]})}];return s.jsxs("div",{className:"space-y-6",children:[s.jsx(h,{currentPath:"/messages"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Mesaj Listesi"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Gönderilmiş ve alınmış mesajları görüntüle ve yönet"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{className:"flex items-center gap-2 bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors",children:[s.jsx(l,{className:"h-4 w-4"}),"Yenile"]}),s.jsxs("button",{className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(t,{className:"h-4 w-4"}),"Dışa Aktar"]}),s.jsxs("button",{onClick:()=>E(!0),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(a,{className:"h-4 w-4"}),"Yeni Mesaj"]})]})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg border space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(r,{className:"h-4 w-4 text-gray-400"}),s.jsx("input",{value:v,onChange:e=>f(e.target.value),className:"flex-1 border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Konu, gönderen veya alıcı ara..."})]}),s.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(n,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filtreler:"})]}),s.jsxs("select",{value:y,onChange:e=>w(e.target.value),className:"border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white",children:[s.jsx("option",{value:"all",children:"Tüm Durumlar"}),s.jsx("option",{value:"sent",children:"Gönderildi"}),s.jsx("option",{value:"delivered",children:"Teslim Edildi"}),s.jsx("option",{value:"read",children:"Okundu"}),s.jsx("option",{value:"failed",children:"Başarısız"})]}),s.jsxs("select",{value:k,onChange:e=>M(e.target.value),className:"border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white",children:[s.jsx("option",{value:"all",children:"Tüm Türler"}),s.jsx("option",{value:"sms",children:"SMS"}),s.jsx("option",{value:"email",children:"E-posta"}),s.jsx("option",{value:"notification",children:"Bildirim"})]}),s.jsxs("select",{value:S,onChange:e=>T(e.target.value),className:"border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white",children:[s.jsx("option",{value:"all",children:"Tüm Öncelikler"}),s.jsx("option",{value:"low",children:"Düşük"}),s.jsx("option",{value:"normal",children:"Normal"}),s.jsx("option",{value:"high",children:"Yüksek"}),s.jsx("option",{value:"urgent",children:"Acil"})]}),s.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 px-3 py-2 rounded-lg",children:[s.jsx(i,{className:"h-4 w-4 text-gray-400"}),s.jsxs("select",{className:"bg-transparent border-0 text-sm focus:outline-none",children:[s.jsx("option",{value:"today",children:"Bugün"}),s.jsx("option",{value:"week",children:"Bu Hafta"}),s.jsx("option",{value:"month",children:"Bu Ay"}),s.jsx("option",{value:"all",children:"Tüm Zamanlar"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsx("div",{className:"bg-white p-4 rounded-lg border",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(d,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Toplam Mesaj"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:L.length}),s.jsx("p",{className:"text-xs text-gray-500",children:"Son 30 gün"})]})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg border",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx(c,{className:"h-5 w-5 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Başarılı"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:L.filter(e=>"delivered"===e.status||"read"===e.status).length}),s.jsxs("p",{className:"text-xs text-gray-500",children:["%",(L.filter(e=>"delivered"===e.status||"read"===e.status).length/L.length*100).toFixed(1)]})]})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg border",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:s.jsx(x,{className:"h-5 w-5 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Beklemede"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:L.filter(e=>"sent"===e.status).length}),s.jsx("p",{className:"text-xs text-gray-500",children:"İşleniyor"})]})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg border",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:s.jsx(g,{className:"h-5 w-5 text-red-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Başarısız"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:L.filter(e=>"failed"===e.status).length}),s.jsx("p",{className:"text-xs text-gray-500",children:"Tekrar denenecek"})]})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg border",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:s.jsx(j,{className:"h-5 w-5 text-orange-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Acil"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:L.filter(e=>"urgent"===e.priority).length}),s.jsx("p",{className:"text-xs text-gray-500",children:"Öncelikli"})]})]})})]}),s.jsx("div",{className:"bg-white rounded-lg border",children:s.jsx(m,{columns:K,data:Y})}),s.jsx(u,{isOpen:B,onClose:()=>D(!1),title:"Mesaj Detayları",children:C&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Konu"}),s.jsx("p",{className:"text-sm text-gray-900",children:C.subject})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Durum"}),s.jsxs("div",{className:"flex items-center gap-2",children:[z(C.status),s.jsx("span",{className:"text-sm",children:"sent"===C.status?"Gönderildi":"delivered"===C.status?"Teslim Edildi":"read"===C.status?"Okundu":"Başarısız"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gönderen"}),s.jsx("p",{className:"text-sm text-gray-900",children:C.sender})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alıcı"}),s.jsx("p",{className:"text-sm text-gray-900",children:C.recipient})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tür"}),F(C.type)]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Öncelik"}),O(C.priority)]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tarih"}),s.jsxs("p",{className:"text-sm text-gray-900",children:[C.date," ",C.time]})]}),C.group&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Grup"}),s.jsx("p",{className:"text-sm text-gray-900",children:C.group})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mesaj İçeriği"}),s.jsx("div",{className:"bg-gray-50 p-3 rounded border",children:s.jsx("p",{className:"text-sm text-gray-900 whitespace-pre-wrap",children:C.content})})]})]})}),s.jsx(u,{isOpen:G,onClose:()=>E(!1),title:"Yeni Mesaj Oluştur",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mesaj Türü"}),s.jsxs("select",{className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"notification",children:"Bildirim"}),s.jsx("option",{value:"sms",children:"SMS"}),s.jsx("option",{value:"email",children:"E-posta"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Öncelik"}),s.jsxs("select",{className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"normal",children:"Normal"}),s.jsx("option",{value:"low",children:"Düşük"}),s.jsx("option",{value:"high",children:"Yüksek"}),s.jsx("option",{value:"urgent",children:"Acil"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alıcı"}),s.jsx("input",{type:"text",className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Alıcı adı veya grup seçin"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Konu"}),s.jsx("input",{type:"text",className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Mesaj konusu"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mesaj İçeriği"}),s.jsx("textarea",{rows:4,className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Mesaj içeriğini yazın..."})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx("button",{onClick:()=>E(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"İptal"}),s.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Gönder"})]})]})})]})}export{v as default};
