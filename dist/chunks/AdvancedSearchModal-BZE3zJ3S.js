var e=Object.defineProperty,t=(t,i,r)=>((t,i,r)=>i in t?e(t,i,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[i]=r)(t,"symbol"!=typeof i?i+"":i,r);import{r as i,j as r,c as s,X as a,a0 as n,s as l,F as d,S as o}from"../assets/index-CzvAnh9f.js";import{i as c,e as m,s as u}from"./sanitization-DKE2yZnW.js";class h{constructor(e,i=[],r=[],s=[]){t(this,"fields"),t(this,"dependencies"),t(this,"groups"),t(this,"validationRules"),t(this,"_visibleFieldsCache"),this.fields=e,this.dependencies=i,this.groups=r,this.validationRules=s}getVisibleFields(e){var t;const i=JSON.stringify(Object.keys(e).sort());if((null==(t=this._visibleFieldsCache)?void 0:t.key)===i)return this._visibleFieldsCache.fields;const r=this.fields.filter(t=>{const i=this.dependencies.find(e=>e.field===t.key);if(!i)return!0;const r=e[i.dependsOn];return this.evaluateCondition(r,i.condition)});return this._visibleFieldsCache={key:i,fields:r},r}getEnabledFields(e){const t=[];return this.fields.forEach(i=>{const r=this.dependencies.find(e=>e.field===i.key&&"enable"===e.action);if(!r)return void t.push(i.key);const s=e[r.dependsOn];this.evaluateCondition(s,r.condition)&&t.push(i.key)}),t}getFieldsToClear(e,t){const i=[];return this.dependencies.forEach(r=>{r.dependsOn===e&&"clear"===r.action&&(this.evaluateCondition(t,r.condition)||i.push(r.field))}),i}validateFilters(e){const t={},i=this.getVisibleFields(e),r=this.getEnabledFields(e);for(const s of i){if(!r.includes(s.key))continue;const i=e[s.key],a=this.validationRules.find(e=>e.field===s.key);if(a)if(a.rules.required&&this.isEmpty(i))t[s.key]=`${s.label} alanı zorunludur`;else if(!this.isEmpty(i)){if("number"==typeof i){if(void 0!==a.rules.min&&i<a.rules.min){t[s.key]=`${s.label} en az ${a.rules.min} olmalıdır`;continue}if(void 0!==a.rules.max&&i>a.rules.max){t[s.key]=`${s.label} en fazla ${a.rules.max} olmalıdır`;continue}}if("string"==typeof i){if(void 0!==a.rules.min&&i.length<a.rules.min){t[s.key]=`${s.label} en az ${a.rules.min} karakter olmalıdır`;continue}if(void 0!==a.rules.max&&i.length>a.rules.max){t[s.key]=`${s.label} en fazla ${a.rules.max} karakter olmalıdır`;continue}}if(a.rules.pattern&&"string"==typeof i&&!new RegExp(a.rules.pattern).test(i)){t[s.key]=`${s.label} geçerli bir format değil`;continue}if(a.rules.custom){const r=a.rules.custom(i,e);if(r){t[s.key]=r;continue}}}}return{isValid:0===Object.keys(t).length,errors:t}}getGroupedFields(e){const t=this.getVisibleFields(e),i=[],r=new Set;this.groups.forEach(e=>{const s=t.filter(t=>e.fields.includes(t.key));s.length>0&&(i.push({group:e,fields:s}),s.forEach(e=>r.add(e.key)))});const s=t.filter(e=>!r.has(e.key));return s.length>0&&i.push({group:null,fields:s}),i}applyFilterChange(e,t,i){const r={...e,[t]:i};return this.getFieldsToClear(t,i).forEach(e=>{delete r[e]}),r}buildQueryParams(e){const t={},i=this.getVisibleFields(e),r=this.getEnabledFields(e),s=Object.entries(e).filter(([,e])=>!this.isEmpty(e));for(const a of i){if(!r.includes(a.key))continue;const e=s.find(([e])=>e===a.key);if(!e)continue;const[,i]=e;switch(a.type){case"multiSelect":Array.isArray(i)&&i.length>0&&(t[a.key]=i);break;case"dateRange":i&&i.start&&i.end&&(t[`${a.key}_start`]=i.start,t[`${a.key}_end`]=i.end);break;case"numberRange":!i||void 0===i.min&&void 0===i.max||(void 0!==i.min&&(t[`${a.key}_min`]=i.min),void 0!==i.max&&(t[`${a.key}_max`]=i.max));break;default:t[a.key]=i}}return t}evaluateCondition(e,t){const{operator:i,value:r}=t;switch(i){case"equals":return e===r;case"not_equals":return e!==r;case"contains":return"string"==typeof e&&"string"==typeof r&&e.includes(r);case"not_contains":return"string"==typeof e&&"string"==typeof r&&!e.includes(r);case"greater_than":return"number"==typeof e&&"number"==typeof r&&e>r;case"less_than":return"number"==typeof e&&"number"==typeof r&&e<r;case"in":return Array.isArray(r)&&r.includes(e);case"not_in":return Array.isArray(r)&&!r.includes(e);default:return!1}}isEmpty(e){return null==e||""===e||(Array.isArray(e)?0===e.length:"object"==typeof e&&(0===Object.keys(e).length||Object.values(e).every(e=>null==e||""===e)))}resetFilters(){const e={};return this.fields.forEach(t=>{switch(t.type){case"multiSelect":e[t.key]=void 0!==t.defaultValue?t.defaultValue:[];break;case"numberRange":case"dateRange":e[t.key]=void 0!==t.defaultValue?t.defaultValue:{};break;default:e[t.key]=void 0!==t.defaultValue?t.defaultValue:""}}),e}static resetFilters(e){const t={};return e.forEach(e=>{switch(e.type){case"multiSelect":t[e.key]=void 0!==e.defaultValue?e.defaultValue:[];break;case"numberRange":case"dateRange":t[e.key]=void 0!==e.defaultValue?e.defaultValue:{};break;default:t[e.key]=void 0!==e.defaultValue?e.defaultValue:""}}),t}static buildFilterQuery(e){const t={};return Object.entries(e).forEach(([e,i])=>{null!=i&&""!==i&&(Array.isArray(i)?i.length>0&&(t[e]=i):"object"==typeof i?i.from&&i.to?(t[`${e}_from`]=i.from,t[`${e}_to`]=i.to):void 0!==i.min||void 0!==i.max?(void 0!==i.min&&(t[`${e}_min`]=i.min),void 0!==i.max&&(t[`${e}_max`]=i.max)):Object.keys(i).length>0&&(t[e]=i):t[e]=i)}),t}static getVisibleFields(e){return e.filter(e=>!1!==e.visible)}static validateFilters(e,t,i=[]){const r={};for(const s of t){const t=e[s.key],i=s.validation;if(i)if(!i.required||t&&""!==t){if(t&&""!==t)if(i.minLength&&"string"==typeof t&&t.length<i.minLength)r[s.key]=`En az ${i.minLength} karakter olmalıdır`;else{if(i.pattern&&"string"==typeof t&&!new RegExp(i.pattern).test(t)){r[s.key]="Geçerli bir email adresi girin";continue}if("number"==typeof t){if(void 0!==i.min&&t<i.min){r[s.key]=`Minimum değer ${i.min} olmalıdır`;continue}if(void 0!==i.max&&t>i.max){r[s.key]=`Maksimum değer ${i.max} olmalıdır`;continue}}}}else r[s.key]="Bu alan zorunludur"}for(const s of i)if(s.rules.custom){const t=e[s.field],i=s.rules.custom(t,e);i&&(r[s.field]=i)}return r}static applyDependencies(e,t,i){return e.map(e=>{const r=i.filter(t=>t.field===e.key);if(0===r.length)return{...e,visible:!0,enabled:!0};let s=!1!==e.visible,a=!1!==e.enabled;for(const i of r){const e=t[i.dependsOn],r=h.evaluateCondition(e,i.condition);"show"===i.action?s=s&&r:"hide"===i.action?s=s&&!r:"enable"===i.action?a=a&&r:"disable"===i.action&&(a=a&&!r)}return{...e,visible:s,enabled:a}})}static evaluateCondition(e,t){const{operator:i,value:r}=t;switch(i){case"equals":return e===r;case"not_equals":return e!==r;case"contains":return"string"==typeof e&&"string"==typeof r&&e.includes(r);case"not_contains":return"string"==typeof e&&"string"==typeof r&&!e.includes(r);case"greater_than":return"number"==typeof e&&"number"==typeof r&&e>r;case"less_than":return"number"==typeof e&&"number"==typeof r&&e<r;case"greater_than_or_equal":return"number"==typeof e&&"number"==typeof r&&e>=r;case"less_than_or_equal":return"number"==typeof e&&"number"==typeof r&&e<=r;case"in":return Array.isArray(r)&&r.includes(e);case"not_in":return Array.isArray(r)&&!r.includes(e);case"not_empty":return null!=e&&""!==e;case"empty":return null==e||""===e;default:return!1}}}const v=()=>({fields:[{key:"name",label:"Ad Soyad",type:"text",placeholder:"Yararlanıcı adı ara..."},{key:"status",label:"Durum",type:"select",options:[{value:"active",label:"Aktif"},{value:"inactive",label:"Pasif"},{value:"pending",label:"Beklemede"}]},{key:"categories",label:"Kategoriler",type:"multiSelect",options:[{value:"education",label:"Eğitim"},{value:"health",label:"Sağlık"},{value:"food",label:"Gıda"},{value:"shelter",label:"Barınma"}]},{key:"ageRange",label:"Yaş Aralığı",type:"numberRange",validation:{min:0,max:120}},{key:"registrationDate",label:"Kayıt Tarihi",type:"dateRange"},{key:"priority",label:"Öncelik",type:"select",options:[{value:"high",label:"Yüksek"},{value:"medium",label:"Orta"},{value:"low",label:"Düşük"}]},{key:"hasActiveApplication",label:"Aktif Başvuru Var",type:"select",options:[{value:"true",label:"Evet"},{value:"false",label:"Hayır"}]}],dependencies:[{field:"priority",dependsOn:"status",condition:{operator:"equals",value:"active"},action:"show"}],groups:[{id:"basic",key:"basic",label:"Temel Bilgiler",fields:["name","status","categories"],operator:"AND"},{id:"demographics",key:"demographics",label:"Demografik Bilgiler",fields:["ageRange","registrationDate"],operator:"AND",collapsible:!0,defaultCollapsed:!0},{id:"advanced",key:"advanced",label:"Gelişmiş Filtreler",fields:["priority","hasActiveApplication"],operator:"AND",collapsible:!0,defaultCollapsed:!0}],validationRules:[{field:"ageRange",rules:{custom:e=>{if(e&&"object"==typeof e&&null!==e&&"min"in e&&"max"in e){const t=e;if(t.min&&t.max&&t.min>t.max)return"Minimum yaş maksimum yaştan büyük olamaz"}return null}}}]});class b{constructor(e){t(this,"config"),this.config={paramPrefix:"filter_",encodeValues:!0,excludeEmpty:!0,dateFormat:"iso",...e}}filtersToURL(e){const t=new URLSearchParams;Object.entries(e).forEach(([e,i])=>{if(this.config.excludeEmpty&&this.isEmpty(i))return;const r=this.config.paramPrefix+e,s=this.serializeValue(i);null!==s&&t.set(r,s)});const i=t.toString();return i?`${this.config.baseUrl}?${i}`:this.config.baseUrl}urlToFilters(e){const t={};try{if(!c(e))return{};let i;if(e.startsWith("http://")||e.startsWith("https://"))i=m(e);else{const t="undefined"!=typeof window?window.location.origin:"http://localhost";i=m(e,t)}if(!i)return{};i.searchParams.forEach((e,i)=>{if(i.startsWith(this.config.paramPrefix||"")){const r=i.replace(this.config.paramPrefix||"",""),s=u(e),a=this.deserializeValue(s);null!==a&&(t[r]=a)}})}catch(i){}return t}getCurrentFilters(){return"undefined"==typeof window?{}:this.urlToFilters(window.location.href)}updateBrowserURL(e,t=!1){if("undefined"==typeof window)return;const i=this.filtersToURL(e);(c(i)||i.startsWith("/"))&&(t?window.history.replaceState({},"",i):window.history.pushState({},"",i))}generateShareableURL(e,t){try{const i=this.filtersToURL(e);if(t){if(!c(t))return i;const e=m(i,t);return e?e.toString():i}if("undefined"!=typeof window&&window.location&&window.location.origin){const e=m(i,window.location.origin);return e?e.toString():i}return i}catch(i){return""}}parseShareableURL(e){return this.urlToFilters(e)}createFilteredURL(e,t){const i={...e,...t};return this.filtersToURL(i)}removeFiltersFromURL(e,t){const i={...e};return t.forEach(e=>{delete i[e]}),this.filtersToURL(i)}hasFilters(){const e=this.getCurrentFilters();return Object.keys(e).length>0}clearFiltersFromURL(e=!1){if("undefined"==typeof window)return;const t=this.config.baseUrl;e?window.history.replaceState({},"",t):window.history.pushState({},"",t)}onURLChange(e){if("undefined"==typeof window)return()=>{};const t=()=>{const t=this.getCurrentFilters();e(t)};return window.addEventListener("popstate",t),()=>{window.removeEventListener("popstate",t)}}validateURLFilters(e,t){const i={};return Object.entries(e).forEach(([e,r])=>{t.includes(e)&&(i[e]=r)}),i}serializeValue(e){if(this.isEmpty(e))return null;try{if("string"==typeof e)return this.config.encodeValues?encodeURIComponent(e):e;if("number"==typeof e||"boolean"==typeof e)return String(e);if(e instanceof Date)switch(this.config.dateFormat){case"timestamp":return String(e.getTime());case"date":return e.toISOString().split("T")[0];default:return e.toISOString()}if(Array.isArray(e)){const t=e.filter(e=>!this.isEmpty(e)).map(e=>this.serializeValue(e)).filter(e=>null!==e);return t.length>0?t.join(","):null}if("object"==typeof e&&null!==e){if("start"in e&&"end"in e&&e.start&&e.end){const t=this.serializeValue(e.start),i=this.serializeValue(e.end);return t&&i?`${t}|${i}`:null}if("min"in e||"max"in e){return`${"min"in e&&void 0!==e.min?String(e.min):""}|${"max"in e&&void 0!==e.max?String(e.max):""}`}return JSON.stringify(e)}return String(e)}catch(t){return null}}deserializeValue(e){if(!e)return null;try{const t=this.config.encodeValues?decodeURIComponent(e):e;if(t.includes(",")&&!t.includes("|"))return t.split(",").map(e=>{const t=e.trim();return this.parseSimpleValue(t)});if(t.includes("|")){const[e,i]=t.split("|");return this.isDateString(e)||this.isDateString(i)?{start:e?this.parseDate(e):null,end:i?this.parseDate(i):null}:this.isNumeric(e)||this.isNumeric(i)?{min:e?Number(e):void 0,max:i?Number(i):void 0}:{start:e||null,end:i||null}}return t.startsWith("{")&&t.endsWith("}")||t.startsWith("[")&&t.endsWith("]")?JSON.parse(t):this.parseSimpleValue(t)}catch(t){return e}}parseSimpleValue(e){return"true"===e||"false"!==e&&(this.isNumeric(e)?Number(e):this.isDateString(e)?this.parseDate(e):e)}parseDate(e){try{if("timestamp"===this.config.dateFormat&&this.isNumeric(e))return new Date(Number(e));const t=new Date(e);return isNaN(t.getTime())?null:t}catch{return null}}isNumeric(e){return!isNaN(Number(e))&&!isNaN(parseFloat(e))}isDateString(e){if(!e)return!1;if(/^\d{4}-\d{2}-\d{2}(T\d{2}:\d{2}:\d{2}(\.\d{3})?Z?)?$/.test(e))return!0;if("timestamp"===this.config.dateFormat&&this.isNumeric(e)){const t=Number(e);return t>0&&t<2*Date.now()}return!1}isEmpty(e){return null==e||""===e||(Array.isArray(e)?0===e.length:"object"==typeof e&&(0===Object.keys(e).length||Object.values(e).every(e=>null==e||""===e)))}}const p=()=>({baseUrl:"/beneficiaries",paramPrefix:"bf_",encodeValues:!0,excludeEmpty:!0,dateFormat:"iso"});class f{constructor(e){t(this,"config"),t(this,"storageKey"),this.config={maxSavedFilters:50,enableCloud:!1,...e},this.storageKey=e.userId?`${e.storageKey}_${e.userId}`:e.storageKey}async saveFilter(e){const t=await this.getSavedFilters();if(t.length>=(this.config.maxSavedFilters||50))throw new Error(`Maksimum ${this.config.maxSavedFilters} adet filtre kaydedebilirsiniz`);if(t.some(t=>t.name===e.name&&t.pageType===e.pageType))throw new Error("Bu isimde bir filtre zaten mevcut");const i={...e,id:this.generateId(),createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),usageCount:0,lastUsed:(new Date).toISOString()},r=[...t,i];return await this.storeSavedFilters(r),i}async getSavedFilters(e){try{const t=localStorage.getItem(this.storageKey),i=t?JSON.parse(t):[];return e?i.filter(t=>t.pageType===e):i}catch(t){return[]}}async getSavedFilter(e){return(await this.getSavedFilters()).find(t=>t.id===e)||null}async updateSavedFilter(e,t){const i=await this.getSavedFilters(),r=i.findIndex(t=>t.id===e);if(-1===r)throw new Error("Filtre bulunamadı");if(t.name&&t.name!==i[r].name&&i.some((e,s)=>s!==r&&e.name===t.name&&e.pageType===i[r].pageType))throw new Error("Bu isimde bir filtre zaten mevcut");const s={...i[r],...t,updatedAt:(new Date).toISOString()};return i[r]=s,await this.storeSavedFilters(i),s}async deleteSavedFilter(e){const t=await this.getSavedFilters(),i=t.filter(t=>t.id!==e);return i.length!==t.length&&(await this.storeSavedFilters(i),!0)}async loadSavedFilter(e){const t=await this.getSavedFilter(e);return t?(await this.updateSavedFilter(e,{usageCount:t.usageCount+1,lastUsed:(new Date).toISOString()}),t):null}async getRecentFilters(e,t=5){return(await this.getSavedFilters(e)).filter(e=>e.usageCount>0).sort((e,t)=>new Date(t.lastUsed).getTime()-new Date(e.lastUsed).getTime()).slice(0,t)}async getPopularFilters(e,t=5){return(await this.getSavedFilters(e)).filter(e=>e.usageCount>0).sort((e,t)=>t.usageCount-e.usageCount).slice(0,t)}async searchSavedFilters(e,t){const i=await this.getSavedFilters(t),r=e.toLowerCase();return i.filter(e=>e.name.toLowerCase().includes(r)||e.description&&e.description.toLowerCase().includes(r))}async exportSavedFilters(e){const t=await this.getSavedFilters(e);return JSON.stringify(t,null,2)}async importSavedFilters(e,t=!1){try{const i=JSON.parse(e);if(!Array.isArray(i))throw new Error("Geçersiz veri formatı");const r=await this.getSavedFilters();let s;if(t)s=i.map(e=>({...e,id:this.generateId(),createdAt:e.createdAt,updatedAt:(new Date).toISOString(),lastUsed:e.lastUsed}));else{const e=new Set(r.map(e=>`${e.name}_${e.pageType}`)),t=i.filter(t=>!e.has(`${t.name}_${t.pageType}`));s=[...r,...t.map(e=>({...e,id:this.generateId(),createdAt:e.createdAt,updatedAt:(new Date).toISOString(),lastUsed:e.lastUsed}))]}return await this.storeSavedFilters(s),t?i.length:s.length-r.length}catch(i){throw new Error("Filtreler içe aktarılırken hata oluştu: "+i.message)}}async clearAllSavedFilters(e){if(e){const t=await this.getSavedFilters(),i=t.filter(t=>t.pageType!==e),r=t.length-i.length;return await this.storeSavedFilters(i),r}{const e=(await this.getSavedFilters()).length;return localStorage.removeItem(this.storageKey),e}}async getStorageStats(){const e=await this.getSavedFilters(),t=JSON.stringify(e).length,i={};let r,s;return e.forEach(e=>{i[e.pageType]=(i[e.pageType]||0)+1,(!r||e.createdAt<r)&&(r=e.createdAt),(!s||e.createdAt>s)&&(s=e.createdAt)}),{totalFilters:e.length,totalSize:t,filtersByPage:i,oldestFilter:r,newestFilter:s}}async storeSavedFilters(e){try{localStorage.setItem(this.storageKey,JSON.stringify(e))}catch(t){throw new Error("Filtreler kaydedilirken hata oluştu: "+t.message)}}generateId(){return`filter_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}}const x=i.memo(function({isOpen:e,onClose:t,onApplyFilters:c,fields:m,initialFilters:u={},savedFilters:v=[],quickFilters:p=[],onSaveFilter:x,onDeleteFilter:N,onLoadFilter:g,title:y="Gelişmiş Arama",pageType:S,enableURLSync:k=!0,enableExport:A=!1,onExport:E,dependencies:D=[],groups:j=[],validationRules:w=[],urlConfig:U,savedFiltersConfig:V}){const[M,F]=i.useState(u),[C,O]=i.useState(""),[R,$]=i.useState(!1),[T,z]=i.useState("filters"),[_,L]=i.useState({}),[I,q]=i.useState(!1),[K,B]=i.useState(null),P=i.useMemo(()=>new h(m,D,j,w),[m,D,j,w]),J=i.useMemo(()=>U?new b(U):null,[U]),G=i.useMemo(()=>V?new f(V):null,[V]);i.useEffect(()=>{e&&F(u)},[e,u]),i.useEffect(()=>{if(k&&e&&J){const e=J.getCurrentFilters(),{errors:t}=P.validateFilters(e);Object.keys(t).length>0&&F(t=>({...t,...e}))}},[e,k,J,P,m]),i.useEffect(()=>{if(k&&J)return J.onURLChange(e=>{const{errors:t}=P.validateFilters(e);0===Object.keys(t).length&&(F(e),L({}))})},[k,J,P,m]);const H=i.useCallback(e=>{const{errors:t}=P.validateFilters(e);return L(t),0===Object.keys(t).length},[P]),W=i.useMemo(()=>function(){let e=null;return function(...t){null!==e&&clearTimeout(e),e=setTimeout(()=>{e=null,(e=>{k&&J&&J.updateBrowserURL(e,!0)})(...t)},300)}}(),[k,J]),Q=i.useCallback((e,t)=>{const i=P.applyFilterChange(M,e,t);F(i);const r=Object.keys(M).filter(e=>!(e in i));(_[e]||r.some(e=>_[e]))&&L(t=>{const i={...t};return delete i[e],r.forEach(e=>delete i[e]),i}),W(i)},[P,M,_,W]),Y=i.useCallback(async()=>{try{q(!0),B(null),H(M)&&(await c(M),t())}catch(e){B(e instanceof Error?e.message:"Filtreler uygulanırken bir hata oluştu")}finally{q(!1)}},[M,c,t,H]),Z=i.useCallback(()=>{const e={};F(e),L({}),W(e)},[W]),X=i.useCallback(async(e=!1)=>{if(C.trim()&&x&&H(M))try{if(q(!0),B(null),G){const t={id:Date.now().toString(),name:C.trim(),filters:M,createdAt:(new Date).toISOString(),pageType:S,isQuickFilter:e,updatedAt:(new Date).toISOString(),usageCount:0,lastUsed:(new Date).toISOString()};await G.saveFilter(t)}x({name:C.trim(),description:"",filters:M,pageType:S,isQuickFilter:e||!1,updatedAt:(new Date).toISOString(),usageCount:0,lastUsed:(new Date).toISOString()}),O(""),$(!1)}catch(t){B(t instanceof Error?t.message:"Filtre kaydedilirken bir hata oluştu")}finally{q(!1)}},[C,x,H,M,G,S]),ee=e=>{G&&G.loadSavedFilter(e.id),F(e.filters),L({}),W(e.filters),g&&g(e),z("filters")},te=e=>{var t,i,s,a,n,l,d,o,c,m,u,h,v,b,p;const f=M[e.key]||("multiSelect"===e.type?[]:"dateRange"===e.type||"numberRange"===e.type?{}:""),x=!!_[e.key],N=P.getVisibleFields(M),g=P.getEnabledFields(M),y=N.some(t=>t.key===e.key),S=g.includes(e.key);if(!y)return null;if(e.conditional&&M[e.conditional.field]!==e.conditional.value)return null;const k="w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white "+(x?"border-red-500":"border-gray-300 dark:border-gray-600");switch(e.type){case"text":case"number":return r.jsxDEV("div",{className:"space-y-1",children:[r.jsxDEV("input",{type:"number"===e.type?"number":"text",placeholder:e.placeholder||e.label,value:f,onChange:t=>Q(e.key,t.target.value),disabled:!S,className:`${k} ${S?"":"bg-gray-100 cursor-not-allowed"}`,min:null==(t=e.validation)?void 0:t.min,max:null==(i=e.validation)?void 0:i.max,pattern:null==(s=e.validation)?void 0:s.pattern},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:297,columnNumber:13},this),x&&r.jsxDEV("p",{className:"text-sm text-red-500",children:x},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:309,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:296,columnNumber:11},this);case"select":return r.jsxDEV("div",{className:"space-y-1",children:[r.jsxDEV("select",{value:f,onChange:t=>Q(e.key,t.target.value),disabled:!S,className:`${k} ${S?"":"bg-gray-100 cursor-not-allowed"}`,children:[r.jsxDEV("option",{value:"",children:"Tümü"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:323,columnNumber:15},this),null==(a=e.options)?void 0:a.map(e=>r.jsxDEV("option",{value:e.value,children:e.label},e.value,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:325,columnNumber:15},this))]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:317,columnNumber:13},this),x&&r.jsxDEV("p",{className:"text-sm text-red-500",children:x},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:331,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:316,columnNumber:11},this);case"multiSelect":return r.jsxDEV("div",{className:"space-y-1",children:[r.jsxDEV("div",{className:"border rounded-md p-2 max-h-32 overflow-y-auto",children:null==(n=e.options)?void 0:n.map(t=>r.jsxDEV("label",{className:"flex items-center space-x-2 py-1",children:[r.jsxDEV("input",{type:"checkbox",checked:Array.isArray(f)&&f.includes(t.value),onChange:i=>{const r=Array.isArray(f)?f:[];i.target.checked?Q(e.key,[...r,t.value]):Q(e.key,r.filter(e=>e!==t.value))},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:342,columnNumber:19},this),r.jsxDEV("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:t.label},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:355,columnNumber:19},this)]},t.value,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:341,columnNumber:15},this))},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:339,columnNumber:13},this),x&&r.jsxDEV("p",{className:"text-sm text-red-500",children:x},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:360,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:338,columnNumber:11},this);case"numberRange":return r.jsxDEV("div",{className:"space-y-1",children:[r.jsxDEV("div",{className:"flex gap-2",children:[r.jsxDEV("input",{type:"number",placeholder:"Min",value:(null==f?void 0:f.min)||"",onChange:t=>Q(e.key,{...f,min:t.target.value}),className:k,min:null==(l=e.validation)?void 0:l.min,max:null==(d=e.validation)?void 0:d.max},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:369,columnNumber:15},this),r.jsxDEV("input",{type:"number",placeholder:"Max",value:(null==f?void 0:f.max)||"",onChange:t=>Q(e.key,{...f,max:t.target.value}),className:k,min:null==(o=e.validation)?void 0:o.min,max:null==(c=e.validation)?void 0:c.max},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:380,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:368,columnNumber:13},this),x&&r.jsxDEV("p",{className:"text-sm text-red-500",children:x},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:393,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:367,columnNumber:11},this);case"dateRange":return r.jsxDEV("div",{className:"space-y-1",children:[r.jsxDEV("div",{className:"flex gap-2",children:[r.jsxDEV("input",{type:"date",value:(null==f?void 0:f.start)||"",onChange:t=>Q(e.key,{...f,start:t.target.value}),className:`flex-1 ${k}`,placeholder:"Başlangıç",min:null==(m=e.validation)?void 0:m.min,max:null==(u=e.validation)?void 0:u.max},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:402,columnNumber:15},this),r.jsxDEV("input",{type:"date",value:(null==f?void 0:f.end)||"",onChange:t=>Q(e.key,{...f,end:t.target.value}),className:`flex-1 ${k}`,placeholder:"Bitiş",min:null==(h=e.validation)?void 0:h.min,max:null==(v=e.validation)?void 0:v.max},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:413,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:401,columnNumber:13},this),x&&r.jsxDEV("p",{className:"text-sm text-red-500",children:x},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:426,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:400,columnNumber:11},this);case"date":return r.jsxDEV("div",{className:"space-y-1",children:[r.jsxDEV("input",{type:"date",value:f,onChange:t=>Q(e.key,t.target.value),className:k,min:null==(b=e.validation)?void 0:b.min,max:null==(p=e.validation)?void 0:p.max},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:434,columnNumber:13},this),x&&r.jsxDEV("p",{className:"text-sm text-red-500",children:x},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:443,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:433,columnNumber:11},this);default:return null}};return e?r.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxDEV("div",{"data-testid":"advanced-search-modal",className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[r.jsxDEV("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsxDEV("div",{className:"flex items-center space-x-4",children:[r.jsxDEV("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:y},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:461,columnNumber:13},this),S&&r.jsxDEV("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full dark:bg-blue-900 dark:text-blue-200",children:S},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:465,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:460,columnNumber:11},this),r.jsxDEV("div",{className:"flex items-center space-x-2",children:[A&&E&&r.jsxDEV("button",{onClick:()=>E(M,"csv"),className:"px-3 py-1 text-sm bg-green-600 text-white rounded-md hover:bg-green-700 flex items-center space-x-1",children:r.jsxDEV("span",{children:"Dışa Aktar"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:476,columnNumber:17},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:472,columnNumber:13},this),r.jsxDEV(s,{variant:"ghost",size:"icon",onClick:t,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:r.jsxDEV(a,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:485,columnNumber:15},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:479,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:470,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:459,columnNumber:9},this),r.jsxDEV("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:[r.jsxDEV("button",{onClick:()=>z("filters"),className:"px-6 py-3 text-sm font-medium border-b-2 "+("filters"===T?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"),children:"Filtreler"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:492,columnNumber:11},this),r.jsxDEV("button",{onClick:()=>z("saved"),className:"px-6 py-3 text-sm font-medium border-b-2 "+("saved"===T?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"),children:["Kayıtlı Filtreler (",v.length,")"]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:502,columnNumber:11},this),p&&p.length>0&&r.jsxDEV("button",{onClick:()=>z("quick"),className:"px-6 py-3 text-sm font-medium border-b-2 "+("quick"===T?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"),children:"Hızlı Filtreler"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:513,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:491,columnNumber:9},this),r.jsxDEV("div",{className:"flex h-[calc(90vh-120px)]",children:["filters"===T&&r.jsxDEV("div",{className:"flex-1 p-6 overflow-y-auto",children:[Object.keys(_).length>0&&r.jsxDEV("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg dark:bg-red-900/20 dark:border-red-800",children:[r.jsxDEV("h4",{className:"text-sm font-medium text-red-800 dark:text-red-200 mb-2",children:"Lütfen aşağıdaki hataları düzeltin:"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:533,columnNumber:19},this),r.jsxDEV("ul",{className:"text-sm text-red-700 dark:text-red-300 space-y-1",children:Object.entries(_).map(([e,t])=>r.jsxDEV("li",{children:["• ",t]},e,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:538,columnNumber:17},this))},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:536,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:532,columnNumber:13},this),r.jsxDEV("div",{className:"space-y-6",children:[P.getGroupedFields(M).filter(e=>e.group).map(e=>r.jsxDEV("div",{className:"space-y-4",children:[e.group.label&&r.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 border-b border-gray-200 pb-2",children:e.group.label},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:548,columnNumber:17},this),r.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.fields.map(e=>{var t;return r.jsxDEV("div",{className:"space-y-2",children:[r.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:[e.label,(null==(t=e.validation)?void 0:t.required)&&r.jsxDEV("span",{className:"text-red-500 ml-1",children:"*"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:557,columnNumber:60},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:555,columnNumber:27},this),te(e)]},e.key,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:554,columnNumber:19},this)})},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:552,columnNumber:21},this)]},e.group.id,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:546,columnNumber:15},this)),(()=>{const e=P.getGroupedFields(M).flatMap(e=>e.fields.map(e=>e.key)),t=m.filter(t=>!e.includes(t.key));return t.length>0?r.jsxDEV("div",{className:"space-y-4",children:r.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map(e=>{var t;return r.jsxDEV("div",{className:"space-y-2",children:[r.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:[e.label,(null==(t=e.validation)?void 0:t.required)&&r.jsxDEV("span",{className:"text-red-500 ml-1",children:"*"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:577,columnNumber:62},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:575,columnNumber:29},this),te(e)]},e.key,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:574,columnNumber:21},this)})},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:572,columnNumber:23},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:571,columnNumber:17},this):null})()]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:544,columnNumber:15},this),x&&r.jsxDEV("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:R?r.jsxDEV("div",{className:"flex items-center gap-2",children:[r.jsxDEV("input",{placeholder:"Filtre adı",value:C,onChange:e=>O(e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white",onKeyPress:e=>{"Enter"===e.key&&X()}},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:602,columnNumber:23},this),r.jsxDEV(s,{onClick:()=>X(),disabled:!C.trim(),children:"Kaydet"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:613,columnNumber:23},this),r.jsxDEV(s,{variant:"outline",onClick:()=>{$(!1),O("")},children:"İptal"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:616,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:601,columnNumber:15},this):r.jsxDEV(s,{variant:"outline",onClick:()=>$(!0),className:"flex items-center gap-2",children:[r.jsxDEV(n,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:597,columnNumber:23},this),"Filtreyi Kaydet"]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:592,columnNumber:15},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:590,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:529,columnNumber:11},this),"saved"===T&&r.jsxDEV("div",{className:"flex-1 p-6 overflow-y-auto",children:r.jsxDEV("div",{className:"space-y-4",children:[r.jsxDEV("div",{className:"flex items-center justify-between",children:[r.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Kayıtlı Filtreler"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:636,columnNumber:19},this),r.jsxDEV("div",{className:"flex items-center space-x-2",children:[G&&r.jsxDEV(r.Fragment,{children:[r.jsxDEV("button",{onClick:()=>{const e=document.createElement("input");e.type="file",e.accept=".json",e.onchange=e=>{var t;const i=null==(t=e.target.files)?void 0:t[0];if(i&&G){const e=new FileReader;e.onload=e=>{var t;try{const i=JSON.parse(null==(t=e.target)?void 0:t.result);G.importSavedFilters(i)}catch(i){}},e.readAsText(i)}},e.click()},className:"text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:"İçe Aktar"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:640,columnNumber:25},this),r.jsxDEV("button",{onClick:()=>{const e=G.exportSavedFilters(),t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),i=URL.createObjectURL(t),r=document.createElement("a");r.href=i,r.download=`saved-filters-${S}-${(new Date).toISOString().split("T")[0]}.json`,r.click(),URL.revokeObjectURL(i)},className:"text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:"Dışa Aktar"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:666,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:639,columnNumber:19},this),r.jsxDEV("button",{onClick:()=>{G&&G.clearAllSavedFilters()},className:"text-sm text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:"Tümünü Temizle"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:683,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:637,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:635,columnNumber:17},this),v.map(e=>r.jsxDEV("div",{className:"p-4 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 group",children:r.jsxDEV("div",{className:"flex items-start justify-between",children:[r.jsxDEV("div",{className:"flex-1 cursor-pointer",onClick:()=>ee(e),children:[r.jsxDEV("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsxDEV("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.name},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:704,columnNumber:27},this),e.isQuickFilter&&r.jsxDEV("span",{className:"px-2 py-1 text-xs bg-yellow-100 text-yellow-800 rounded-full dark:bg-yellow-900 dark:text-yellow-200",children:"Hızlı"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:708,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:703,columnNumber:25},this),r.jsxDEV("div",{className:"flex items-center space-x-4 text-xs text-gray-400 dark:text-gray-500",children:[r.jsxDEV("span",{children:["Oluşturulma: ",new Date(e.createdAt).toLocaleDateString("tr-TR")]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:714,columnNumber:27},this),e.lastUsed&&r.jsxDEV("span",{children:["Son kullanım: ",new Date(e.lastUsed).toLocaleDateString("tr-TR")]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:716,columnNumber:23},this),e.usageCount&&r.jsxDEV("span",{children:["Kullanım: ",e.usageCount]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:719,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:713,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:702,columnNumber:23},this),N&&r.jsxDEV("button",{onClick:t=>{t.stopPropagation(),N(e.id)},className:"opacity-0 group-hover:opacity-100 text-red-500 hover:text-red-700 p-1",children:r.jsxDEV(l,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:731,columnNumber:27},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:724,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:701,columnNumber:21},this)},e.id,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:697,columnNumber:15},this)),0===v.length&&r.jsxDEV("div",{className:"text-center py-12",children:[r.jsxDEV("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:"Henüz kayıtlı filtre yok"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:740,columnNumber:21},this),r.jsxDEV("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:"Filtrelerinizi kaydetmek için önce filtre oluşturun"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:743,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:739,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:634,columnNumber:15},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:633,columnNumber:11},this),"quick"===T&&p&&r.jsxDEV("div",{className:"flex-1 p-6 overflow-y-auto",children:r.jsxDEV("div",{className:"space-y-4",children:[r.jsxDEV("div",{className:"flex items-center justify-between",children:[r.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Hızlı Filtreler"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:756,columnNumber:19},this),G&&r.jsxDEV("button",{onClick:()=>{if(Object.keys(M).length>0){const e=prompt("Hızlı filtre adı:");e&&(O(e),X(!0))}},className:"text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:"Mevcut Filtreyi Hızlı Filtre Yap"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:758,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:755,columnNumber:17},this),p.length>0?r.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:p.map(e=>r.jsxDEV("button",{onClick:()=>{ee(e),G&&e.id&&G.loadSavedFilter(e.id)},className:"p-4 text-left bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg hover:from-blue-100 hover:to-indigo-100 transition-all duration-200 dark:from-blue-900/20 dark:to-indigo-900/20 dark:border-blue-700 dark:hover:from-blue-900/30 dark:hover:to-indigo-900/30",children:[r.jsxDEV("div",{className:"flex items-center justify-between",children:[r.jsxDEV("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-1",children:e.name},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:792,columnNumber:27},this),e.usageCount&&e.usageCount>0&&r.jsxDEV("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full dark:bg-blue-800 dark:text-blue-200",children:e.usageCount},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:796,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:791,columnNumber:25},this),r.jsxDEV("div",{className:"flex items-center justify-between mt-2 text-xs text-gray-500 dark:text-gray-400",children:[r.jsxDEV("span",{children:[Object.keys(e.filters).length," filtre"]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:802,columnNumber:27},this),e.lastUsed&&r.jsxDEV("span",{children:["Son: ",new Date(e.lastUsed).toLocaleDateString("tr-TR")]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:804,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:801,columnNumber:25},this)]},e.id,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:779,columnNumber:17},this))},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:777,columnNumber:15},this):r.jsxDEV("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[r.jsxDEV("p",{className:"mb-4",children:"Hızlı filtre bulunamadı"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:812,columnNumber:21},this),r.jsxDEV("p",{className:"text-sm",children:"Sık kullanılan filtrelerinizi hızlı erişim için kaydedin"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:813,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:811,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:754,columnNumber:15},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:753,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:526,columnNumber:9},this),r.jsxDEV("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 dark:border-gray-700",children:[K&&r.jsxDEV("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md dark:bg-red-900/20 dark:border-red-800",children:r.jsxDEV("p",{className:"text-sm text-red-600 dark:text-red-400",children:K},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:826,columnNumber:15},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:825,columnNumber:11},this),r.jsxDEV(s,{variant:"outline",onClick:Z,disabled:I,className:"flex items-center gap-2",children:[r.jsxDEV(d,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:836,columnNumber:13},this),"Filtreleri Temizle"]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:830,columnNumber:11},this),r.jsxDEV("div",{className:"flex items-center gap-2",children:[r.jsxDEV(s,{"data-testid":"close-modal",variant:"outline",onClick:t,disabled:I,children:"İptal"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:840,columnNumber:13},this),r.jsxDEV(s,{"data-testid":"apply-filters",onClick:Y,disabled:I,className:"flex items-center gap-2",children:[I?r.jsxDEV("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:845,columnNumber:15},this):r.jsxDEV(o,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:847,columnNumber:15},this),I?"Filtreleniyor...":"Filtrele"]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:843,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:839,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:822,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:457,columnNumber:7},this)},void 0,!1,{fileName:"/Users/idrishamid/nev/src/components/AdvancedSearchModal.tsx",lineNumber:456,columnNumber:5},this):null});export{x as A,v as a,p as c};
